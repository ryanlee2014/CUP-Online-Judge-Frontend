{"version":3,"sources":["webpack:///./src/mixin/TimerMixin.ts","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/dragscroll/dragscroll.js","webpack:///./src/mixin/init.ts","webpack:///./src/views/contest/ContestRank.vue?b6ea","webpack:///./src/util/logger.ts","webpack:///./src/module/Decorator/method.ts","webpack:///./src/views/contest/ContestRank.vue?c6f3","webpack:///./src/components/contest/ContestRank/timeView.vue?8d70","webpack:///./src/components/contest/ContestRank/timeView.vue","webpack:///./src/components/contest/ContestRank/timeView.vue?7a47","webpack:///./src/components/contest/ContestRank/timeView.vue?7828","webpack:///./src/components/contest/ContestRank/errorView.vue?ae82","webpack:///./src/components/contest/ContestRank/errorView.vue","webpack:///./src/components/contest/ContestRank/errorView.vue?586d","webpack:///./src/components/contest/ContestRank/errorView.vue?28a2","webpack:///./src/components/contest/ContestRank/ResultGrid.vue?d491","webpack:///./src/components/contest/ContestRank/ResultGrid.vue?f6c9","webpack:///./src/components/contest/ContestRank/ResultGrid.vue?b1d6","webpack:///./src/components/contest/ContestRank/ResultGrid.vue?fec1","webpack:///./src/module/ContestRank/ContestRankFactories.ts","webpack:///./src/views/contest/ContestRank.vue?1b02","webpack:///./src/views/contest/ContestRank.vue?6dea","webpack:///./src/views/contest/ContestRank.vue?f20e","webpack:///./src/components/contest/ContestRank/ResultGrid.vue?dab3","webpack:///./node_modules/await-lock/build/AwaitLock.js"],"names":["TimerMixin","timer_","timer","this","forEach","e","clearInterval","b","a","autoBom","console","warn","test","type","Blob","c","d","XMLHttpRequest","open","responseType","onload","response","onerror","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","saveAs","HTMLAnchorElement","prototype","g","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","replace","readAsDataURL","k","l","module","exports","n","t","o","r","m","s","u","length","container","md","mu","mm","slice","call","getElementsByClassName","hasAttribute","elementFromPoint","pageX","pageY","clientX","clientY","preventDefault","scroller","scrollLeft","scrollTop","documentElement","readyState","reset","InitMixin","customConfig","init","$store","getters","homepage","emptyFunc","args","log","logFactory","prefix","decoratorLog","Debounce","wait","options","propertyName","propertyDescriptor","constructor","method","value","debounce","Interval","Error","apply","push","setInterval","Debuglogging","params","map","JSON","stringify","join","WebSocketRequest","$socket","connected","alert","Lock","lock","async","acquireAsync","resp","release","ErrorAlert","message","render","_vm","_h","$createElement","_c","_self","state","staticClass","_v","_s","total","finished","attrs","start_time","playing","_e","on","playRanklist","playingTime","pausePlayRanklist","stopPlayRanklist","$event","auto_update","add_name","exportXLS","staticStyle","_l","Array","from","Math","max","keys","key","row","user_id","class","rankClass","rank","convertHTML","nick","real_name","cid","ac","format_date","penalty_time","problem","toArray","p","accept","first_blood","popupLock","style","fingerprintSet","size","hardwareFingerprintSet","ipSet","detectPlace","formatColor","floor","sim","submit","try_time","diff","errormsg","staticRenderFns","current_time","dayjs","format","format_time","currentTime","timeUpdater","second","arr","passed","Number","str","mode","abs","hour","String","trunc","fillZero","minute","parseInt","sec","default","component","_m","domProps","ref","gridBackgroundClass","generateDataHTML","triggerPopup","htmlBuilder","buildItem","gridBackground","getLock","tryAcquire","$refs","block","popup","hoverable","pass","time","sort","isBefore","isAfter","html","TRIM_UPPER","trim","totalLength","shift","submission","DEFAULT_TIME","hashCode","chr","hash","charCodeAt","emptyFunction","earlyFirstComparator","targetObject","newArray","index","Object","hasOwnProperty","isNaN","ProblemFactory","baseProblem","_submit","Set","_accept","set","update","addSubmit","calculatePenaltyTime","isAccepted","getAcceptTime","newInstance","data","assign","has","toString","add","in_date","startTime","diffTime","ProblemListFactory","get","calculateAC","penaltyTime","NickFactory","UserIDFactory","userId","SetFactory","_add","val","arguments","firstBloodFactory","INFINITY","firstBloodInfo","person","setFirstBlood","difftime","firstBloodListFactory","firstBlood","SubmitterFactory","totalProblem","fingerprint","fingerprintRaw","ip","num","firstBloodList","SubmitterComparator","policy","factor","toLowerCase","bindDragEvent","submissionCollection","convertFlag","submitter","users","totalNumber","waiting_queue","select","$","playInterval","backup_data","firstRender","userStructure","undefined","worker","$route","contest_id","sockets","subscribe","handleNewSubmit","unsubscribe","that","concat","initUserTable","fillSubmitterList","values","updateSubmitter","lazyUpdateSet","el","calculateRank","temp_data","datas","stack","isArray","calculateFirstBlood","len","privateContest","addData","rnk","backupTempData","atime","btime","startInterval","scoreboard","endInterval","filter","util","detectIP","intranet_ip","place","innerHTML","doc","getElementById","XLSContentHTML","blob","finish","ndata","avatar","newVal","axios","decodeHTML","then","nickArray","newTitle","find","each","eq","css","position","left","prev","outerWidth","borderRight","scroll","clearTimeout","cidArr","indexOf","split","cnt","dataSet","work","contest_mode","statement","includes","components","ErrorView","TimeView","ResultGrid","defineProperty","AwaitLock","_acquired","_waitingResolvers","Promise","resolve"],"mappings":"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","file":"static/js/chunk-0e2b244e.ab96d5f2.js","sourcesContent":["import { Component } from \"vue-property-decorator\";\nimport { Debuglogging } from \"@/module/Decorator/method\";\nimport Vue from \"vue\";\n\n@Component\nexport default class TimerMixin extends Vue {\n    timer_ = [];\n    @Debuglogging\n    beforeDestroy () {\n        const timer = this.timer_;\n        timer.forEach(e => clearInterval(e));\n    }\n}\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","!function(e,n){\"function\"==typeof define&&define.amd?define([\"exports\"],n):n(\"undefined\"!=typeof exports?exports:e.dragscroll={})}(this,function(e){var n,t,o=window,l=document,c=\"mousemove\",r=\"mouseup\",i=\"mousedown\",m=\"EventListener\",d=\"add\"+m,s=\"remove\"+m,f=[],u=function(e,m){for(e=0;e<f.length;)m=f[e++],m=m.container||m,m[s](i,m.md,0),o[s](r,m.mu,0),o[s](c,m.mm,0);for(f=[].slice.call(l.getElementsByClassName(\"dragscroll\")),e=0;e<f.length;)!function(e,m,s,f,u,a){(a=e.container||e)[d](i,a.md=function(n){e.hasAttribute(\"nochilddrag\")&&l.elementFromPoint(n.pageX,n.pageY)!=a||(f=1,m=n.clientX,s=n.clientY,n.preventDefault())},0),o[d](r,a.mu=function(){f=0},0),o[d](c,a.mm=function(o){f&&((u=e.scroller||e).scrollLeft-=n=-m+(m=o.clientX),u.scrollTop-=t=-s+(s=o.clientY),e==l.body&&((u=l.documentElement).scrollLeft-=n,u.scrollTop-=t))},0)}(f[e++])};\"complete\"==l.readyState?u():o[d](\"load\",u,0),e.reset=u});","import Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport util from \"../lib/util\";\nimport config from \"../../config/environment.json\";\n\n@Component\nexport default class InitMixin extends Vue {\n    customConfig = config;\n    mounted () {\n        util.init(this.$store.getters.homepage);\n        document.title = config.title;\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestRank.vue?vue&type=style&index=0&id=3f0b9835&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestRank.vue?vue&type=style&index=0&id=3f0b9835&scoped=true&lang=css&\"","const emptyFunc = (...args: any[]) => {};\n\nconst logger = (...args: any[]) => { console.log(...args); };\n\nexport const log = process.env.NODE_ENV === \"production\" ? emptyFunc : logger;\n\nexport function logFactory (prefix: string) {\n    return function (...args: any[]) {\n        log(prefix, ...args);\n    };\n}\n","import _ from \"lodash\";\n\nimport { log, logFactory } from \"@/util/logger\";\nimport AwaitLock from \"await-lock\";\n\nconst decoratorLog = logFactory(\"Decorator mounted: \");\ninterface IPropertyDescriptor extends PropertyDescriptor {\n    timer_?: any[]\n}\n\ninterface IWebSocketPropertyDescriptor extends PropertyDescriptor {\n    $socket?: any;\n    sockets?: any;\n}\n\nexport function Debounce (wait?: number, options?: any) {\n    return function (target: any, propertyName: string, propertyDescriptor: PropertyDescriptor) {\n        decoratorLog(`debounce, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = _.debounce(method, wait, options);\n        return propertyDescriptor;\n    };\n}\n\nexport function Interval (wait = 0) {\n    return function (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n        decoratorLog(`Interval, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = function (...args: any[]) {\n            if (typeof this.timer_ === \"undefined\" || typeof this.timer_.length === \"undefined\") {\n                throw new Error(\"You should mixin TimerMixin to your component\");\n            }\n            method.apply(this, args);\n            this.timer_.push(setInterval(() => { decoratorLog(`${target.constructor.name}.${propertyName} called.`); method.apply(this, args); }, wait));\n        };\n        log(\"mounted interval\");\n    };\n}\n\nexport function Debuglogging (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n    decoratorLog(`Debuglogging, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any[]) {\n        const params = args.map(a => JSON.stringify(a)).join();\n        const result = method.apply(this, args);\n        const r = JSON.stringify(result);\n        log(`Call: ${propertyName}(${params}) => ${r}`);\n        return result;\n    };\n}\n\nexport function DebugloggingAsync (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n    decoratorLog(`DebugloggingAsync, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = async function (...args: any[]) {\n        const params = args.map(a => JSON.stringify(a)).join();\n        const result = await method.apply(this, args);\n        const r = JSON.stringify(result);\n        log(`Call: ${propertyName}(${params}) => ${r}`);\n        return result;\n    };\n}\n\nexport function WebSocketRequest (target: any, propertyName: string, propertyDescriptor: IWebSocketPropertyDescriptor) {\n    decoratorLog(`WebSocketRequest, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any[]) {\n        if (!this.$socket!.connected) {\n            alert(\"WebSocket服务未启动，请等待服务启动后提交\\nWebSocket服务启动标志未:\\n右上角显示在线人数\");\n            return;\n        }\n        return method.apply(this, args);\n    };\n}\n\nexport function Lock (lock: AwaitLock) {\n    return function (target: any, propertyName: string, propertyDescriptor: IWebSocketPropertyDescriptor) {\n        decoratorLog(`Lock, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = async function (...args: any) {\n            await lock.acquireAsync();\n            const resp = method.apply(this, args);\n            lock.release();\n            return resp;\n        };\n    };\n}\n\nexport function ErrorAlert (target: any, propertyName: string, propertyDescriptor: PropertyDescriptor) {\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any) {\n        try {\n            return method.apply(this, args);\n        }\n        catch (e) {\n            alert(e.message);\n        }\n    };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.state)?_c('ErrorView',{attrs:{\"errormsg\":_vm.errormsg}}):_c('div',{staticClass:\"contestrank scoreboard padding\"},[_c('h2',{staticClass:\"ui dividing header\"},[_vm._v(\" \"+_vm._s(_vm.total === -1 || !_vm.finished ?\"计算中,请稍后\":\"Contest Rank\")+\" \"),_c('div',{staticClass:\"sub header\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"ui grid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"left aligned eight wide column\"},[_c('TimeView',{attrs:{\"start_time\":_vm.start_time}})],1),_c('div',{staticClass:\"right aligned eight wide column\"},[(!_vm.playing)?_c('button',{staticClass:\"ui primary button item\",on:{\"click\":_vm.playRanklist}},[_vm._v(\"播放排名变化\")]):_vm._e(),(_vm.playing)?_c('span',[_vm._v(\" \"+_vm._s(_vm.playingTime)+\" \")]):_vm._e(),(_vm.playing)?_c('button',{staticClass:\"ui primary button\",on:{\"click\":_vm.pausePlayRanklist}},[_vm._v(_vm._s(_vm.playing ? \"暂停\" : \"继续\"))]):_vm._e(),(_vm.playing)?_c('button',{staticClass:\"ui primary button\",on:{\"click\":_vm.stopPlayRanklist}},[_vm._v(\"停止\")]):_vm._e(),_c('div',{staticClass:\"ui toggle checkbox\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.auto_update = !_vm.auto_update}}}),_c('label',[_vm._v(\"暂停自动更新排名\")])]),_c('div',{staticClass:\"ui toggle checkbox\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.add_name=!_vm.add_name}}}),_c('label',[_vm._v(\"加入学号\")])]),_c('a',{staticClass:\"ui primary mini button\",on:{\"click\":_vm.exportXLS}},[_vm._v(\"Save to XLS\")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"ranking dragscroll\",staticStyle:{\"width\":\"100%\",\"overflow\":\"auto\"}},[_c('table',{staticClass:\"ui small celled table\",attrs:{\"id\":\"rank\"}},[_c('thead',[_c('tr',{staticClass:\"toprow\",attrs:{\"align\":\"center\"}},[_c('th',{staticClass:\"{sorter:'false'}\",attrs:{\"width\":\"5%\"}},[_vm._v(\"Rank \")]),_c('th',{attrs:{\"width\":\"5%\"}},[_vm._v(\"User\")]),_c('th',{staticStyle:{\"min-width\":\"90px\"}},[_vm._v(\"Nick\")]),(_vm.add_name)?_c('th',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Id\")]):_vm._e(),_c('th',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Solved\")]),_c('th',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Penalty\")]),_vm._l((Array.from(Array(Math.max(0,_vm.total)).keys())),function(i){return _c('th',{key:i,staticStyle:{\"min-width\":\"85.71px\"}},[_vm._v(_vm._s(1001 + i)+\" \")])})],2)]),_c('transition-group',{attrs:{\"name\":\"list-complete\",\"tag\":\"tbody\"}},_vm._l((_vm.submitter),function(row,key){return _c('tr',{key:row.user_id,staticClass:\"list-complete-item\",staticStyle:{\"cursor\":\"grab!important\"}},[_c('td',{class:_vm.rankClass(key),staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bold\",\"position\":\"sticky\",\"left\":\"0\"}},[_vm._v(_vm._s(row.rank)+\" \")]),_c('td',{staticClass:\"ui white\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (row.user_id))}},[_vm._v(_vm._s(row.user_id))])],1),_c('td',{staticClass:\"ui white\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (row.user_id))}},[_vm._v(_vm._s(_vm.convertHTML(row.nick)))])],1),(_vm.add_name)?_c('td',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.convertHTML(row.real_name)))]):_vm._e(),_c('td',{staticStyle:{\"text-align\":\"center\"}},[_c('router-link',{attrs:{\"to\":(\"/contest/status/\" + _vm.cid + \"?user_id=\" + (row.user_id))}},[_vm._v(_vm._s(row.ac)+\" \")])],1),_c('td',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.format_date(row.penalty_time)))]),_vm._l((row.problem.toArray()),function(p,key){return _c('ResultGrid',{key:key + 0,attrs:{\"gridBackground\":p.accept.length > 0?p.first_blood ? 1:-1:0,\"problem\":p,\"lock\":_vm.popupLock,\"format_date\":_vm.format_date}})})],2)}),0)],1),_c('table',{style:('display:none;vnd.ms-excel.numberformat:@'),attrs:{\"id\":\"save\"}},[_c('tbody',[_c('tr',{staticClass:\"toprow\",attrs:{\"align\":\"center\"}},[_c('td',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Rank \")]),_c('td',{attrs:{\"width\":\"5%\"}},[_vm._v(\"User\")]),_c('td',[_vm._v(\"Nick\")]),(_vm.add_name)?_c('td',{attrs:{\"width\":\"5%\"}},[_vm._v(\"学号\")]):_vm._e(),_c('td',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Solved\")]),_c('td',{attrs:{\"width\":\"5%\"}},[_vm._v(\"Penalty\")]),_c('td',[_vm._v(\"环境指纹数\")]),_c('td',[_vm._v(\"硬件指纹数\")]),_c('td',[_vm._v(\"IP总数\")]),_c('td',[_vm._v(\"地点\")]),_vm._l((Array.from(Array(Math.max(0,_vm.total)).keys())),function(i){return _c('td',{key:i},[_vm._v(_vm._s(1001 + i))])})],2),_vm._l((_vm.submitter),function(row,key){return _c('tr',{key:key},[_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(row.rank))]),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(row.user_id))]),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(_vm.convertHTML(row.nick)))]),(_vm.add_name)?_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(_vm.convertHTML(row.real_name)))]):_vm._e(),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(row.ac))]),_c('td',[_vm._v(_vm._s(_vm.format_date(row.penalty_time)))]),_c('td',[_vm._v(_vm._s(row.fingerprintSet.size))]),_c('td',[_vm._v(_vm._s(row.hardwareFingerprintSet.size))]),_c('td',[_vm._v(_vm._s(row.ipSet.size))]),_c('td',[_vm._v(_vm._s(row.ipSet.size === 1 ? _vm.detectPlace(Array.from(row.ipSet)[0]) : row.ipSet.size === 0?\"无\":\"略\")+\" \")]),_vm._l((row.problem.toArray()),function(p,key){return _c('td',{key:key,attrs:{\"bgcolor\":'#FF' + (_vm.formatColor(Math.max(Math.floor((1 << 8) - (256 * Math.max(p.sim - 69,0) / 31.0)) - 1, 0))),\"align\":\"left\"}},[_vm._v(\" \"+_vm._s((p.submit.length > 0)?\"(-\":\"\")+_vm._s(p.try_time > 0 ? p.try_time + \")\" : p.submit.length > 0?p.submit.length + \")\" : \"\")+_vm._s(p.accept.length > 0 ? _vm.format_date(p.accept[0].diff(p.start_time,\"second\")):\"\")+_vm._s(p.sim > 0?\"(\"+p.sim + \"%)\":\"\")+\" \")])})],2)})],2)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"ui header\"},[_vm._v(\" 当前时间:\"+_vm._s(_vm.current_time)+\" \"),(_vm.start_time)?_c('div',{staticClass:\"sub header\"},[_vm._v(\" 起始时间:\"+_vm._s(_vm.dayjs(_vm.start_time).format(\"YYYY-MM-DD HH:mm:ss\"))+\", \"+_vm._s(_vm.format_time(_vm.dayjs().diff(_vm.start_time,\"second\")))+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport dayjs, { Dayjs } from \"dayjs\";\nimport Vue from \"vue\";\nimport { Prop, Component, Mixins } from \"vue-property-decorator\";\nimport TimerMixin from \"@/mixin/TimerMixin\";\nimport { Interval } from \"@/module/Decorator/method\";\n\n@Component\nexport default class TimeView extends Mixins(TimerMixin) {\n    @Prop({ default: dayjs() }) start_time!: Dayjs;\n    current_time: string = \"\";\n    dayjs = dayjs;\n    created () {\n        this.current_time = this.currentTime();\n    }\n\n    currentTime () {\n        return dayjs().format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n\n    @Interval(1000)\n    timeUpdater () {\n        this.current_time = this.currentTime();\n    }\n\n    mounted () {\n        this.timeUpdater();\n    }\n\n    format_time (second: number) {\n        const arr = [\"还有\", \"已经过\"];\n        const passed = Number(second > 0);\n        return arr[passed] + this.format_date(second);\n    }\n\n    fillZero (str: string) {\n        if (str.length < 2) {\n            return \"0\" + str;\n        }\n        else {\n            return str;\n        }\n    }\n\n    format_date (second: number, mode = 0) {\n        second = Math.abs(second);\n        let hour = String(Math.trunc(second / 3600));\n        hour = this.fillZero(hour);\n\n        let minute = String(Math.trunc((second - parseInt(hour) * 3600) / 60));\n        minute = this.fillZero(minute);\n        let sec = String(second % 60);\n        sec = this.fillZero(sec);\n        if (mode) {\n            return hour + \" : \" + minute + \" : \" + sec;\n        }\n        else {\n            return hour + \":\" + minute + \":\" + sec;\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./timeView.vue?vue&type=template&id=145b8b58&scoped=true&\"\nimport script from \"./timeView.vue?vue&type=script&lang=ts&\"\nexport * from \"./timeView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"145b8b58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container padding\"},[_vm._m(0),_c('div',{staticClass:\"ui segment\"},[_c('div',{staticClass:\"ui error message\"},[_c('div',{staticClass:\"header\"},[_vm._v(\" 错误信息内容 \")]),_c('br'),_c('h5',{staticClass:\"ui header\"},[_vm._v(\"URL:\"+_vm._s(_vm.location.href))]),_c('br'),_c('b',[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.errormsg)}})])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"ui dividing header\"},[_vm._v(\" 发生错误 \"),_c('div',{staticClass:\"sub header\"},[_vm._v(\" 请把以下内容反馈给老师、助教或本平台的开发者Ryan Lee(李昊元) \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class ErrorView extends Vue {\n    @Prop({ default: \"\" }) errormsg!: string;\n    location = location;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./errorView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./errorView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./errorView.vue?vue&type=template&id=293a19dc&scoped=true&\"\nimport script from \"./errorView.vue?vue&type=script&lang=ts&\"\nexport * from \"./errorView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"293a19dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{ref:\"block\",class:_vm.gridBackgroundClass,staticStyle:{\"text-align\":\"center\"},attrs:{\"data-html\":_vm.generateDataHTML},on:{\"mouseenter\":_vm.triggerPopup}},[_c('b',{class:'text '+ (_vm.problem.accept.length > 0 ? _vm.problem.first_blood?'first accept':'accept':'red')},[_vm._v(\" \"+_vm._s((_vm.problem.accept.length > 0 || _vm.problem.submit.length > 0)?\"+\":\"\")+\" \"+_vm._s(_vm.problem.try_time > 0 ? _vm.problem.try_time : _vm.problem.accept.length == 0 && _vm.problem.submit.length > 0?_vm.problem.submit.length : \"\"))]),(_vm.problem.accept.length > 0)?_c('br'):_vm._e(),(_vm.problem.accept.length > 0 && typeof _vm.problem.accept[0].diff === 'function')?_c('span',{class:_vm.problem.first_blood?'first accept text':''},[_vm._v(\" \"+_vm._s(_vm.format_date(_vm.problem.accept[0].diff(_vm.problem.start_time,\"second\")))+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Prop, Component } from \"vue-property-decorator\";\nimport jquery from \"jquery\";\nconst $: any = jquery;\n@Component\nexport default class ResultGrid extends Vue {\n    @Prop({ default: 0 }) gridBackground!: number;\n    @Prop({ default: () => {} }) lock!: any;\n    @Prop({\n        default: () => {\n            return {\n                accept: [],\n                submit: []\n            };\n        }\n    }) problem!: any;\n\n    @Prop({ default: () => () => {} }) format_date!: (...ang: any[]) => any;\n    get generateDataHTML () {\n        let htmlBuilder = \"<div class=\\\"ui list\\\">\";\n        htmlBuilder += this.buildItem();\n        htmlBuilder += \"</div>\";\n        return htmlBuilder;\n    }\n\n    get gridBackgroundClass () {\n        const gridBackground = this.gridBackground;\n        if (gridBackground === 0) {\n            return \"\";\n        }\n        else if (gridBackground === 1) {\n            return \"first accept\";\n        }\n        else {\n            return \"accept\";\n        }\n    }\n\n    async triggerPopup () {\n        const lock = this.lock;\n        const submit = this.problem.submit;\n        const accept = this.problem.accept;\n        if (submit.length > 0 || accept.length > 0) {\n            const getLock = lock.tryAcquire();\n            if (getLock) {\n                $(this.$refs.block).popup({\n                    hoverable: true\n                }).popup(\"show\");\n                lock.release();\n            }\n        }\n    }\n\n    buildItem () {\n        const submit = this.problem.submit;\n        const accept = this.problem.accept;\n        const total = [...submit.map((e: any) => { return { pass: false, time: e }; }), ...accept.map((e: any) => { return { pass: true, time: e }; })];\n        total.sort((a, b) => a.time.isBefore(b.time) ? -1 : a.time.isAfter(b.time) ? 1 : 0);\n        let html = \"\";\n        const TRIM_UPPER = 13;\n        const trim = total.length > TRIM_UPPER;\n        const totalLength = total.length;\n        while (total.length > TRIM_UPPER) total.shift();\n        if (trim) {\n            html += `<div class=\"item\"><i class=\"icon\"></i><div class=\"content\"><div class=\"header\">Trim ${totalLength - TRIM_UPPER} submission</div> </div></div>`;\n        }\n        for (const submission of total) {\n            let htmlBuilder = \"<div class=\\\"item\\\">\";\n            if (!submission.pass) {\n                htmlBuilder += \"<i class=\\\"remove icon\\\"></i>\";\n            }\n            else {\n                htmlBuilder += \"<i class=\\\"checkmark icon\\\"></i>\";\n            }\n            htmlBuilder += \"<div class=\\\"content\\\">\";\n            htmlBuilder += `<div class=\"header\">${submission.pass ? \"Passed\" : \"Failed\"}</div>`;\n            htmlBuilder += `<div class=\"description\">${submission.time.format(\"YYYY-MM-DD HH:mm:ss\")}</div>`;\n            htmlBuilder += \"</div></div>\";\n            html += htmlBuilder;\n        }\n        return html;\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultGrid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultGrid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResultGrid.vue?vue&type=template&id=f1553410&scoped=true&\"\nimport script from \"./ResultGrid.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResultGrid.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResultGrid.vue?vue&type=style&index=0&id=f1553410&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1553410\",\n  null\n  \n)\n\nexport default component.exports","import dayjs, { Dayjs } from \"dayjs\";\n\nconst DEFAULT_TIME = dayjs();\nexport interface Problem {\n    [id: string]: any,\n    submit: Dayjs[],\n    accept: Dayjs[],\n    sim: number,\n    try_time: number,\n    start_time: Dayjs,\n    first_blood: boolean,\n    _submit: Set<number>,\n    _accept: Set<number>,\n    set: (...arg: any[]) => any,\n    update: (...arg: any[]) => any,\n    addSubmit: (...arg: any[]) => any,\n    calculatePenaltyTime: (...arg: any[]) => any,\n    isAccepted: (...arg: any[]) => any,\n    getAcceptTime: (...arg: any[]) => any,\n    newInstance: (...arg: any[]) => any\n}\n\nexport interface ISet<T> extends Set<T> {\n    newInstance: (...arg: any[]) => any\n}\n\nexport type FirstBloodList = {\n    [id: string]: any,\n    get: (...arg: any[]) => any,\n    newInstance: (...arg: any[]) => any\n};\n\nexport type FirstBlood = {\n    time: Dayjs | number,\n    person: any,\n    setFirstBlood: (...arg: any[]) => any,\n    newInstance: (...arg: any[]) => any\n};\n\nexport type ProblemList = {\n    [id: string]: any,\n    get: (...arg: any[]) => any,\n    toArray: (...arg: any[]) => any,\n    calculatePenaltyTime: (...arg: any[]) => any,\n    calculateAC: (...arg: any[]) => any,\n    newInstance: (...arg: any[]) => any\n};\n\nexport type Submitter = {\n    ac: number,\n    nick: string,\n    problem: ProblemList,\n    penalty_time: number,\n    fingerprintSet: Set<any>,\n    hardwareFingerprintSet: Set<any>,\n    ipSet: Set<any>,\n    real_name: string,\n    user_id: string,\n    addData: (...arg: any[]) => any,\n    calculatePenaltyTime: (...arg: any[]) => any,\n    calculateAC: (...arg: any[]) => any,\n    calculateFirstBlood: (firstBloodList: FirstBloodList) => any,\n    newInstance: (...arg: any[]) => any\n};\n\nexport function hashCode (str: String) {\n    let hash = 0;\n    let i;\n    let chr;\n    if (str.length === 0) return hash;\n    for (i = 0; i < str.length; i++) {\n        chr = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + chr;\n        hash |= 0;\n    }\n    return hash;\n}\n\nfunction emptyFunction (): void {\n    return undefined;\n}\n\nexport function earlyFirstComparator (a: Dayjs, b: Dayjs) {\n    if (a.isBefore(b)) {\n        return -1;\n    }\n    else if (a.isAfter(b)) {\n        return 1;\n    }\n    else {\n        return 0;\n    }\n}\n\nexport function toArray (targetObject: any) {\n    const newArray = [];\n    for (const index in targetObject) {\n        if (Object.prototype.hasOwnProperty.call(targetObject, index) && !isNaN(parseInt(index))) {\n            newArray.push(targetObject[index]);\n        }\n    }\n    return newArray;\n}\n\nexport function ProblemFactory (): Problem {\n    const baseProblem: Problem = {\n        submit: [],\n        accept: [],\n        sim: 0,\n        try_time: 0,\n        start_time: DEFAULT_TIME,\n        first_blood: false,\n        _submit: new Set<number>(),\n        _accept: new Set<number>(),\n        set: emptyFunction,\n        update: emptyFunction,\n        addSubmit: emptyFunction,\n        calculatePenaltyTime: emptyFunction,\n        isAccepted: emptyFunction,\n        getAcceptTime: emptyFunction,\n        newInstance: emptyFunction\n    };\n    baseProblem.set = function (data) {\n        Object.assign(baseProblem, data);\n    };\n    baseProblem.update = function (index, data) {\n        if (this[index] !== null && typeof this[index] === \"object\" && typeof this[index].push === \"function\") {\n            if (!this[\"_\" + index].has(hashCode(data.toString()))) {\n                this[\"_\" + index].add(hashCode(data.toString()));\n                this[index].push(data);\n            }\n        }\n        else if (typeof this[index] === \"number\") {\n            this[index] = data;\n        }\n        return this;\n    };\n    baseProblem.addSubmit = function (submission) {\n        switch (parseInt(submission.result)) {\n        case 4:\n            this.update(\"accept\", dayjs(submission.in_date));\n            break;\n        case 5:\n        case 6:\n        case 7:\n        case 8:\n        case 9:\n        case 10:\n            this.update(\"submit\", dayjs(submission.in_date));\n            break;\n        }\n    };\n    baseProblem.calculatePenaltyTime = function () {\n        const startTime = this.start_time;\n        if (this.accept.length > 0) {\n            this.accept.sort(earlyFirstComparator);\n            this.submit.sort(earlyFirstComparator);\n            let diffTime = this.accept[0].diff(startTime, \"second\");\n            this.try_time = 0;\n            for (const submission of this.submit) {\n                if (submission.isBefore(this.accept[0])) {\n                    ++this.try_time;\n                    diffTime += 1200; // 20min\n                }\n                else {\n                    break;\n                }\n            }\n            return diffTime;\n        }\n        else {\n            return 0;\n        }\n    };\n    baseProblem.isAccepted = function () {\n        return this.accept.length > 0;\n    };\n    baseProblem.getAcceptTime = function () {\n        return this.accept[0];\n    };\n\n    baseProblem.newInstance = ProblemFactory;\n\n    return baseProblem;\n}\n\nexport function ProblemListFactory (total: number): ProblemList {\n    const problem: ProblemList = {\n        get: emptyFunction,\n        toArray: emptyFunction,\n        calculatePenaltyTime: emptyFunction,\n        calculateAC: emptyFunction,\n        newInstance: emptyFunction\n    };\n    for (let i = 0; i < total; ++i) {\n        problem[i] = ProblemFactory();\n    }\n    problem.get = function (i: number) {\n        if (typeof problem[i] !== \"undefined\") {\n            return problem[i];\n        }\n        else {\n            total = Math.max(i, total);\n            return (problem[i] = ProblemFactory());\n        }\n    };\n\n    problem.toArray = function () {\n        return toArray(problem);\n    };\n\n    problem.calculatePenaltyTime = function () {\n        let penaltyTime = 0;\n        for (const index in problem) {\n            if (Object.prototype.hasOwnProperty.call(problem, index) && !isNaN(parseInt(index))) {\n                penaltyTime += problem[index].calculatePenaltyTime();\n            }\n        }\n        return penaltyTime;\n    };\n\n    problem.calculateAC = function () {\n        let ac = 0;\n        for (const index in problem) {\n            if (Object.prototype.hasOwnProperty.call(problem, index) && !isNaN(parseInt(index))) {\n                if (problem[index].accept.length > 0) {\n                    ++ac;\n                }\n            }\n        }\n        return ac;\n    };\n\n    problem.newInstance = ProblemListFactory;\n\n    return problem;\n}\n\n/**\n * @return {string}\n */\nexport function NickFactory (nick: any) {\n    if (typeof nick !== \"string\") {\n        nick = \"\";\n    }\n    return nick.length > 0 ? nick.trim() : \"未注册\";\n}\n\n/**\n * @return {string}\n */\nexport function UserIDFactory (userId: any) {\n    if (typeof userId !== \"string\") {\n        userId = \"\";\n    }\n    return userId.trim();\n}\n\nexport function SetFactory () {\n    const set = new Set<any>();\n    const _add = set.add;\n    set.add = function (val: any) {\n        if (typeof val !== \"undefined\") {\n            // @ts-ignore\n            _add.apply(set, arguments);\n        }\n        return this;\n    };\n    // @ts-ignore\n    set.newInstance = SetFactory;\n    return set;\n}\n\nexport function firstBloodFactory () {\n    const INFINITY = 1e11;\n    const firstBloodInfo: FirstBlood = {\n        time: INFINITY,\n        person: { first_blood: true },\n        setFirstBlood: emptyFunction,\n        newInstance: emptyFunction\n    };\n    firstBloodInfo.setFirstBlood = function (difftime, person) {\n        if (typeof this.person !== \"undefined\") {\n            if (difftime < this.time) {\n                this.time = difftime;\n                this.person.first_blood = false;\n                this.person = person;\n                person.first_blood = true;\n            }\n        }\n    };\n    firstBloodInfo.newInstance = firstBloodFactory;\n    return firstBloodInfo;\n}\n\nexport function firstBloodListFactory (total?: number) {\n    const firstBlood: FirstBloodList = {\n        get: emptyFunction,\n        newInstance: emptyFunction\n    };\n    if (typeof total === \"number\") {\n        for (let i = 0; i < total; ++i) {\n            firstBlood[i] = firstBloodFactory();\n        }\n    }\n    firstBlood.get = function (i: number) {\n        if (typeof this[i] !== \"undefined\") {\n            return this[i];\n        }\n        else {\n            return (this[i] = firstBloodFactory());\n        }\n    };\n    firstBlood.newInstance = firstBloodListFactory;\n    return firstBlood;\n}\n\nexport function SubmitterFactory (nick: string, totalProblem: number, userId?: string): Submitter {\n    return {\n        ac: 0,\n        nick: NickFactory(nick),\n        problem: ProblemListFactory(totalProblem),\n        penalty_time: 0,\n        fingerprintSet: SetFactory(),\n        hardwareFingerprintSet: SetFactory(),\n        ipSet: SetFactory(),\n        real_name: \"\",\n        user_id: UserIDFactory(userId),\n        addData (val: any) {\n            this.fingerprintSet.add(val.fingerprint);\n            this.hardwareFingerprintSet.add(val.fingerprintRaw);\n            this.ipSet.add(val.ip);\n            this.problem.get(val.num).update(\"sim\", val.sim);\n            this.problem.get(val.num).set({ start_time: val.start_time });\n            this.problem.get(val.num).addSubmit(val);\n        },\n        calculatePenaltyTime () {\n            this.penalty_time = this.problem.calculatePenaltyTime();\n        },\n        calculateAC () {\n            this.ac = this.problem.calculateAC();\n        },\n        calculateFirstBlood (firstBloodList: FirstBloodList) {\n            for (const index in this.problem) {\n                try {\n                    if (Object.prototype.hasOwnProperty.call(this.problem, index) && !isNaN(parseInt(index)) && this.problem[index].isAccepted()) {\n                        const difftime = this.problem[index].getAcceptTime().diff(this.problem[index].start_time, \"second\");\n                        firstBloodList.get(index).setFirstBlood(difftime, this.problem.get(index));\n                    }\n                }\n                catch (e) {\n                    console.log(e);\n                    console.log(\"Firstbloodlist\", firstBloodList);\n                    console.log(\"this.problem\", this.problem);\n                }\n            }\n        },\n        newInstance: SubmitterFactory\n    };\n}\n\nexport function SubmitterComparator (policy: string) {\n    let factor = 1;\n    switch (policy.toLowerCase()) {\n    case \"greater\":\n        factor = 1;\n        break;\n    case \"lesser\":\n        factor = -1;\n        break;\n    }\n    return (a: any, b: any) => factor * (a.ac !== b.ac ? b.ac - a.ac : a.penalty_time - b.penalty_time);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport mixins from \"../../mixin/init\";\nimport { saveAs } from \"file-saver\";\nimport utils from \"../../lib/util\";\nimport TimeView from \"../../components/contest/ContestRank/timeView.vue\";\nimport ErrorView from \"../../components/contest/ContestRank/errorView.vue\";\nimport ResultGrid from \"../../components/contest/ContestRank/ResultGrid.vue\";\nimport AwaitLock from \"await-lock\";\nimport _ from \"lodash\";\nimport dayjs from \"dayjs\";\nimport * as XLSX from \"xlsx\";\nimport { Mixins, Component, Watch } from \"vue-property-decorator\";\nimport {\n    SubmitterFactory,\n    firstBloodListFactory,\n    SubmitterComparator\n} from \"@/module/ContestRank/ContestRankFactories\";\n\nconst { reset: bindDragEvent } = require(\"dragscroll\");\nlet submissionCollection: any[] = [];\n// @ts-ignore\nwindow.submissionCollection = submissionCollection;\nlet convertFlag = false;\n\n@Component({\n    components: {\n        ErrorView,\n        TimeView,\n        ResultGrid\n    }\n})\nexport default class ContestRank extends Mixins(mixins) {\n    cid: any = \"\";\n    sockets: any;\n    created () {\n        this.cid = this.$route.params.contest_id;\n        this.sockets.subscribe(\"submit\", (data: any) => {\n            this.handleNewSubmit(data);\n        });\n        this.sockets.subscribe(\"result\", (data: any) => {\n            this.handleNewSubmit(data);\n        });\n    }\n\n    beforeDestroy () {\n        this.sockets.unsubscribe(\"submit\");\n        this.sockets.unsubscribe(\"result\");\n    }\n\n    submitter: any = {};\n    total = -1;\n    start_time = dayjs();\n    title = \"\";\n    finished = false;\n    users: any[] = [];\n    add_name = false;\n    auto_update = true;\n    totalNumber = 0;\n    playingTime = dayjs().format(\"YYYY-MM-DD HH:mm:ss\");\n    popupLock = new AwaitLock();\n    waiting_queue: any[] = [];\n    state = true;\n    errormsg = \"\";\n    dayjs = dayjs;\n    select = $;\n    console = console;\n    playing = false;\n    playInterval: any = 0;\n    backup_data: any[] = [];\n    firstRender = true;\n    userStructure = {};\n    firstBloodList: any = undefined;\n    worker: any = null;\n    get scoreboard () {\n        return null;\n    }\n\n    set scoreboard (val: any) {\n        const that = this;\n        this.auto_update = false;\n        try {\n            val = submissionCollection = submissionCollection.concat(this.toArray(val));\n            let submitter: any;\n            if (this.firstRender) {\n                this.firstRender = false;\n                this.firstBloodList = firstBloodListFactory();\n                submitter = {};\n                this.initUserTable(submitter);\n                this.fillSubmitterList(submitter, val);\n                this.userStructure = submitter;\n                this.submitter = submitter = Object.values(submitter);\n                submitter.forEach(this.updateSubmitter);\n            }\n            else {\n                submitter = this.userStructure;\n                const lazyUpdateSet = new Set();\n                this.fillSubmitterList(submitter, val);\n                val.forEach((el: any) => typeof submitter[el.user_id.toLowerCase()] !== \"undefined\" ? lazyUpdateSet.add(submitter[el.user_id.toLowerCase()]) : \"\");\n                lazyUpdateSet.forEach(this.updateSubmitter);\n            }\n            this.calculateRank();\n            // @ts-ignore\n            window.temp_data = submissionCollection;\n            // @ts-ignore\n            window.datas = this.submitter;\n        }\n        catch (e) {\n            that.state = false;\n            that.submitter = [];\n            console.log(e);\n            let str = e.stack;\n            str = str.replace(/\\n/g, \"<br>\");\n            that.errormsg = str;\n        }\n        this.auto_update = true;\n    }\n\n    toArray (val: any) {\n        if (!Array.isArray(val)) {\n            val = [val];\n        }\n        return val;\n    }\n\n    updateSubmitter (el: any) {\n        el.calculatePenaltyTime();\n        el.calculateAC();\n        el.calculateFirstBlood(this.firstBloodList);\n    }\n\n    fillSubmitterList (submitter: any, val: any) {\n        const len = val.length;\n        for (let i = 0; i < len; ++i) {\n            const privateContest = this.users.length > 0;\n            if (!submitter[val[i].user_id.toLowerCase()]) {\n                if (privateContest) {\n                    continue;\n                }\n                submitter[val[i].user_id.toLowerCase()] = SubmitterFactory(val[i].nick, this.total, val[i].user_id);\n            }\n            if (val[i].num < this.total) {\n                submitter[val[i].user_id.toLowerCase()].addData(val[i]);\n            }\n        }\n    }\n\n    initUserTable (submitter: any) {\n        _.forEach(this.users, (val: any) => {\n            if (!submitter[val.user_id.toLowerCase()]) {\n                submitter[val.user_id.toLowerCase()] = SubmitterFactory(val.nick, this.total, val.user_id);\n            }\n        });\n    }\n\n    calculateRank () {\n        this.submitter.sort(SubmitterComparator(\"greater\"));\n        let rnk = 1;\n        // @ts-ignore\n        window.submitter = this.submitter;\n        this.totalNumber = 0;\n        _.forEach(this.submitter, val => (val.rank = val.ac > 0 ? (++this.totalNumber, rnk++) : rnk));\n    }\n\n    rankClass (rank: any) {\n        const total = this.totalNumber;\n        rank = parseInt(rank);\n        if (rank <= total * 0.1 + 1) {\n            return \"ui yellow\";\n        }\n        else if (rank <= total * 0.3 + 1) {\n            return \"ui grey\";\n        }\n        else if (rank <= total * 0.6 + 1) {\n            return \"ui orange\";\n        }\n        else {\n            return \"ui white\";\n        }\n    }\n\n    playRanklist () {\n        this.auto_update = false;\n        this.playing = true;\n        const backupTempData = this.backup_data = submissionCollection;\n        backupTempData.sort((a, b) => {\n            const atime = dayjs(a.in_date);\n            const btime = dayjs(b.in_date);\n            return atime.isAfter(btime) ? 1 : -1;\n        });\n        submissionCollection = [];\n        this.submitter = [];\n        this.firstRender = true;\n        this.startInterval();\n    }\n\n    startInterval () {\n        const backupTempData = this.backup_data;\n        this.playInterval = setInterval(() => {\n            if (backupTempData.length > 0) {\n                let data = backupTempData.shift();\n                while (backupTempData.length > 0 && data.result < 4 && data.result >= 11) {\n                    data = backupTempData.shift();\n                }\n                this.playingTime = dayjs(data.in_date).format(\"YYYY-MM-DD HH:mm:ss\");\n                this.scoreboard = data;\n                if (backupTempData.length === 0) {\n                    this.endInterval();\n                }\n            }\n            else {\n                this.endInterval();\n            }\n        }, 30);\n    }\n\n    endInterval () {\n        clearInterval(this.playInterval);\n        this.playing = false;\n        this.auto_update = true;\n    }\n\n    pausePlayRanklist () {\n        if (this.playing) {\n            this.playing = false;\n            clearInterval(this.playInterval);\n        }\n        else {\n            this.playing = true;\n            this.startInterval();\n        }\n    }\n\n    stopPlayRanklist () {\n        this.playing = false;\n        clearInterval(this.playInterval);\n        this.scoreboard = this.backup_data.filter(el => typeof el !== \"undefined\");\n        this.backup_data = [];\n        this.auto_update = true;\n    }\n\n    fillZero (str: string) {\n        if (str.length < 2) {\n            return \"0\" + str;\n        }\n        else {\n            return str;\n        }\n    }\n\n    format_date (second: any, mode = 0) {\n        const fillZero = this.fillZero;\n        second = parseInt(second);\n        const hour = fillZero(Math.trunc(second / 3600).toString());\n        const minute = fillZero(Math.trunc((second - parseInt(hour) * 3600) / 60).toString());\n        const sec = fillZero((second % 60).toString());\n        if (mode) {\n            return hour + \"：\" + minute + \"：\" + sec;\n        }\n        else {\n            return hour + \":\" + minute + \":\" + sec;\n        }\n    }\n\n    formatColor (num: any) {\n        const str = num.toString(16);\n        if (num < 16) {\n            return \"0\" + str + \"0\" + str;\n        }\n        else {\n            return \"\" + str + \"\" + str;\n        }\n    }\n\n    detectPlace (ip: any) {\n        if (!ip) {\n            return \"未知\";\n        }\n        return utils.detectIP({\n            intranet_ip: ip,\n            place: \"\"\n        });\n    }\n\n    convertHTML (str: string) {\n        const d = document.createElement(\"div\");\n        d.innerHTML = str;\n        return d.innerText;\n    }\n\n    decodeHTML (str: string) {\n        if (typeof str !== \"string\") {\n            str = \"\";\n        }\n        return str.replace(\"·\", \"&middot;\");\n    }\n\n    exportXLS () {\n        const doc: any = document.getElementById(\"save\");\n        let XLSContentHTML = \"<html xmlns:o=\\\"urn:schemas-microsoft-com:office:office\\\" xmlns:x=\\\"urn:schemas-microsoft-com:office:excel\\\" xmlns=\\\"http://www.w3.org/TR/REC-html40\\\">\" + \"<head><meta http-equiv='Content-Type' content='application/vnd.ms-excel; charset=utf-8' /></head>\";\n        XLSContentHTML += \"<center><h3>Contest \" + this.cid + \" \" + this.title + \"</h3></center>\";\n        XLSContentHTML += \"<table border=1>\" + doc.innerHTML.replace(\"<tbody>\", \"\").replace(\"</tbody>\", \"\");\n        XLSContentHTML += \"<tr><td colspan='8'>环境指纹指根据用户的硬件环境及IP地址不同而产生的不同的指纹</td></tr>\";\n        XLSContentHTML += \"<tr><td colspan='8'>硬件指纹指的是不受IP影响的指纹</td></tr>\";\n        XLSContentHTML += \"<tr><td colspan='8'>若环境指纹与硬件指纹均唯一，代表用户使用相同设备在相同地点完成提交</td></tr>\";\n        XLSContentHTML += \"<tr><td colspan='8'>若硬件指纹唯一而环境指纹不唯一，代表同型号机器在不同IP地址提交</td></tr>\";\n        XLSContentHTML += \"<tr><td colspan='8'>若硬件指纹不唯一，代表使用了多台设备进行提交</td></tr>\";\n        XLSContentHTML += \"</table></html>\";\n        const wopts = { bookType: \"xlsx\", bookSST: false, type: \"binary\" };// 这里的数据是用来定义导出的格式类型\n\n        // downloadExl(doc);\n        const blob = new Blob([XLSContentHTML], { type: \"application/vnd.ms-excel;charset=UTF-8;\" });\n        if (convertFlag) {\n            saveAs(blob, \"Contest \" + this.cid + \" 多个contest.xls\");\n        }\n        else {\n            saveAs(blob, \"Contest \" + this.cid + \" \" + this.title + \".xls\");\n        }\n        // var table = TableExport(document.getElementById(\"save\"));\n        // var d = table.getExportData().save.xlsx;\n        // var filename = \"Contest \" + this.cid;\n        // filename = filename.substring(0,31);\n        // table.export2file(d.data,d.mimeType,filename,d.fileExtension,d.merges)\n    }\n\n    handleNewSubmit (data: any) {\n        if (parseInt(data.contest_id) === parseInt(this.cid)) {\n            if (data.finish === 1) {\n                const ndata = {\n                    nick: data.nick,\n                    user_id: data.user_id,\n                    start_time: this.start_time,\n                    avatar: 0,\n                    in_date: data.in_date,\n                    num: parseInt(data.num),\n                    result: data.state\n                };\n                if (!this.auto_update) {\n                    this.waiting_queue.push(ndata);\n                }\n                else {\n                    this.scoreboard = ndata;\n                }\n            }\n        }\n    }\n\n    @Watch(\"auto_update\")\n    onAutoUpdateChanged () {\n        while (this.waiting_queue.length > 0) {\n            this.scoreboard = this.waiting_queue.shift();\n        }\n    }\n\n    @Watch(\"add_name\")\n    onAddNameChanged (newVal: any) {\n        const that = this;\n        if (!newVal) return;\n        for (let i = 0; i < this.submitter.length; ++i) {\n            this.axios.get(`/api/user/nick/${this.decodeHTML(this.submitter[i].nick)}`)\n                .then(({ data }) => {\n                    if (data && data.data && data.data.length > 0) {\n                        const nick = data.nick;\n                        const nickArray = data.data;\n                        let userId = \"\";\n                        for (let j = 0; j < nickArray.length; ++j) {\n                            if (!isNaN(nickArray[j].user_id)) {\n                                userId = nickArray[j].user_id;\n                                break;\n                            }\n                        }\n                        for (let j = 0; j < that.submitter.length; ++j) {\n                            if (that.decodeHTML(that.submitter[j].nick) === nick) {\n                                that.submitter[j].real_name = userId;\n                                break;\n                            }\n                        }\n                    }\n                });\n        }\n    }\n\n    updated () {\n        const newTitle = \"ContestRank: \" + this.title;\n        if (document.title !== newTitle) {\n            document.title = newTitle;\n        }\n        $(\"#rank\").find(\"tr\").each(function () {\n            $(this).find(\"td\").eq(2).css({\n                position: \"sticky\",\n                left: $(this)!.find(\"td\")!.eq(2)!.prev()!.outerWidth()! + $(this)!.find(\"td\")!.eq(1)!.prev()!.outerWidth()!,\n                borderRight: \"1px solid rgba(34,36,38,.1)\"\n            });\n            $(this)!.find(\"td\")!.eq(1)!.css({\n                position: \"sticky\",\n                left: $(this)!.find(\"td\")!.eq(1)!.prev()!.outerWidth()!\n            });\n        });\n    }\n\n    mounted () {\n        // @ts-ignore\n        window.datas = [];\n        submissionCollection = [];\n        document.title = `Contest Rank ${this.cid} -- ${document.title}`;\n        const lock = this.popupLock;\n        $(window).scroll(function () {\n            lock.tryAcquire();\n            clearTimeout($.data(this, \"scrollTimer\"));\n            $.data(this, \"scrollTimer\", setTimeout(function () {\n                lock.release();\n            }, 250));\n        });\n        const that = this;\n        bindDragEvent();\n        (() => {\n            let cid = this.$route.params.contest_id;\n            let cidArr: any = [];\n            if (cid.indexOf(\",\") !== -1) {\n                cidArr = cid.split(\",\");\n            }\n            else {\n                cidArr = [cid];\n            }\n            let cnt = 0;\n            let dataSet: any = [];\n            const users = new Set();\n\n            const work = () => {\n                cid = cidArr.shift();\n                this.axios.get(`/api/scoreboard/${cid}`)\n                    .then(() => {\n                        this.axios.get(`/api/scoreboard/${cid}`)\n                            .then(({ data }) => {\n                                if (data.status !== \"OK\") {\n                                    that.state = false;\n                                    that.submitter = [];\n                                    let str;\n                                    if (data.contest_mode === true) {\n                                        str = \"根据设置，内容非公开\";\n                                    }\n                                    else if (data.statement && data.statement.includes && data.statement.includes(\"denied\")) {\n                                        str = \"根据设置，您无权访问\";\n                                    }\n                                    else {\n                                        str = \"Contest \" + cid + \":\\n\" + data.statement;\n                                    }\n                                    str = str.replace(/\\n/g, \"<br>\");\n                                    that.errormsg = str;\n                                    return;\n                                }\n                                _.forEach(data.data, function (val) {\n                                    val.num += cnt;\n                                    val.start_time = dayjs(data.start_time);\n                                });\n                                _.forEach(data.data, function (val) {\n                                    dataSet.push(val);\n                                });\n                                _.forEach(data.users, function (val) {\n                                    users.add(val);\n                                });\n\n                                cnt += data.total;\n\n                                if (cidArr.length > 0) {\n                                    convertFlag = true;\n                                    work();\n                                }\n                                else {\n                                    this.finished = true;\n                                }\n                                that.total = cnt;\n                                that.users = Array.from(users);\n                                that.scoreboard = dataSet;\n                            });\n                    });\n            };\n\n            if (cidArr.length > 1) {\n                that.title = cidArr.join(\",\");\n                work();\n            }\n            else {\n                cid = cidArr.shift();\n                this.axios.get(`/api/scoreboard/${cid}`)\n                    .then(() => {\n                        this.axios.get(`/api/scoreboard/${cid}`)\n                            .then(({ data }) => {\n                                if (data.status !== \"OK\") {\n                                    that.state = false;\n                                    that.submitter = [];\n                                    if (!data.statement) {\n                                        that.errormsg = \"根据设置，内容非公开\".replace(/\\n/g, \"<br>\");\n                                    }\n                                    if (data.statement.includes && data.statement.includes(\"denied\")) {\n                                        that.errormsg = \"根据设置，您无权访问\".replace(/\\n/g, \"<br>\");\n                                    }\n                                    else {\n                                        that.errormsg = (\"Contest \" + cid + \":\\n\" + data.statement).replace(/\\n/g, \"<br>\");\n                                    }\n                                    return;\n                                }\n                                this.finished = true;\n                                that.total = data.total;\n                                that.users = data.users;\n                                // @ts-ignore\n                                that.start_time = window.start_time = dayjs(data.start_time);\n                                _.forEach(data.data, function (val) {\n                                    val.start_time = dayjs(data.start_time);\n                                });\n\n                                that.scoreboard = data.data;\n                                submissionCollection = data.data;\n                                dataSet = data.data;\n                                if (typeof data.title === \"string\" && data.title.length === 0) {\n                                    data.title = \"未设置标题\";\n                                }\n                                that.title = data.title;\n                            });\n                    });\n            }\n        })();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestRank.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestRank.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContestRank.vue?vue&type=template&id=3f0b9835&scoped=true&\"\nimport script from \"./ContestRank.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContestRank.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ContestRank.vue?vue&type=style&index=0&id=3f0b9835&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f0b9835\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultGrid.vue?vue&type=style&index=0&id=f1553410&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultGrid.vue?vue&type=style&index=0&id=f1553410&scoped=true&lang=css&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A mutex lock for coordination across async functions\n */\nclass AwaitLock {\n    constructor() {\n        this._acquired = false;\n        this._waitingResolvers = [];\n    }\n    /**\n     * Acquires the lock, waiting if necessary for it to become free if it is already locked. The\n     * returned promise is fulfilled once the lock is acquired.\n     *\n     * After acquiring the lock, you **must** call `release` when you are done with it.\n     */\n    acquireAsync() {\n        if (!this._acquired) {\n            this._acquired = true;\n            return Promise.resolve();\n        }\n        return new Promise(resolve => {\n            this._waitingResolvers.push(resolve);\n        });\n    }\n    /**\n     * Acquires the lock if it is free and otherwise returns immediately without waiting. Returns\n     * `true` if the lock was free and is now acquired, and `false` otherwise,\n     */\n    tryAcquire() {\n        if (!this._acquired) {\n            this._acquired = true;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Releases the lock and gives it to the next waiting acquirer, if there is one. Each acquirer\n     * must release the lock exactly once.\n     */\n    release() {\n        if (!this._acquired) {\n            throw new Error(`Cannot release an unacquired lock`);\n        }\n        if (this._waitingResolvers.length > 0) {\n            let resolve = this._waitingResolvers.shift();\n            resolve();\n        }\n        else {\n            this._acquired = false;\n        }\n    }\n}\nexports.default = AwaitLock;\n//# sourceMappingURL=AwaitLock.js.map"],"sourceRoot":""}