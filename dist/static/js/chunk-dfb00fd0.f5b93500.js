(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfb00fd0"],{"180a":function(t,s,e){"use strict";e("e260"),e("841c"),e("ddb0");var i=e("9ab4"),a=e("2b0e"),r=e("60a3");let n=class extends a["a"]{constructor(){super(...arguments),this.current_tag="status",this.user_id=null,this.problem_result=-1,this.problem_id=null,this.language=-1,this.sim_checkbox=!1,this.privilege=0,this.auto_refresh=!0}onSimCheckboxChanged(){this.search()}onAutoRefreshChanged(t){t&&this.search()}onRouteQueryChanged(){this.fetchData()}fetchData(){}search(){console.error("Implement this method")}getUserId(){return this.$route.query?this.$route.query.user_id:null}getResult(){return this.$route.query?this.$route.query.result:null}getProblemID(){return this.$route.query?this.$route.query.problem_id:null}getLanguage(){return this.$route.query?this.$route.query.language:null}setQuery(){const t={};this.user_id&&this.user_id.length>0&&(t.user_id=this.user_id),this.problem_result&&-1!==this.problem_result&&(t.result=this.problem_result),this.problem_id&&0!==this.problem_id&&(t.problem_id=this.problem_id),this.language&&-1!==this.language&&(t.language=this.language),this.$router.push({path:this.$route.path,query:t})}tag(t){this.current_tag=t}list_self_only(){const t=this.$store.getters.user_id;null==this.user_id||this.user_id!==t?this.user_id=t:this.user_id=null,this.search()}};Object(i["c"])([Object(r["d"])("sim_checkbox"),Object(r["d"])("privilege")],n.prototype,"onSimCheckboxChanged",null),Object(i["c"])([Object(r["d"])("auto_refresh")],n.prototype,"onAutoRefreshChanged",null),Object(i["c"])([Object(r["d"])("$route.query")],n.prototype,"onRouteQueryChanged",null),n=Object(i["c"])([r["a"]],n),s["a"]=n},"1adb":function(t,s,e){"use strict";var i=e("2f63"),a=e.n(i);a.a},"1c86":function(t,s,e){"use strict";var i=e("b1f2"),a=e.n(i);a.a},"20a2":function(t,s,e){"use strict";var i=e("9ab4"),a=e("2b0e"),r=e("60a3"),n=e("3657");const{getAvatarURL:l,hasAvatarURL:o}=n["a"];let c=class extends a["a"]{getAvatarURL(...t){return l.apply(this,t)}hasAvatarURL(...t){return o.apply(this,t)}};c=Object(i["c"])([r["a"]],c),s["a"]=c},"2f63":function(t,s,e){},"4a84":function(t,s){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"auto refresh":"自动刷新","show cheat only":"仅显示判重提交","test run invisible":"不显示测试运行","show user only":"仅显示本人提交","submit status":"提交状态","submit graph":"提交图表","result statistic":"结果统计","user statistic":"用户统计","submit language statistic":"语言统计","not selected":"未选择"},"en":{"auto refresh":"Auto Refresh","show cheat only":"Show Cheating Only","test run invisible":"Exclude TestRun Submission","submit status":"Submit Status","show user only":"Show Yourself Only","submit graph":"Submission Graph","result statistic":"Result Statistics","user statistic":"User statistics","submit language statistic":"Submit Language Statistic","not selected":"Not Selected"},"ja":{"auto refresh":"自動リフレッシュ","show cheat only":"チート提出のみを表示","test run invisible":"テスト提出を表示しない","submit status":"提出リスト","show user only":"自分だけを表示","submit graph":"提出グラフ","result statistics":"結果統計","submit language statistic":"言語統計","user statistic":"ユーザー統計","not selected":"選択されていません"}}'),delete t.options._Ctor}},"6e89":function(t,s,e){"use strict";e.d(s,"a",(function(){return p}));e("e260"),e("25f0"),e("ddb0");var i=e("9ab4"),a=e("2b0e"),r=e("60a3"),n=e("5a0c"),l=e.n(n),o=e("3657"),c=e("1157"),u=e.n(c),d=e("2ef0"),_=e.n(d);const h=u.a;let p=class extends a["a"]{constructor(){super(...arguments),this.user={},this.dayjs=l.a}memory_parse(t){const s=["KB","MB","GB"];let e=0,i=parseInt(t);if(isNaN(i))return t;while(i>1024)i/=1024,++e;return i.toString().substring(0,5)+s[e]}updated(){h(".list-complete-item").popup({on:"hover",hoverable:!0,positon:"top center"})}time_parse(t){const s=["ms","s"];let e=0,i=parseInt(t);if(isNaN(i))return t;while(i>1e3)++e,i/=1e3;return i.toString().substring(0,5)+s[e]}detect_place(t){if(!t)return"未知";const s={intranet_ip:t,place:""};return o["a"].detectIP(s),s.place}infoRoute(t){return 11===parseInt(t)?"compile":"runtime"}get problem_lists(){_.a.forEach(this.problem_list,t=>{this.user[t.user_id]=this.user[t.user_id]||t});const t=document.createElement("div");let s;for(const e in this.problem_list)t.innerHTML=this.problem_list[e].nick,s=this.problem_list[e],s.nick=t.innerText;return this.problem_list}};Object(i["c"])([Object(r["c"])({default:()=>[]})],p.prototype,"problem_list",void 0),Object(i["c"])([Object(r["c"])({default:()=>[]})],p.prototype,"answer_icon",void 0),Object(i["c"])([Object(r["c"])({default:()=>[]})],p.prototype,"answer_class",void 0),Object(i["c"])([Object(r["c"])({default:()=>({})})],p.prototype,"target",void 0),Object(i["c"])([Object(r["c"])({default:()=>[]})],p.prototype,"language_name",void 0),Object(i["c"])([Object(r["c"])({default:()=>[]})],p.prototype,"result",void 0),Object(i["c"])([Object(r["c"])({default:""})],p.prototype,"self",void 0),Object(i["c"])([Object(r["c"])({default:!1})],p.prototype,"isadmin",void 0),Object(i["c"])([Object(r["c"])()],p.prototype,"end",void 0),Object(i["c"])([Object(r["c"])()],p.prototype,"finish",void 0),p=Object(i["c"])([r["a"]],p)},"96cc":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"padding ui container"},[e("h2",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("status"))+" ")]),e("div",{staticClass:"ui top attached tabular menu"},[e("a",{class:("status"==t.current_tag?"active":"")+" item",attrs:{id:"submitstatus"},on:{click:function(s){return t.tag("status",s)}}},[t._v("提交状态")]),e("a",{class:("graph"==t.current_tag?"active":"")+" item",attrs:{id:"graph"},on:{click:function(s){return t.tag("graph",s)}}},[t._v("提交图表")]),e("a",{class:("statistics"==t.current_tag?"active":"")+" item",attrs:{id:"statistics"},on:{click:function(s){return t.tag("statistics",s)}}},[t._v("提交统计")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"status"==t.current_tag,expression:"current_tag == 'status'"}],staticClass:"ui bottom attached segment"},[e("div",{staticClass:"input-append",attrs:{align:"center"}},[e("form",{staticClass:"ui form segment",attrs:{method:"get"}},[e("div",{staticClass:"four fields"},[e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("problem_id")))]),e("div",{staticClass:"ui fluid search dropdown selection",attrs:{id:"cur_problem",size:"1"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_id,expression:"problem_id"}],attrs:{name:"problem_id",type:"hidden"},domProps:{value:t.problem_id},on:{change:function(s){t.problem_id=s.target.value},input:function(s){s.target.composing||(t.problem_id=s.target.value)}}}),e("i",{staticClass:"dropdown icon"}),e("div",{staticClass:"default text"},[t._v("All")]),e("div",{staticClass:"menu"},[e("div",{staticClass:"item",attrs:{"data-value":""}},[t._v(t._s(t.$t("not selected")))]),t._l(Array.from(Array(t.total).keys()),(function(s){return e("div",{key:s,staticClass:"item",attrs:{"data-value":s}},[t._v(" "+t._s(1001+s)+" ")])}))],2)])]),e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("user_id")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],staticClass:"form-control",attrs:{name:"user_id",size:"4",type:"text",value:""},domProps:{value:t.user_id},on:{input:function(s){s.target.composing||(t.user_id=s.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("language")))]),e("div",{staticClass:"ui fluid search dropdown selection",attrs:{size:"1"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{name:"language",type:"hidden"},domProps:{value:t.language},on:{change:function(s){t.language=s.target.value},input:function(s){s.target.composing||(t.language=s.target.value)}}}),e("i",{staticClass:"dropdown icon"}),e("div",{staticClass:"default text"},[t._v("All")]),e("div",{staticClass:"menu"},[t._m(0),t._l(Array.from(Array(t.language_name&&t.language_name.local?t.language_name.local.length:0).keys()),(function(s){return e("div",{key:s,staticClass:"item",attrs:{"data-value":s}},[e("i",{class:t.language_icon[s]+" color"}),t._v(" "+t._s(t.language_name.local[s])+" ")])}))],2)])]),e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("result")))]),e("div",{staticClass:"ui fluid search dropdown selection",attrs:{size:"1"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_result,expression:"problem_result"}],attrs:{type:"hidden"},domProps:{value:t.problem_result},on:{change:function(s){t.problem_result=s.target.value},input:function(s){s.target.composing||(t.problem_result=s.target.value)}}}),e("i",{staticClass:"dropdown icon"}),e("div",{staticClass:"default text"},[t._v("All")]),e("div",{staticClass:"menu"},[t._m(1),t._l(Array.from(Array(t.judge_color?t.judge_color.length:0).keys()),(function(s){return e("div",{key:s,staticClass:"item",attrs:{"data-value":s}},[e("span",{class:t.judge_color[s]},[e("i",{class:t.judge_icon[s]+" icon"}),t._v(" "+t._s(t.result[s])+" ")])])}))],2)])])]),e("div",{class:"five fields center aligned"},[e("div",{staticClass:"field"},[e("div",{staticClass:"ui toggle checkbox"},[e("input",{attrs:{checked:"true",type:"checkbox"},on:{click:function(s){t.auto_refresh=!t.auto_refresh}}}),e("label",[t._v(t._s(t.$t("auto refresh")))])])]),e("div",{staticClass:"field",staticStyle:{margin:"auto"}},[e("div",{staticClass:"ui toggle checkbox"},[e("input",{attrs:{type:"checkbox"},on:{click:function(s){t.sim_checkbox=!t.sim_checkbox}}}),e("label",[t._v(t._s(t.$t("show cheat only")))])])]),t.isadmin?e("div",{staticClass:"field",staticStyle:{margin:"auto"}},[e("div",{staticClass:"ui toggle checkbox"},[e("input",{attrs:{type:"checkbox"},on:{click:function(s){t.privilege=!t.privilege}}}),e("label",[t._v(t._s(t.$t("test run invisible")))])])]):t._e(),e("div",{staticClass:"field",staticStyle:{margin:"auto"}},[e("div",{staticClass:"ui toggle checkbox"},[e("input",{attrs:{type:"checkbox"},on:{click:t.list_self_only}}),e("label",[t._v(t._s(t.$t("show user only")))])])]),e("div",{staticClass:"field"},[e("button",{staticClass:"ui labeled icon mini button",on:{click:function(s){return s.preventDefault(),t.search(s)}}},[e("i",{staticClass:"search icon"}),t._v(t._s(t.$t("search"))+" ")])])])])]),e("br"),e("div",{staticClass:"row"},[e("StatusTable",{attrs:{answer_class:t.judge_color,answer_icon:t.icon_list,end:t.end,finish:t.finish,isadmin:t.isadmin,language_name:t.language_name,problem_list:t.problem_list,result:t.result,self:t.self,target:t.target}}),t.dim?e("div",{staticClass:"ui active inverted dimmer"},[e("div",{staticClass:"ui large text loader"},[t._v("Loading")])]):t._e()],1),e("br"),e("div",{staticClass:"row"},[e("a",{class:"ui button "+(0==t.page_cnt?"disabled":""),on:{click:function(s){0!=t.page_cnt&&t.page(-t.page_cnt,s)}}},[t._v("Top")]),e("div",{staticClass:"ui buttons"},[e("button",{class:"ui left labeled icon button "+(0==t.page_cnt?"disabled":""),on:{click:function(s){0!=t.page_cnt&&t.page(-1,s)}}},[e("i",{staticClass:"left arrow icon"}),t._v(" Prev ")]),e("div",{staticClass:"or"}),e("button",{class:"ui right labeled icon button "+(0==t.problem_list.length?"disabled":""),on:{click:function(s){0!=t.problem_list.length&&t.page(1,s)}}},[e("i",{staticClass:"right arrow icon"}),t._v(" Next ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"graph"==t.current_tag,expression:"current_tag == 'graph'"}],staticClass:"ui attached bottom segment"},[t._m(2),e("div",{attrs:{id:"contest_li"}}),e("h2",{staticClass:"ui dividing header"},[t._v("代码长度")]),e("div",{staticClass:"amcharts",attrs:{id:"contest_code_length"}},[t._v("加载中")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"statistics"==t.current_tag,expression:"current_tag == 'statistics'"}],staticClass:"ui attached bottom segment"},[e("Statistics",{attrs:{cid:t.cid,finish:t.finish,language_name:t.language_name,statistics:t.statistics}})],1)])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"item",attrs:{"data-value":"-1"}},[t._v("All"),e("i",{staticClass:"dropdown icon",staticStyle:{visibility:"hidden"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"item",attrs:{"data-value":"-1"}},[t._v("All"),e("i",{staticClass:"dropdown icon",staticStyle:{visibility:"hidden"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticStyle:{width:"75%",margin:"auto"}},[e("canvas",{attrs:{id:"canvas"}})])}],r=(e("e260"),e("4e82"),e("25f0"),e("ddb0"),e("9ab4")),n=e("2cd4"),l=e("71c9"),o=e("c497"),c=e("2ef0"),u=e.n(c),d=e("60a3"),_=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h3",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("result statistic"))+" ")]),e("div",{staticClass:"table-scroll"},[t.finish?e("table",{staticClass:"ui padded selectable unstackable table",staticStyle:{"text-align":"center"},attrs:{width:"90%"}},[e("thead",{},[e("th",[t._v(t._s(t.$t("problem")))]),t._l(t.statistics.total_result,(function(s,i){return e("th",{key:i},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?jresult="+s}},[t._v(t._s(t.statistics.status[s]))])],1)})),e("th",[t._v(t._s(t.$t("total number")))])],2),e("tbody",[t._l(Array.from(Array(t.statistics.total_problem+1).keys()),(function(s){return e("tr",{key:s},[e("td",[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?problem_id="+s}},[t._v(t._s(1001+s))])],1),t._l(t.statistics.stat_data[s],(function(i,a){return e("td",{key:a,class:i>0?"active positive":""},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?problem_id="+s+"&jresult="+a}},[t._v(t._s(i))])],1)})),e("td",[t._v(t._s(t.statistics.totalSumResult[s]))])],2)})),e("tr",[e("td",[e("router-link",{attrs:{to:"/contest/status/"+t.cid}},[t._v("Total")])],1),t._l(t.statistics.stat_sum,(function(s,i){return e("td",{key:i,class:s>0?"active positive":""},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?jresult="+i}},[t._v(t._s(s))])],1)})),e("td",[t._v(t._s(t.statistics.total_submit))])],2)],2)]):t._e()]),e("h3",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("submit language statistic"))+" ")]),e("div",{staticClass:"table-scroll"},[t.finish?e("table",{staticClass:"ui padded selectable unstackable table",staticStyle:{"text-align":"center"},attrs:{width:"90%"}},[e("thead",{},[e("th",[t._v(t._s(t.$t("problem")))]),t._l(t.statistics.used_lang,(function(s,i){return e("th",{key:i},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?language="+s}},[t._v(t._s(t.language_name.local[s]))])],1)})),e("th",[t._v("Total")])],2),e("tbody",[t._l(Array.from(Array(t.statistics.total_problem+1).keys()),(function(s){return e("tr",{key:s},[e("td",[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?problem_id="+(1001+s)}},[t._v(t._s(1001+s))])],1),t._l(t.statistics.lang_data[s],(function(i,a){return e("td",{key:a,class:i>0?"active positive":""},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?problem_id="+(1001+s)+"&language="+a}},[t._v(t._s(i))])],1)})),e("td",[t._v(t._s(t.statistics.totalSumProblem[s]))])],2)})),e("tr",[e("td",[e("router-link",{attrs:{to:"/contest/status/"+t.cid}},[t._v("Total")])],1),t._l(t.statistics.lang_sum,(function(s,i){return e("td",{key:i,class:s>0?"active positive":""},[e("router-link",{attrs:{to:"/contest/status/"+t.cid+"?language="+i}},[t._v(t._s(s))])],1)})),e("td",[t._v(t._s(t.statistics.total_submit))])],2)],2)]):t._e()])])},h=[],p=e("2b0e");let m=class extends p["a"]{};Object(r["c"])([Object(d["c"])({default:()=>({})})],m.prototype,"statistics",void 0),Object(r["c"])([Object(d["c"])({default:0})],m.prototype,"cid",void 0),Object(r["c"])([Object(d["c"])({default:!1})],m.prototype,"finish",void 0),Object(r["c"])([Object(d["c"])({default:()=>({})})],m.prototype,"language_name",void 0),m=Object(r["c"])([d["a"]],m);var g=m,b=g,v=e("2877"),f=e("a5d2"),y=Object(v["a"])(b,_,h,!1,null,"73509454",null);"function"===typeof f["default"]&&Object(f["default"])(y);var C=y.exports,w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.finish?e("table",{staticClass:"ui padded selectable unstackable table",attrs:{align:"center",width:"90%"}},[e("thead",{},[e("tr",{staticClass:"toprow"},[e("th",{attrs:{width:"7%"}},[t._v(t._s(t.$t("solution_id")))]),e("th",{attrs:{width:"18%"}},[e("div",{staticClass:"ui grid"},[e("div",{staticClass:"four wide column"}),e("div",{staticClass:"twelve wide column"},[t._v(t._s(t.$t("user")))])])]),e("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("problem_id")))]),e("th",{attrs:{width:"15%"}},[t._v(t._s(t.$t("result")))]),e("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("memory")+"/"+t.$t("time")))]),e("th",{attrs:{width:"13%"}},[t._v(t._s(t.$t("language")+"/"+t.$t("length")))]),e("th",{attrs:{width:"18%"}},[t._v(t._s(t.$t("submit_time")))]),e("th",{attrs:{width:"9%"}},[t._v(t._s(t.$t("judger")))])])]),e("transition-group",{attrs:{name:"list-complete",tag:"tbody"}},t._l(t.problem_lists,(function(s){return e("tr",{key:s.solution_id,class:(s.sim?"warning need_popup":"need_popup")+" list-complete-item",attrs:{"data-html":"<b>IP:"+s.ip+"</b><br><p>类型:"+t.detect_place(s.ip)+"</p><p>用户指纹:<br>"+s.fingerprint+"<br>硬件指纹:<br>"+s.fingerprintRaw+"</p>"}},[e("td",[t._v(t._s(s.solution_id))]),e("td",[e("div",{staticClass:"ui grid"},[e("div",{staticClass:"four wide column",staticStyle:{margin:"auto"}},[e("img",{staticClass:"ui avatar image",staticStyle:{"object-fit":"cover"},attrs:{src:t.getAvatarURL(s)}})]),e("div",{staticClass:"twelve wide column"},[e("router-link",{attrs:{to:"/user/"+s.user_id}},[t._v(t._s(s.user_id)),e("br"),t._v(t._s(s.nick))])],1)])]),e("td",[e("div",{staticClass:"center"},[e("router-link",{attrs:{to:"/contest/problem/"+Math.abs(s.contest_id)+"/"+s.num}},[t._v(t._s(t.end?("local"===s.oj_name?"":s.oj_name.toUpperCase())+s.problem_id:s.num+1001))])],1)]),e("td",[e("router-link",{class:t.answer_class[s.result],attrs:{to:"/status/info/"+t.infoRoute(s.result)+"/"+s.solution_id}},[e("i",{class:t.answer_icon[s.result]+" icon"}),t._v(" "+t._s(t.$t(t.result[s.result]))+" ")]),s.sim?e("router-link",{class:t.answer_class[s.result],attrs:{to:"/compare/"+s.solution_id+"/"+s.sim_id}},[e("br"),s.sim?e("i",{class:t.answer_icon[s.result]+" icon",staticStyle:{opacity:"0"}}):t._e(),t._v(t._s(!1===Boolean(s.sim)?"":s.sim_id+" ("+s.sim+"%)")+" ")]):t._e(),e("br"),4!==s.result&&s.pass_rate>.05?e("a",{class:t.answer_class[s.result]},[e("i",{class:t.answer_icon[s.result]+" icon",staticStyle:{opacity:"0"}}),t._v("Passed:"+t._s((100*s.pass_rate).toString().substring(0,4))+"%")]):t._e()],1),e("td",[e("div",{attrs:{id:"center"}},[e("span",{staticClass:"boldstatus"},[t._v(t._s(t.memory_parse(s.memory)))]),e("br"),e("span",{staticClass:"boldstatus"},[t._v(t._s(t.time_parse(s.time)))])])]),e("td",[t.self===s.user_id||t.isadmin?e("router-link",{staticClass:"boldstatus",attrs:{to:"/usercode/local/"+s.solution_id}},[t._v("查看")]):e("span",{staticClass:"boldstatus"},[t._v(t._s(t.language_name[s.oj_name?s.oj_name.toLowerCase():"local"][s.language]))]),(t.self===s.user_id||t.isadmin)&&s.problem_id?e("span",[t._v(" / ")]):t._e(),(t.self===s.user_id||t.isadmin)&&s.problem_id?e("router-link",{staticClass:"boldstatus",attrs:{to:"/contest/problem/"+Math.abs(s.contest_id)+"/"+s.num+"/"+s.solution_id}},[t._v("编辑")]):t._e(),e("br"),t.self===s.user_id||t.isadmin?e("span",{staticClass:"boldstatus"},[t._v(t._s(t.language_name[s.oj_name?s.oj_name.toLowerCase():"local"][s.language])+" / ")]):t._e(),e("span",{staticClass:"boldstatus"},[t._v(t._s(s.length)+"B")])],1),e("td",[t._v(t._s(t.dayjs(s.in_date).format("YYYY-MM-DD HH:mm:ss"))),e("br"),e("p",[t._v("类型:"+t._s(t.detect_place(s.ip)))])]),e("td",[t._v(t._s(s.judger))])])})),0)],1):t._e()},k=[],j=e("20a2"),x=e("6e89");let $=class extends(Object(d["b"])(j["a"],x["a"])){};$=Object(r["c"])([d["a"]],$);var O=$,S=O,A=(e("1c86"),Object(v["a"])(S,w,k,!1,null,"1b76023c",null)),E=A.exports,R=e("30ef"),N=e.n(R),I=e("1157"),L=e.n(I),T=e("180a");const D=L.a,M=e("5a54").default;function P(t){const s=t.result,e=t.label,i=[],a=[],r=[],n=[];let l=0,o=0;u.a.forEach(s,(function(t){t[e[0]]&&t[e[1]]&&(i.push(t[e[0]]+"-"+t[e[1]]),l+=t.submit,o+=t.accepted,a.push(l||0),r.push(o||0),n.push((o/l*100).toString().substring(0,5)))}));const c={type:"line",data:{labels:i,datasets:[{label:"总提交",yAxisID:"submit",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:a,fill:!1},{label:"正确",yAxisID:"submit",fill:!1,backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:r},{label:"正确率",fill:!1,yAxisID:"per",backgroundColor:window.chartColors.green,borderColor:window.chartColors.green,data:n}]},options:{responsive:!0,title:{display:!0,text:"统计信息"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:e[0]+" : "+e[1]}}],yAxes:[{id:"submit",position:"left",display:!0,scaleLabel:{display:!0,labelString:"提交"}},{id:"per",type:"linear",position:"right",scaleLabel:{display:!0,labelString:"正确率"},ticks:{max:100,min:0}}]}}},d=document.getElementById("canvas").getContext("2d");window.myLine=new N.a(d,c)}const U={};function q(t,s="default"){const e=[];if(U[s])return;U[s]=!0,u.a.forEach(t,(function(t){e.push({date:new Date(t.in_date),value:t.code_length})})),l["e"](M);const i=l["d"]("contest_code_length",o["j"]);i.data=e;const a=i.xAxes.push(new o["e"]);a.renderer.minGridDistance=60,i.yAxes.push(new o["i"]);const r=i.series.push(new o["g"]);r.dataFields.valueY="value",r.dataFields.dateX="date",r.tooltipText="{value}",r.tooltip.pointerOrientation="vertical",i.cursor=new o["l"],i.cursor.snapToSeries=r,i.cursor.xAxis=a,i.scrollbarX=new l["b"]}let Y=class extends(Object(d["b"])(n["a"],T["a"])){constructor(){super(...arguments),this.problem_list=[],this.icon_list=[],this.judge_color=[],this.target={},this.language_name={},this.language_icon=[],this.judge_icon=[],this.result=[],this.self="",this.isadmin=!1,this.page_cnt=0,this.dim=!1,this.end=!1,this.finish=!1,this.total=0,this.stat=[],this.cid=null,this.res=["WT","WR","CPL","RN","AC","PE","WA","TLE","MLE","OLE","RE","CE","CF","TR","SP","SR","SE"]}get statistics(){const t={},s={};let e=0,i=19,a=0,r={};u.a.forEach(this.stat,(function(n){s[n.num]||(s[n.num]={}),t[n.num]||(t[n.num]={}),e=Math.max(e,n.result),i=Math.min(i,n.result),a=Math.max(a,n.num),s[n.num][n.result]||(s[n.num][n.result]=0),t[n.num][n.language]=0,r[n.language]=n.language})),r=u.a.values(r),r.sort((t,s)=>t-s);for(let u=0;u<=a;++u)s[u]||(s[u]={});u.a.forEach(s,(function(t,a){for(let r=i;r<=e;++r)s[a][r]=0}));for(let h=0;h<=a;++h)t[h]||(t[h]={}),u.a.forEach(r,(function(s){t[h][s]=0}));u.a.forEach(this.stat,(function(e){++s[e.num][e.result],++t[e.num][e.language]})),u.a.forEach(t,(function(s,e){u.a.forEach(r,(function(s){t[e][s]||(t[e][s]=0)}))}));const n={};u.a.forEach(s,(function(t,e){n[e]||(n[e]=0),u.a.forEach(s[e],(function(t){n[e]+=t}))}));const l={};u.a.forEach(t,(function(s,e){l[e]||(l[e]=0),u.a.forEach(t[e],(function(t){l[e]+=t}))}));const o={};u.a.forEach(t,(function(t){u.a.forEach(t,(function(t,s){o[s]?o[s]+=t:o[s]=t}))}));const c={};u.a.forEach(s,(function(t){u.a.forEach(t,(function(t,s){c[s]?c[s]+=t:c[s]=t}))}));const d=u.a.reduce(n,(function(t,s){return t+s}),0);0===e&&(a=-1);const _=[];for(let u=i;u<=e;++u)_.push(u);return{total_problem:a||0,total_result:_||[],status:this.res||[],stat_data:s||[],used_lang:r,lang_data:t,lang_sum:o||[],stat_sum:c||[],totalSumResult:l,totalSumProblem:n,total_submit:d}}set statistics(t){"OK"===t.status&&(this.total=t.total,this.stat=JSON.parse(JSON.stringify(t.data)))}created(){this.cid=parseInt(this.$route.params.contest_id),this.fetchData()}fetchData(){const t=(this.problem_id=this.getProblemID()||null)||"null",s=(this.user_id=this.getUserId()||null)||"null",e=-1==(this.language=this.getLanguage()||-1)?"null":this.getLanguage(),i=-1==(this.problem_result=this.getResult()||-1)?"null":this.problem_result,a=this.cid||"";this.axios.get(`/api/status/${t}/${s}/${e}/${i}/0/${a}`).then(({data:t})=>{this.dim=!1,this.finish=!0,this.search_func(t)})}onCurrentTagChanged(t){"graph"===t&&this.axios.get("/api/status/problem/code_length/contest/"+this.cid).then(({data:t})=>{u.a.delay(q,0,t.data)})}search_func(t){const s=this;this.setQuery(),s.problem_list=t.result,s.icon_list=t.const_list.icon_list,s.judge_color=t.const_list.judge_color,s.judge_icon=t.const_list.judge_icon,s.language_icon=t.const_list.language_icon,s.target=t.const_list.language.cn.status,s.language_name=t.const_list.language_name,s.result=t.const_list.result.cn,s.self=t.self,s.end=t.end,s.isadmin=t.isadmin||t.browse_code}search(){this.dim=!0,this.page_cnt=0;const t=this.problem_id||"null",s=this.user_id||"null",e=-1==this.language?"null":this.language,i=-1==this.problem_result?"null":this.problem_result,a=20*this.page_cnt,r=this.cid||"",n=Number(this.sim_checkbox),l=Number(this.privilege);this.axios.get(`/api/status/${t}/${s}/${e}/${i}/${a}/${r}/${n}/${l}`).then(({data:t})=>{this.dim=!1,this.search_func(t)})}page(t){this.dim=!0,this.page_cnt+=t;const s=this.problem_id||"null",e=this.user_id||"null",i=-1==this.language?"null":this.language,a=-1==this.problem_result?"null":this.problem_result,r=20*this.page_cnt,n=this.cid||"",l=Number(this.sim_checkbox),o=Number(this.privilege);this.axios.get(`/api/status/${s}/${e}/${i}/${a}/${r}/${n}/${l}/${o}`).then(({data:t})=>{this.dim=!1,this.search_func(t)})}Submit(t){if(!this.auto_refresh)return;const s={};this.user_id&&this.user_id!==t.user_id||~this.problem_result&&t.val.result!==this.problem_result||-1!==this.language&&this.language!==t.val.language||this.page_cnt||this.problem_id&&parseInt(this.problem_id)!==Math.abs(t.val.pid)||(s.problem_id=Math.abs(t.val.id),s.solution_id=t.submission_id,s.nick=t.nick,s.user_id=t.user_id,s.contest_id=Math.abs(parseInt(t.val.cid)),s.num=parseInt(t.val.pid),s.length=t.val.source.length,s.sim=!1,s.language=t.val.language,s.memory=s.time=0,s.in_date=(new Date).toISOString(),s.ip=t.val.ip,s.fingerprint=t.val.fingerprint,s.fingerprintRaw=t.val.fingerprintRaw,s.judger="RATH",s.avatar=!!t.val.avatar,s.result=0,this.problem_list.pop(),this.problem_list.unshift(s))}Update(t){if(!this.auto_refresh)return;if(this.privilege&&isNaN(t.contest_id))return;const s=t.solution_id,e=t.state,i=t.time,a=t.memory,r=t.pass_rate,n=parseInt(t.contest_id),l=parseInt(t.num),o=parseInt(t.sim),c=parseInt(t.sim_s_id);for(const u of this.problem_list)if(u.solution_id==s)return console.warn("int",u),u.result=e,u.time=i,u.memory=a,u.pass_rate=r,u.contest_id=n,u.num=l,u.sim=o,void(u.sim_id=c)}tag(t){this.current_tag=t}updated(){this.$nextTick((function(){D("#cur_problem").dropdown("set selected",this.problem_id)}))}mounted(){document.title=`Contest ${this.cid} Status -- ${document.title}`,this.axios.get("/api/status/graph?cid="+this.cid).then(({data:t})=>{P(t)}),this.axios.get("/api/contest/statistics/"+this.cid).then(({data:t})=>{this.statistics=t}),this.sockets.subscribe("submit",t=>{isNaN(t.val.cid)||Math.abs(parseInt(t.val.cid))!==this.cid||this.Submit(t)}),this.sockets.subscribe("result",t=>{isNaN(t.contest_id)||Math.abs(parseInt(t.contest_id))!==this.cid||this.Update(t)})}beforeDestory(){this.sockets.unsubscribe("submit"),this.sockets.unsubscribe("result")}};Object(r["c"])([Object(d["d"])("current_tag")],Y.prototype,"onCurrentTagChanged",null),Y=Object(r["c"])([Object(d["a"])({components:{StatusTable:E,Statistics:C}})],Y);var z=Y,B=z,G=(e("1adb"),e("bd500")),H=Object(v["a"])(B,i,a,!1,null,"5de3ba9d",null);"function"===typeof G["default"]&&Object(G["default"])(H);s["default"]=H.exports},a5d2:function(t,s,e){"use strict";var i=e("4a84"),a=e.n(i);s["default"]=a.a},ae2c:function(t,s){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"auto refresh":"自动刷新","show cheat only":"仅显示判重提交","test run invisible":"不显示测试运行","show user only":"仅显示本人提交","submit status":"提交状态","submit graph":"提交图表","result statistic":"结果统计","user statistic":"用户统计","not selected":"未选择"},"en":{"auto refresh":"Auto Refresh","show cheat only":"Show Cheating Only","test run invisible":"Exclude TestRun Submission","submit status":"Submit Status","show user only":"Show Yourself Only","submit graph":"Submission Graph","result statistic":"Result Statistics","user statistic":"User statistics","not selected":"Not Selected"},"ja":{"auto refresh":"自動リフレッシュ","show cheat only":"チート提出のみを表示","test run invisible":"テスト提出を表示しない","submit status":"提出リスト","show user only":"自分だけを表示","submit graph":"提出グラフ","result statistics":"結果統計","user statistic":"ユーザー統計","not selected":"選択されていません"}}'),delete t.options._Ctor}},b1f2:function(t,s,e){},bd500:function(t,s,e){"use strict";var i=e("ae2c"),a=e.n(i);s["default"]=a.a}}]);