(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83d0e728"],{f081:function(n,e){n.exports=function(n){n.options.__i18n=n.options.__i18n||[],n.options.__i18n.push('{"zh-cn":{"frontend module version":"前端模块版本","backend module version":"后端模块版本","current version":"当前版本","repo branch version":"仓库模块版本","version control":"版本管理"},"en":{"frontend module version":"Frontend Module Version","backend module version":"Backend Module Version","current version":"Current Version","repo branch version":"Repository Branch Version","version control":"Version Control"},"ja":{"frontend module version":"フロントエンドモジュールバージョン","backend module version":"バックエンドモジュールバージョン","current version":"現在のバージョン","repo branch version":"リポジトリブランチバージョン","version control":"バージョン管理"}}'),delete n.options._Ctor}},f288:function(n,e,t){"use strict";var s=t("f081"),r=t.n(s);e["default"]=r.a},f53c:function(n,e,t){"use strict";t.r(e);var s=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"ui container padding"},[t("h2",{staticClass:"ui dividing header"},[n._v(n._s(n.$t("version control")))]),t("div",{staticClass:"ui grid",staticStyle:{"margin-left":"0"}},[t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("frontend module version"))+" ")])]),t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("current version"))+" ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"ui card"},[t("RepoInfoCard",{scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(n.currentFrontendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("repo branch version"))+" ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"ui cards"},n._l(n.frontendBranch,(function(e,s){return t("RepoInfoCard",{key:s,scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(e.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[n._v(" "+n._s(e.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)]),t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("backend module version"))+" ")])]),t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("current version"))+" ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"ui card"},[t("RepoInfoCard",{scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(n.currentBackendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),t("div",{staticClass:"row"},[t("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("repo branch version"))+" ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"ui cards"},n._l(n.backendBranch,(function(e,s){return t("RepoInfoCard",{key:s,scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(e.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[n._v(" "+n._s(e.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)])])])},r=[],i=(t("e260"),t("4e82"),t("e6cf"),t("ddb0"),t("9ab4")),o=t("60a3"),a=t("2cd4"),c=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"ui card"},[t("div",{staticClass:"content"},[t("div",{staticClass:"header"},[n._t("header")],2),t("div",{staticClass:"meta"},[n._t("meta")],2),t("p",[n._t("content")],2)])])},d=[],u=t("2b0e");let l=class extends u["a"]{};l=Object(i["c"])([o["a"]],l);var v=l,h=v,f=t("2877"),p=Object(f["a"])(h,c,d,!1,null,"1d2c2c24",null),_=p.exports,b=t("9224");let C=class extends(Object(o["b"])(a["a"])){constructor(){super(...arguments),this.frontendBranch=[],this.backendBranch=[],this.currentFrontendInfo=b,this.currentBackendInfo={},this.frontendRepo="ryanlee2014/CUP-Online-Judge-NG-Frontend",this.backendRepo="CUP-ACM-Programming-Club/CUP-Online-Judge-Express"}mounted(){this.initFrontendData(),this.initBackendData()}buildBranchAPIUrl(n){return`https://api.github.com/repos/${n}/branches?timestamp=${Date.now()}`}buildVersion(n,e){const t=[];return e.forEach(e=>{const s=this.axios.get(this.buildJsDelivrLink(n,e.name)).then(({data:n})=>(e.version=n.version,e));t.push(s)}),Promise.all(t)}baseInitData(n,e){this.axios.get(this.buildBranchAPIUrl(n)).then(({data:e})=>this.buildVersion(n,e)).then(n=>(n.sort((n,e)=>n.version<e.version?1:n.version>e.version?-1:0),n)).then(n=>{this[e]=n})}initFrontendData(){this.baseInitData(this.frontendRepo,"frontendBranch")}initBackendData(){this.baseInitData(this.backendRepo,"backendBranch"),this.getBackendVersion()}getBackendVersion(){this.axios.get("/api/system/config/version_control/version").then(({data:n})=>{this.currentBackendInfo=this.buildVersionPackage(n.data)})}buildVersionPackage(n){return{version:n}}buildJsDelivrLink(n,e){return`https://cdn.jsdelivr.net/gh/${n}@${e}/package.json?timestamp=${Date.now()}`}};C=Object(i["c"])([Object(o["a"])({components:{RepoInfoCard:_}})],C);var k=C,m=k,y=t("f288"),g=Object(f["a"])(m,s,r,!1,null,"54e4d7d8",null);"function"===typeof y["default"]&&Object(y["default"])(g);e["default"]=g.exports}}]);