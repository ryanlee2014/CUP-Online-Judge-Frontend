{"version":3,"sources":["webpack:///./src/mixin/init.ts","webpack:///./src/views/system/github_repo_info.vue?9ac6","webpack:///./src/views/system/github_repo_info.vue?b8ff","webpack:///./src/views/system/github_repo_info.vue?b4bd","webpack:///./src/components/system/repoInfoCard.vue?44cd","webpack:///./src/components/system/repoInfoCard.vue","webpack:///./src/components/system/repoInfoCard.vue?7528","webpack:///./src/components/system/repoInfoCard.vue?4896","webpack:///./src/views/system/github_repo_info.vue","webpack:///./src/views/system/github_repo_info.vue?1e8b","webpack:///./src/views/system/github_repo_info.vue?9538"],"names":["InitMixin","customConfig","init","this","$store","getters","homepage","document","title","module","exports","Component","options","__i18n","push","_Ctor","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","staticStyle","scopedSlots","_u","key","fn","currentFrontendInfo","version","proxy","_l","row","name","currentBackendInfo","staticRenderFns","_t","component","frontendBranch","backendBranch","frontendRepo","backendRepo","initFrontendData","initBackendData","repo","Date","now","githubData","resolveArray","forEach","e","resolve","axios","get","buildJsDelivrLink","then","data","Promise","all","branchKey","buildBranchAPIUrl","buildVersion","sort","a","b","baseInitData","getBackendVersion","buildVersionPackage","branch","components","RepoInfoCard"],"mappings":"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","file":"static/js/chunk-cdf50684-legacy.8a46a102.js","sourcesContent":["import Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport util from \"../lib/util\";\nimport config from \"../../config/environment.json\";\n\n@Component\nexport default class InitMixin extends Vue {\n    customConfig = config;\n    mounted () {\n        util.init(this.$store.getters.homepage);\n        document.title = config.title;\n    }\n}\n","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh-cn\":{\"frontend module version\":\"前端模块版本\",\"backend module version\":\"后端模块版本\",\"current version\":\"当前版本\",\"repo branch version\":\"仓库模块版本\",\"version control\":\"版本管理\"},\"en\":{\"frontend module version\":\"Frontend Module Version\",\"backend module version\":\"Backend Module Version\",\"current version\":\"Current Version\",\"repo branch version\":\"Repository Branch Version\",\"version control\":\"Version Control\"},\"ja\":{\"frontend module version\":\"フロントエンドモジュールバージョン\",\"backend module version\":\"バックエンドモジュールバージョン\",\"current version\":\"現在のバージョン\",\"repo branch version\":\"リポジトリブランチバージョン\",\"version control\":\"バージョン管理\"}}')\n  delete Component.options._Ctor\n}\n","import mod from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./github_repo_info.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./github_repo_info.vue?vue&type=custom&index=0&blockType=i18n\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container padding\"},[_c('h2',{staticClass:\"ui dividing header\"},[_vm._v(_vm._s(_vm.$t(\"version control\")))]),_c('div',{staticClass:\"ui grid\",staticStyle:{\"margin-left\":\"0\"}},[_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"frontend module version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"current version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"ui card\"},[_c('RepoInfoCard',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.currentFrontendInfo.version)+\" \")]},proxy:true},{key:\"meta\",fn:function(){return undefined},proxy:true}])})],1)]),_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"repo branch version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"ui cards\"},_vm._l((_vm.frontendBranch),function(row,key){return _c('RepoInfoCard',{key:key,scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(row.name)+\" \")]},proxy:true},{key:\"meta\",fn:function(){return [_vm._v(\" \"+_vm._s(row.version)+\" \")]},proxy:true},{key:\"content\",fn:function(){return undefined},proxy:true}],null,true)})}),1)]),_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"backend module version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"current version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"ui card\"},[_c('RepoInfoCard',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.currentBackendInfo.version)+\" \")]},proxy:true},{key:\"meta\",fn:function(){return undefined},proxy:true}])})],1)]),_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"ui header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"repo branch version\"))+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"ui cards\"},_vm._l((_vm.backendBranch),function(row,key){return _c('RepoInfoCard',{key:key,scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(row.name)+\" \")]},proxy:true},{key:\"meta\",fn:function(){return [_vm._v(\" \"+_vm._s(row.version)+\" \")]},proxy:true},{key:\"content\",fn:function(){return undefined},proxy:true}],null,true)})}),1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui card\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header\"},[_vm._t(\"header\")],2),_c('div',{staticClass:\"meta\"},[_vm._t(\"meta\")],2),_c('p',[_vm._t(\"content\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\n@Component\nexport default class RepoInfoCard extends Vue {\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repoInfoCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repoInfoCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./repoInfoCard.vue?vue&type=template&id=1d2c2c24&scoped=true&\"\nimport script from \"./repoInfoCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./repoInfoCard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d2c2c24\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport InitMixin from \"../../mixin/init\";\nimport RepoInfoCard from \"@/components/system/repoInfoCard.vue\";\nimport Package from \"../../../package.json\";\n@Component({\n    components: {\n        RepoInfoCard\n    }\n})\nexport default class GithubRepoInfo extends Mixins(InitMixin) {\n    frontendBranch: any[] = [];\n    backendBranch: any[] = [];\n    currentFrontendInfo = Package;\n    currentBackendInfo: any = {};\n    [id: string]: any;\n    frontendRepo = \"ryanlee2014/CUP-Online-Judge-NG-Frontend\";\n    backendRepo = \"CUP-ACM-Programming-Club/CUP-Online-Judge-Express\";\n    mounted () {\n        this.initFrontendData();\n        this.initBackendData();\n    }\n\n    buildBranchAPIUrl (repo: string) {\n        return `https://api.github.com/repos/${repo}/branches?timestamp=${Date.now()}`;\n    }\n\n    buildVersion (repo: string, githubData: any[]) {\n        const resolveArray: any[] = [];\n        githubData.forEach((e) => {\n            const resolve = this.axios.get(this.buildJsDelivrLink(repo, e.name))\n                .then(({ data }) => {\n                    e.version = data.version;\n                    return e;\n                });\n            resolveArray.push(resolve);\n        });\n        return Promise.all(resolveArray);\n    }\n\n    baseInitData (repo: string, branchKey: string) {\n        this.axios.get(this.buildBranchAPIUrl(repo))\n            .then(({ data }) => {\n                return this.buildVersion(repo, data);\n            })\n            .then(data => {\n                data.sort((a: any, b: any) => {\n                    return a.version < b.version ? 1 : a.version > b.version ? -1 : 0;\n                });\n                return data;\n            })\n            .then(data => {\n                this[branchKey] = data;\n            });\n    }\n\n    initFrontendData () {\n        this.baseInitData(this.frontendRepo, \"frontendBranch\");\n    }\n\n    initBackendData () {\n        this.baseInitData(this.backendRepo, \"backendBranch\");\n        this.getBackendVersion();\n    }\n\n    getBackendVersion () {\n        this.axios.get(\"/api/system/config/version_control/version\")\n            .then(({ data }) => {\n                this.currentBackendInfo = this.buildVersionPackage(data.data);\n            });\n    }\n\n    buildVersionPackage (version: string) {\n        return { version };\n    }\n\n    buildJsDelivrLink (repo: string, branch: string) {\n        return `https://cdn.jsdelivr.net/gh/${repo}@${branch}/package.json?timestamp=${Date.now()}`;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./github_repo_info.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./github_repo_info.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./github_repo_info.vue?vue&type=template&id=54e4d7d8&scoped=true&\"\nimport script from \"./github_repo_info.vue?vue&type=script&lang=ts&\"\nexport * from \"./github_repo_info.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54e4d7d8\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./github_repo_info.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}