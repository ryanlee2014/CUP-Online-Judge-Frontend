(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39d8e0bb"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3");var n=r("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},"07ac":function(t,e,r){var n=r("23e7"),a=r("6f53").values;n({target:"Object",stat:!0},{values:function(t){return a(t)}})},"19dd":function(t,e,r){"use strict";r("4160"),r("d3b7"),r("4ae1"),r("25f0"),r("159b");var n=r("d4ec"),a=r("bee2"),i=r("262e"),o=r("99de"),s=r("7e84"),c=r("9ab4"),u=r("60a3"),l=r("5dbd"),f=r("2b0e");function d(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(s["a"])(t);if(e()){var a=Object(s["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o["a"])(this,r)}}var h=function(t){Object(i["a"])(r,t);var e=d(r);function r(){var t;return Object(n["a"])(this,r),t=e.apply(this,arguments),t.timer_=[],t}return Object(a["a"])(r,[{key:"beforeDestroy",value:function(){var t=this.timer_;t.forEach((function(t){return clearInterval(t)}))}}]),r}(f["a"]);Object(c["c"])([l["b"]],h.prototype,"beforeDestroy",null),h=Object(c["c"])([u["a"]],h),e["a"]=h},"21a6":function(t,e,r){(function(r){var n,a,i;(function(r,o){a=[],n=o,i="function"===typeof n?n.apply(e,a):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=o.URL||o.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):a(c.href)?n(t,e,r):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),r);else if(a(t))n(t,r,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,e,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,r);var i="application/octet-stream"===t.type,s=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},u.readAsDataURL(t)}else{var l=o.URL||o.webkitURL,f=l.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout((function(){l.revokeObjectURL(f)}),4e4)}});o.saveAs=s.saveAs=s,t.exports=s}))}).call(this,r("c8ba"))},2500:function(t,e,r){var n,a,i;!function(r,o){a=[e],n=o,i="function"===typeof n?n.apply(e,a):n,void 0===i||(t.exports=i)}(0,(function(t){var e,r,n=window,a=document,i="mousemove",o="mouseup",s="mousedown",c="EventListener",u="add"+c,l="remove"+c,f=[],d=function(t,c){for(t=0;t<f.length;)c=f[t++],c=c.container||c,c[l](s,c.md,0),n[l](o,c.mu,0),n[l](i,c.mm,0);for(f=[].slice.call(a.getElementsByClassName("dragscroll")),t=0;t<f.length;)!function(t,c,l,f,d,h){(h=t.container||t)[u](s,h.md=function(e){t.hasAttribute("nochilddrag")&&a.elementFromPoint(e.pageX,e.pageY)!=h||(f=1,c=e.clientX,l=e.clientY,e.preventDefault())},0),n[u](o,h.mu=function(){f=0},0),n[u](i,h.mm=function(n){f&&((d=t.scroller||t).scrollLeft-=e=-c+(c=n.clientX),d.scrollTop-=r=-l+(l=n.clientY),t==a.body&&((d=a.documentElement).scrollLeft-=e,d.scrollTop-=r))},0)}(f[t++])};"complete"==a.readyState?d():n[u]("load",d,0),t.reset=d}))},"27ea":function(t,e,r){},2909:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("6b75");function a(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=r("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||i(t)||Object(o["a"])(t)||s()}},29353:function(t,e,r){},"2cd4":function(t,e,r){"use strict";r("d3b7"),r("4ae1"),r("25f0");var n=r("d4ec"),a=r("bee2"),i=r("262e"),o=r("99de"),s=r("7e84"),c=r("9ab4"),u=r("2b0e"),l=r("60a3"),f=r("3657"),d=r("0443");function h(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(s["a"])(t);if(e()){var a=Object(s["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o["a"])(this,r)}}var p=function(t){Object(i["a"])(r,t);var e=h(r);function r(){var t;return Object(n["a"])(this,r),t=e.apply(this,arguments),t.customConfig=d,t}return Object(a["a"])(r,[{key:"mounted",value:function(){f["a"].init(this.$store.getters.homepage),document.title=d.title}}]),r}(u["a"]);p=Object(c["c"])([l["a"]],p),e["a"]=p},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),i=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,l,f,d,h,p=a(t),v="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,y=void 0!==b,g=u(p),_=0;if(y&&(b=n(b,m>2?arguments[2]:void 0,2)),void 0==g||v==Array&&o(g))for(e=s(p.length),r=new v(e);e>_;_++)h=y?b(p[_],_):p[_],c(r,_,h);else for(f=g.call(p),d=f.next,r=new v;!(l=d.call(f)).done;_++)h=y?i(f,b,[l.value,_],!0):l.value,c(r,_,h);return r.length=_,r}},"50a2":function(t,e,r){"use strict";var n=r("29353"),a=r.n(n);a.a},"5dbd":function(t,e,r){"use strict";r.d(e,"a",(function(){return l})),r.d(e,"d",(function(){return f})),r.d(e,"b",(function(){return d})),r.d(e,"f",(function(){return h})),r.d(e,"e",(function(){return p})),r.d(e,"c",(function(){return v}));r("99af"),r("a15b"),r("d81d"),r("b0c0"),r("96cf");var n=r("1da1"),a=r("2ef0"),i=r.n(a),o=function(){},s=o;function c(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];s.apply(void 0,[t].concat(r))}}var u=c("Decorator mounted: ");function l(t,e){return function(r,n,a){u("debounce, target:".concat(r.constructor.name,", propertyName:").concat(n));var o=a.value;return a.value=i.a.debounce(o,t,e),a}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,r,n){u("Interval, target:".concat(e.constructor.name,", propertyName:").concat(r));var a=n.value;n.value=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if("undefined"===typeof this.timer_||"undefined"===typeof this.timer_.length)throw new Error("You should mixin TimerMixin to your component");a.apply(this,o),this.timer_.push(setInterval((function(){u("".concat(e.constructor.name,".").concat(r," called.")),a.apply(n,o)}),t))},s("mounted interval")}}function d(t,e,r){u("Debuglogging, target:".concat(t.constructor.name,", propertyName:").concat(e));var n=r.value;r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r.map((function(t){return JSON.stringify(t)})).join(),o=n.apply(this,r),c=JSON.stringify(o);return s("Call: ".concat(e,"(").concat(i,") => ").concat(c)),o}}function h(t,e,r){u("WebSocketRequest, target:".concat(t.constructor.name,", propertyName:").concat(e));var n=r.value;r.value=function(){if(this.$socket.connected){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,e)}alert("WebSocket服务未启动，请等待服务启动后提交\nWebSocket服务启动标志未:\n右上角显示在线人数")}}function p(t){return function(e,r,a){u("Lock, target:".concat(e.constructor.name,", propertyName:").concat(r));var i=a.value;a.value=Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.acquireAsync();case 2:for(r=s.length,n=new Array(r),a=0;a<r;a++)n[a]=s[a];return o=i.apply(this,n),t.release(),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})))}}function v(t,e,r){var n=r.value;r.value=function(){try{for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,e)}catch(a){alert(a.message)}}}},6062:function(t,e,r){"use strict";var n=r("6d61"),a=r("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,r){"use strict";var n=r("9bf2").f,a=r("7c73"),i=r("e2cc"),o=r("0366"),s=r("19aa"),c=r("2266"),u=r("7dd0"),l=r("2626"),f=r("83ab"),d=r("f183").fastKey,h=r("69f3"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,r,u){var l=t((function(t,n){s(t,l,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=n&&c(n,t[u],t,r)})),h=v(e),m=function(t,e,r){var n,a,i=h(t),o=b(t,e);return o?o.value=r:(i.last=o={index:a=d(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),f?i.size++:t.size++,"F"!==a&&(i.index[a]=o)),t},b=function(t,e){var r,n=h(t),a=d(e);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==e)return r};return i(l.prototype,{clear:function(){var t=this,e=h(t),r=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,r=h(e),n=b(e,t);if(n){var a=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=a),a&&(a.previous=i),r.first==n&&(r.first=a),r.last==n&&(r.last=i),f?r.size--:e.size--}return!!n},forEach:function(t){var e,r=h(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:r.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),i(l.prototype,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&n(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",a=v(e),i=v(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},"6d61":function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("f183"),c=r("2266"),u=r("19aa"),l=r("861d"),f=r("d039"),d=r("1c7e"),h=r("d44e"),p=r("7156");t.exports=function(t,e,r){var v=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),b=v?"set":"add",y=a[t],g=y&&y.prototype,_=y,w={},k=function(t){var e=g[t];o(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(i(t,"function"!=typeof y||!(m||g.forEach&&!f((function(){(new y).entries().next()})))))_=r.getConstructor(e,t,v,b),s.REQUIRED=!0;else if(i(t,!0)){var j=new _,O=j[b](m?{}:-0,1)!=j,x=f((function(){j.has(1)})),S=d((function(t){new y(t)})),R=!m&&f((function(){var t=new y,e=5;while(e--)t[b](e,e);return!t.has(-0)}));S||(_=e((function(e,r){u(e,_,t);var n=p(new y,e,_);return void 0!=r&&c(r,n[b],n,v),n})),_.prototype=g,g.constructor=_),(x||R)&&(k("delete"),k("has"),v&&k("get")),(R||O)&&k(b),m&&g.clear&&delete g.clear}return w[t]=_,n({global:!0,forced:_!=y},w),h(_,t),m||r.setStrong(_,t,v),_}},"6ef6":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.state?r("div",{staticClass:"contestrank scoreboard padding"},[r("h2",{staticClass:"ui dividing header"},[t._v(" "+t._s(-1!==t.total&&t.finished?"Contest Rank":"计算中,请稍后")+" "),r("div",{staticClass:"sub header"},[t._v(" "+t._s(t.title)+" ")])]),r("div",{staticClass:"ui grid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"left aligned eight wide column"},[r("TimeView",{attrs:{start_time:t.start_time}})],1),r("div",{staticClass:"right aligned eight wide column"},[t.playing?t._e():r("button",{staticClass:"ui primary button item",on:{click:t.playRanklist}},[t._v("播放排名变化")]),t.playing?r("span",[t._v(" "+t._s(t.playingTime)+" ")]):t._e(),t.playing?r("button",{staticClass:"ui primary button",on:{click:t.pausePlayRanklist}},[t._v(t._s(t.playing?"暂停":"继续"))]):t._e(),t.playing?r("button",{staticClass:"ui primary button",on:{click:t.stopPlayRanklist}},[t._v("停止")]):t._e(),r("div",{staticClass:"ui toggle checkbox"},[r("input",{attrs:{type:"checkbox"},on:{click:function(e){t.auto_update=!t.auto_update}}}),r("label",[t._v("暂停自动更新排名")])]),r("div",{staticClass:"ui toggle checkbox"},[r("input",{attrs:{type:"checkbox"},on:{click:function(e){t.add_name=!t.add_name}}}),r("label",[t._v("加入学号")])]),r("a",{staticClass:"ui primary mini button",on:{click:t.exportXLS}},[t._v("Save to XLS")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"ranking dragscroll",staticStyle:{width:"100%",overflow:"auto"}},[r("table",{staticClass:"ui small celled table",attrs:{id:"rank"}},[r("thead",[r("tr",{staticClass:"toprow",attrs:{align:"center"}},[r("th",{staticClass:"{sorter:'false'}",attrs:{width:"5%"}},[t._v("Rank ")]),r("th",{attrs:{width:"5%"}},[t._v("User")]),r("th",{staticStyle:{"min-width":"90px"}},[t._v("Nick")]),t.add_name?r("th",{attrs:{width:"5%"}},[t._v("Id")]):t._e(),r("th",{attrs:{width:"5%"}},[t._v("Solved")]),r("th",{attrs:{width:"5%"}},[t._v("Penalty")]),t._l(Array.from(Array(Math.max(0,t.total)).keys()),(function(e){return r("th",{key:e,staticStyle:{"min-width":"85.71px"}},[t._v(t._s(1001+e)+" ")])}))],2)]),r("transition-group",{attrs:{name:"list-complete",tag:"tbody"}},t._l(t.submitter,(function(e,n){return r("tr",{key:e.user_id,staticClass:"list-complete-item",staticStyle:{cursor:"grab!important"}},[r("td",{class:t.rankClass(n),staticStyle:{"text-align":"center","font-weight":"bold",position:"sticky",left:"0"}},[t._v(t._s(e.rank)+" ")]),r("td",{staticClass:"ui white"},[r("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(t._s(e.user_id))])],1),r("td",{staticClass:"ui white"},[r("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(t._s(t.convertHTML(e.nick)))])],1),t.add_name?r("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.convertHTML(e.real_name)))]):t._e(),r("td",{staticStyle:{"text-align":"center"}},[r("router-link",{attrs:{to:"/contest/status/"+t.cid+"?user_id="+e.user_id}},[t._v(t._s(e.ac)+" ")])],1),r("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.format_date(e.penalty_time)))]),t._l(e.problem.toArray(),(function(e,n){return r("ResultGrid",{key:n+0,attrs:{gridBackground:e.accept.length>0?e.first_blood?1:-1:0,problem:e,lock:t.popupLock,format_date:t.format_date}})}))],2)})),0)],1),r("table",{style:"display:none;vnd.ms-excel.numberformat:@",attrs:{id:"save"}},[r("tbody",[r("tr",{staticClass:"toprow",attrs:{align:"center"}},[r("td",{attrs:{width:"5%"}},[t._v("Rank ")]),r("td",{attrs:{width:"5%"}},[t._v("User")]),r("td",[t._v("Nick")]),t.add_name?r("td",{attrs:{width:"5%"}},[t._v("学号")]):t._e(),r("td",{attrs:{width:"5%"}},[t._v("Solved")]),r("td",{attrs:{width:"5%"}},[t._v("Penalty")]),r("td",[t._v("环境指纹数")]),r("td",[t._v("硬件指纹数")]),r("td",[t._v("IP总数")]),r("td",[t._v("地点")]),t._l(Array.from(Array(Math.max(0,t.total)).keys()),(function(e){return r("td",{key:e},[t._v(t._s(1001+e))])}))],2),t._l(t.submitter,(function(e,n){return r("tr",{key:n},[r("td",{attrs:{align:"center"}},[t._v(t._s(e.rank))]),r("td",{attrs:{align:"center"}},[t._v(t._s(e.user_id))]),r("td",{attrs:{align:"center"}},[t._v(t._s(t.convertHTML(e.nick)))]),t.add_name?r("td",{attrs:{align:"center"}},[t._v(t._s(t.convertHTML(e.real_name)))]):t._e(),r("td",{attrs:{align:"center"}},[t._v(t._s(e.ac))]),r("td",[t._v(t._s(t.format_date(e.penalty_time)))]),r("td",[t._v(t._s(e.fingerprintSet.size))]),r("td",[t._v(t._s(e.hardwareFingerprintSet.size))]),r("td",[t._v(t._s(e.ipSet.size))]),r("td",[t._v(t._s(1===e.ipSet.size?t.detectPlace(Array.from(e.ipSet)[0]):0===e.ipSet.size?"无":"略")+" ")]),t._l(e.problem.toArray(),(function(e,n){return r("td",{key:n,attrs:{bgcolor:"#FF"+t.formatColor(Math.max(Math.floor(256-256*Math.max(e.sim-69,0)/31)-1,0)),align:"left"}},[t._v(" "+t._s(e.submit.length>0?"(-":"")+t._s(e.try_time>0?e.try_time+")":e.submit.length>0?e.submit.length+")":"")+t._s(e.accept.length>0?t.format_date(e.accept[0].diff(e.start_time,"second")):"")+t._s(e.sim>0?"("+e.sim+"%)":"")+" ")])}))],2)}))],2)])])])])]):r("ErrorView",{attrs:{errormsg:t.errormsg}})},a=[],i=(r("99af"),r("4de4"),r("7db0"),r("4160"),r("a630"),r("caad"),r("c975"),r("a15b"),r("b65f"),r("d3b7"),r("07ac"),r("4ae1"),r("ac1f"),r("25f0"),r("6062"),r("2532"),r("3ca3"),r("5319"),r("1276"),r("159b"),r("ddb0"),r("d4ec")),o=r("bee2"),s=r("262e"),c=r("99de"),u=r("7e84"),l=r("9ab4"),f=r("2cd4"),d=r("21a6"),h=r("3657"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h3",{staticClass:"ui header"},[t._v(" 当前时间:"+t._s(t.current_time)+" "),t.start_time?r("div",{staticClass:"sub header"},[t._v(" 起始时间:"+t._s(t.dayjs(t.start_time).format("YYYY-MM-DD HH:mm:ss"))+", "+t._s(t.format_time(t.dayjs().diff(t.start_time,"second")))+" ")]):t._e()])},v=[],m=(r("a9e3"),r("5a0c")),b=r.n(m),y=r("60a3"),g=r("19dd"),_=r("5dbd");function w(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(u["a"])(t);if(e()){var a=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c["a"])(this,r)}}var k=function(t){Object(s["a"])(r,t);var e=w(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.current_time="",t.dayjs=b.a,t}return Object(o["a"])(r,[{key:"created",value:function(){this.current_time=this.currentTime()}},{key:"currentTime",value:function(){return b()().format("YYYY-MM-DD HH:mm:ss")}},{key:"timeUpdater",value:function(){this.current_time=this.currentTime()}},{key:"mounted",value:function(){this.timeUpdater()}},{key:"format_time",value:function(t){var e=["还有","已经过"],r=Number(t>0);return e[r]+this.format_date(t)}},{key:"fillZero",value:function(t){return t.length<2?"0"+t:t}},{key:"format_date",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var r=String(Math.trunc(t/3600));r=this.fillZero(r);var n=String(Math.trunc((t-3600*parseInt(r))/60));n=this.fillZero(n);var a=String(t%60);return a=this.fillZero(a),e?r+" : "+n+" : "+a:r+":"+n+":"+a}}]),r}(Object(y["b"])(g["a"]));Object(l["c"])([Object(y["c"])({default:b()()})],k.prototype,"start_time",void 0),Object(l["c"])([Object(_["d"])(1e3)],k.prototype,"timeUpdater",null),k=Object(l["c"])([y["a"]],k);var j=k,O=j,x=r("2877"),S=Object(x["a"])(O,p,v,!1,null,"145b8b58",null),R=S.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ui container padding"},[t._m(0),r("div",{staticClass:"ui segment"},[r("div",{staticClass:"ui error message"},[r("div",{staticClass:"header"},[t._v(" 错误信息内容 ")]),r("br"),r("h5",{staticClass:"ui header"},[t._v("URL:"+t._s(t.location.href))]),r("br"),r("b",[r("p",{domProps:{innerHTML:t._s(t.errormsg)}})])])])])},A=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",{staticClass:"ui dividing header"},[t._v(" 发生错误 "),r("div",{staticClass:"sub header"},[t._v(" 请把以下内容反馈给老师、助教或本平台的开发者Ryan Lee(李昊元) ")])])}],I=r("2b0e");function T(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(u["a"])(t);if(e()){var a=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c["a"])(this,r)}}var L=function(t){Object(s["a"])(r,t);var e=T(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.location=location,t}return r}(I["a"]);Object(l["c"])([Object(y["c"])({default:""})],L.prototype,"errormsg",void 0),L=Object(l["c"])([y["a"]],L);var E=L,M=E,D=Object(x["a"])(M,C,A,!1,null,"293a19dc",null),P=D.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{ref:"block",class:t.gridBackgroundClass,staticStyle:{"text-align":"center"},attrs:{"data-html":t.generateDataHTML},on:{mouseenter:t.triggerPopup}},[r("b",{class:"text "+(t.problem.accept.length>0?t.problem.first_blood?"first accept":"accept":"red")},[t._v(" "+t._s(t.problem.accept.length>0||t.problem.submit.length>0?"+":"")+" "+t._s(t.problem.try_time>0?t.problem.try_time:0==t.problem.accept.length&&t.problem.submit.length>0?t.problem.submit.length:""))]),t.problem.accept.length>0?r("br"):t._e(),t.problem.accept.length>0&&"function"===typeof t.problem.accept[0].diff?r("span",{class:t.problem.first_blood?"first accept text":""},[t._v(" "+t._s(t.format_date(t.problem.accept[0].diff(t.problem.start_time,"second")))+" ")]):t._e()])},H=[],q=(r("a4d3"),r("e01a"),r("d28b"),r("d81d"),r("2909")),B=(r("96cf"),r("1da1")),U=r("1157"),Y=r.n(U);function F(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(u["a"])(t);if(e()){var a=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c["a"])(this,r)}}var z=Y.a,W=function(t){Object(s["a"])(r,t);var e=F(r);function r(){return Object(i["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"triggerPopup",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.lock,r=this.problem.submit,n=this.problem.accept,(r.length>0||n.length>0)&&(a=e.tryAcquire(),a&&(z(this.$refs.block).popup({hoverable:!0}).popup("show"),e.release()));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"buildItem",value:function(){var t=this.problem.submit,e=this.problem.accept,r=[].concat(Object(q["a"])(t.map((function(t){return{pass:!1,time:t}}))),Object(q["a"])(e.map((function(t){return{pass:!0,time:t}}))));r.sort((function(t,e){return t.time.isBefore(e.time)?-1:t.time.isAfter(e.time)?1:0}));var n="",a=13,i=r.length>a,o=r.length;while(r.length>a)r.shift();i&&(n+='<div class="item"><i class="icon"></i><div class="content"><div class="header">Trim '.concat(o-a," submission</div> </div></div>"));var s=!0,c=!1,u=void 0;try{for(var l,f=r[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value,h='<div class="item">';d.pass?h+='<i class="checkmark icon"></i>':h+='<i class="remove icon"></i>',h+='<div class="content">',h+='<div class="header">'.concat(d.pass?"Passed":"Failed","</div>"),h+='<div class="description">'.concat(d.time.format("YYYY-MM-DD HH:mm:ss"),"</div>"),h+="</div></div>",n+=h}}catch(p){c=!0,u=p}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}return n}},{key:"generateDataHTML",get:function(){var t='<div class="ui list">';return t+=this.buildItem(),t+="</div>",t}},{key:"gridBackgroundClass",get:function(){var t=this.gridBackground;return 0===t?"":1===t?"first accept":"accept"}}]),r}(I["a"]);Object(l["c"])([Object(y["c"])({default:0})],W.prototype,"gridBackground",void 0),Object(l["c"])([Object(y["c"])({default:function(){}})],W.prototype,"lock",void 0),Object(l["c"])([Object(y["c"])({default:function(){return{accept:[],submit:[]}}})],W.prototype,"problem",void 0),Object(l["c"])([Object(y["c"])({default:function(){return function(){}}})],W.prototype,"format_date",void 0),W=Object(l["c"])([y["a"]],W);var X=W,Z=X,J=(r("c14d"),Object(x["a"])(Z,N,H,!1,null,"f1553410",null)),K=J.exports,V=r("fa82"),G=r.n(V),Q=r("2ef0"),tt=r.n(Q),et=(r("498a"),r("53ca")),rt=b()();function nt(t){var e,r,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n}function at(){}function it(t,e){return t.isBefore(e)?-1:t.isAfter(e)?1:0}function ot(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&!isNaN(parseInt(r))&&e.push(t[r]);return e}function st(){var t={submit:[],accept:[],sim:0,try_time:0,start_time:rt,first_blood:!1,_submit:new Set,_accept:new Set,set:at,update:at,addSubmit:at,calculatePenaltyTime:at,isAccepted:at,getAcceptTime:at,newInstance:at};return t.set=function(e){Object.assign(t,e)},t.update=function(t,e){return null!==this[t]&&"object"===Object(et["a"])(this[t])&&"function"===typeof this[t].push?this["_"+t].has(nt(e.toString()))||(this["_"+t].add(nt(e.toString())),this[t].push(e)):"number"===typeof this[t]&&(this[t]=e),this},t.addSubmit=function(t){switch(parseInt(t.result)){case 4:this.update("accept",b()(t.in_date));break;case 5:case 6:case 7:case 8:case 9:case 10:this.update("submit",b()(t.in_date));break}},t.calculatePenaltyTime=function(){var t=this.start_time;if(this.accept.length>0){this.accept.sort(it),this.submit.sort(it);var e=this.accept[0].diff(t,"second");this.try_time=0;var r=!0,n=!1,a=void 0;try{for(var i,o=this.submit[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(!s.isBefore(this.accept[0]))break;++this.try_time,e+=1200}}catch(c){n=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e}return 0},t.isAccepted=function(){return this.accept.length>0},t.getAcceptTime=function(){return this.accept[0]},t.newInstance=st,t}function ct(t){for(var e={get:at,toArray:at,calculatePenaltyTime:at,calculateAC:at,newInstance:at},r=0;r<t;++r)e[r]=st();return e.get=function(r){return"undefined"!==typeof e[r]?e[r]:(t=Math.max(r,t),e[r]=st())},e.toArray=function(){return ot(e)},e.calculatePenaltyTime=function(){var t=0;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&!isNaN(parseInt(r))&&(t+=e[r].calculatePenaltyTime());return t},e.calculateAC=function(){var t=0;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&!isNaN(parseInt(r))&&e[r].accept.length>0&&++t;return t},e.newInstance=ct,e}function ut(t){return"string"!==typeof t&&(t=""),t.length>0?t.trim():"未注册"}function lt(t){return"string"!==typeof t&&(t=""),t.trim()}function ft(){var t=new Set,e=t.add;return t.add=function(r){return"undefined"!==typeof r&&e.apply(t,arguments),this},t.newInstance=ft,t}function dt(){var t=1e11,e={time:t,person:{first_blood:!0},setFirstBlood:at,newInstance:at};return e.setFirstBlood=function(t,e){"undefined"!==typeof this.person&&t<this.time&&(this.time=t,this.person.first_blood=!1,this.person=e,e.first_blood=!0)},e.newInstance=dt,e}function ht(t){var e={get:at,newInstance:at};if("number"===typeof t)for(var r=0;r<t;++r)e[r]=dt();return e.get=function(t){return"undefined"!==typeof this[t]?this[t]:this[t]=dt()},e.newInstance=ht,e}function pt(t,e,r){return{ac:0,nick:ut(t),problem:ct(e),penalty_time:0,fingerprintSet:ft(),hardwareFingerprintSet:ft(),ipSet:ft(),real_name:"",user_id:lt(r),addData:function(t){this.fingerprintSet.add(t.fingerprint),this.hardwareFingerprintSet.add(t.fingerprintRaw),this.ipSet.add(t.ip),this.problem.get(t.num).update("sim",t.sim),this.problem.get(t.num).set({start_time:t.start_time}),this.problem.get(t.num).addSubmit(t)},calculatePenaltyTime:function(){this.penalty_time=this.problem.calculatePenaltyTime()},calculateAC:function(){this.ac=this.problem.calculateAC()},calculateFirstBlood:function(t){for(var e in this.problem)try{if(Object.prototype.hasOwnProperty.call(this.problem,e)&&!isNaN(parseInt(e))&&this.problem[e].isAccepted()){var r=this.problem[e].getAcceptTime().diff(this.problem[e].start_time,"second");t.get(e).setFirstBlood(r,this.problem.get(e))}}catch(n){console.log(n),console.log("Firstbloodlist",t),console.log("this.problem",this.problem)}},newInstance:pt}}function vt(t){var e=1;switch(t.toLowerCase()){case"greater":e=1;break;case"lesser":e=-1;break}return function(t,r){return e*(t.ac!==r.ac?r.ac-t.ac:t.penalty_time-r.penalty_time)}}function mt(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(u["a"])(t);if(e()){var a=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c["a"])(this,r)}}var bt=r("2500"),yt=bt.reset,gt=[];window.submissionCollection=gt;var _t=!1,wt=function(t){Object(s["a"])(r,t);var e=mt(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.cid="",t.submitter={},t.total=-1,t.start_time=b()(),t.title="",t.finished=!1,t.users=[],t.add_name=!1,t.auto_update=!0,t.totalNumber=0,t.playingTime=b()().format("YYYY-MM-DD HH:mm:ss"),t.popupLock=new G.a,t.waiting_queue=[],t.state=!0,t.errormsg="",t.dayjs=b.a,t.select=$,t.console=console,t.playing=!1,t.playInterval=0,t.backup_data=[],t.firstRender=!0,t.userStructure={},t.firstBloodList=void 0,t.worker=null,t}return Object(o["a"])(r,[{key:"created",value:function(){var t=this;this.cid=this.$route.params.contest_id,this.sockets.subscribe("submit",(function(e){t.handleNewSubmit(e)})),this.sockets.subscribe("result",(function(e){t.handleNewSubmit(e)}))}},{key:"beforeDestroy",value:function(){this.sockets.unsubscribe("submit"),this.sockets.unsubscribe("result")}},{key:"toArray",value:function(t){return Array.isArray(t)||(t=[t]),t}},{key:"updateSubmitter",value:function(t){t.calculatePenaltyTime(),t.calculateAC(),t.calculateFirstBlood(this.firstBloodList)}},{key:"fillSubmitterList",value:function(t,e){for(var r=e.length,n=0;n<r;++n){var a=this.users.length>0;if(!t[e[n].user_id.toLowerCase()]){if(a)continue;t[e[n].user_id.toLowerCase()]=pt(e[n].nick,this.total,e[n].user_id)}e[n].num<this.total&&t[e[n].user_id.toLowerCase()].addData(e[n])}}},{key:"initUserTable",value:function(t){var e=this;tt.a.forEach(this.users,(function(r){t[r.user_id.toLowerCase()]||(t[r.user_id.toLowerCase()]=pt(r.nick,e.total,r.user_id))}))}},{key:"calculateRank",value:function(){var t=this;this.submitter.sort(vt("greater"));var e=1;window.submitter=this.submitter,this.totalNumber=0,tt.a.forEach(this.submitter,(function(r){return r.rank=r.ac>0?(++t.totalNumber,e++):e}))}},{key:"rankClass",value:function(t){var e=this.totalNumber;return t=parseInt(t),t<=.1*e+1?"ui yellow":t<=.3*e+1?"ui grey":t<=.6*e+1?"ui orange":"ui white"}},{key:"playRanklist",value:function(){this.auto_update=!1,this.playing=!0;var t=this.backup_data=gt;t.sort((function(t,e){var r=b()(t.in_date),n=b()(e.in_date);return r.isAfter(n)?1:-1})),gt=[],this.submitter=[],this.firstRender=!0,this.startInterval()}},{key:"startInterval",value:function(){var t=this,e=this.backup_data;this.playInterval=setInterval((function(){if(e.length>0){var r=e.shift();while(e.length>0&&r.result<4&&r.result>=11)r=e.shift();t.playingTime=b()(r.in_date).format("YYYY-MM-DD HH:mm:ss"),t.scoreboard=r,0===e.length&&t.endInterval()}else t.endInterval()}),30)}},{key:"endInterval",value:function(){clearInterval(this.playInterval),this.playing=!1,this.auto_update=!0}},{key:"pausePlayRanklist",value:function(){this.playing?(this.playing=!1,clearInterval(this.playInterval)):(this.playing=!0,this.startInterval())}},{key:"stopPlayRanklist",value:function(){this.playing=!1,clearInterval(this.playInterval),this.scoreboard=this.backup_data.filter((function(t){return"undefined"!==typeof t})),this.backup_data=[],this.auto_update=!0}},{key:"fillZero",value:function(t){return t.length<2?"0"+t:t}},{key:"format_date",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.fillZero;t=parseInt(t);var n=r(Math.trunc(t/3600).toString()),a=r(Math.trunc((t-3600*parseInt(n))/60).toString()),i=r((t%60).toString());return e?n+"："+a+"："+i:n+":"+a+":"+i}},{key:"formatColor",value:function(t){var e=t.toString(16);return t<16?"0"+e+"0"+e:""+e+e}},{key:"detectPlace",value:function(t){return t?h["a"].detectIP({intranet_ip:t,place:""}):"未知"}},{key:"convertHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.innerText}},{key:"decodeHTML",value:function(t){return"string"!==typeof t&&(t=""),t.replace("·","&middot;")}},{key:"exportXLS",value:function(){var t=document.getElementById("save"),e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=\'Content-Type\' content=\'application/vnd.ms-excel; charset=utf-8\' /></head>';e+="<center><h3>Contest "+this.cid+" "+this.title+"</h3></center>",e+="<table border=1>"+t.innerHTML.replace("<tbody>","").replace("</tbody>",""),e+="<tr><td colspan='8'>环境指纹指根据用户的硬件环境及IP地址不同而产生的不同的指纹</td></tr>",e+="<tr><td colspan='8'>硬件指纹指的是不受IP影响的指纹</td></tr>",e+="<tr><td colspan='8'>若环境指纹与硬件指纹均唯一，代表用户使用相同设备在相同地点完成提交</td></tr>",e+="<tr><td colspan='8'>若硬件指纹唯一而环境指纹不唯一，代表同型号机器在不同IP地址提交</td></tr>",e+="<tr><td colspan='8'>若硬件指纹不唯一，代表使用了多台设备进行提交</td></tr>",e+="</table></html>";var r=new Blob([e],{type:"application/vnd.ms-excel;charset=UTF-8;"});_t?Object(d["saveAs"])(r,"Contest "+this.cid+" 多个contest.xls"):Object(d["saveAs"])(r,"Contest "+this.cid+" "+this.title+".xls")}},{key:"handleNewSubmit",value:function(t){if(parseInt(t.contest_id)===parseInt(this.cid)&&1===t.finish){var e={nick:t.nick,user_id:t.user_id,start_time:this.start_time,avatar:0,in_date:t.in_date,num:parseInt(t.num),result:t.state};this.auto_update?this.scoreboard=e:this.waiting_queue.push(e)}}},{key:"onAutoUpdateChanged",value:function(){while(this.waiting_queue.length>0)this.scoreboard=this.waiting_queue.shift()}},{key:"onAddNameChanged",value:function(t){var e=this;if(t)for(var r=0;r<this.submitter.length;++r)this.axios.get("/api/user/nick/".concat(this.decodeHTML(this.submitter[r].nick))).then((function(t){var r=t.data;if(r&&r.data&&r.data.length>0){for(var n=r.nick,a=r.data,i="",o=0;o<a.length;++o)if(!isNaN(a[o].user_id)){i=a[o].user_id;break}for(var s=0;s<e.submitter.length;++s)if(e.decodeHTML(e.submitter[s].nick)===n){e.submitter[s].real_name=i;break}}}))}},{key:"updated",value:function(){var t="ContestRank: "+this.title;document.title!==t&&(document.title=t),$("#rank").find("tr").each((function(){$(this).find("td").eq(2).css({position:"sticky",left:$(this).find("td").eq(2).prev().outerWidth()+$(this).find("td").eq(1).prev().outerWidth(),borderRight:"1px solid rgba(34,36,38,.1)"}),$(this).find("td").eq(1).css({position:"sticky",left:$(this).find("td").eq(1).prev().outerWidth()})}))}},{key:"mounted",value:function(){var t=this;window.datas=[],gt=[],document.title="Contest Rank ".concat(this.cid," -- ").concat(document.title);var e=this.popupLock;$(window).scroll((function(){e.tryAcquire(),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout((function(){e.release()}),250))}));var r=this;yt(),function(){var e=t.$route.params.contest_id,n=[];n=-1!==e.indexOf(",")?e.split(","):[e];var a=0,i=[],o=new Set,s=function s(){e=n.shift(),t.axios.get("/api/scoreboard/".concat(e)).then((function(){t.axios.get("/api/scoreboard/".concat(e)).then((function(c){var u,l=c.data;if("OK"!==l.status)return r.state=!1,r.submitter=[],u=!0===l.contest_mode?"根据设置，内容非公开":l.statement&&l.statement.includes&&l.statement.includes("denied")?"根据设置，您无权访问":"Contest "+e+":\n"+l.statement,u=u.replace(/\n/g,"<br>"),void(r.errormsg=u);tt.a.forEach(l.data,(function(t){t.num+=a,t.start_time=b()(l.start_time)})),tt.a.forEach(l.data,(function(t){i.push(t)})),tt.a.forEach(l.users,(function(t){o.add(t)})),a+=l.total,n.length>0?(_t=!0,s()):t.finished=!0,r.total=a,r.users=Array.from(o),r.scoreboard=i}))}))};n.length>1?(r.title=n.join(","),s()):(e=n.shift(),t.axios.get("/api/scoreboard/".concat(e)).then((function(){t.axios.get("/api/scoreboard/".concat(e)).then((function(n){var a=n.data;if("OK"!==a.status)return r.state=!1,r.submitter=[],a.statement||(r.errormsg="根据设置，内容非公开".replace(/\n/g,"<br>")),void(a.statement.includes&&a.statement.includes("denied")?r.errormsg="根据设置，您无权访问".replace(/\n/g,"<br>"):r.errormsg=("Contest "+e+":\n"+a.statement).replace(/\n/g,"<br>"));t.finished=!0,r.total=a.total,r.users=a.users,r.start_time=window.start_time=b()(a.start_time),tt.a.forEach(a.data,(function(t){t.start_time=b()(a.start_time)})),r.scoreboard=a.data,gt=a.data,i=a.data,"string"===typeof a.title&&0===a.title.length&&(a.title="未设置标题"),r.title=a.title}))})))}()}},{key:"scoreboard",get:function(){return null},set:function(t){var e=this;this.auto_update=!1;try{var r;if(t=gt=gt.concat(this.toArray(t)),this.firstRender)this.firstRender=!1,this.firstBloodList=ht(),r={},this.initUserTable(r),this.fillSubmitterList(r,t),this.userStructure=r,this.submitter=r=Object.values(r),r.forEach(this.updateSubmitter);else{r=this.userStructure;var n=new Set;this.fillSubmitterList(r,t),t.forEach((function(t){return"undefined"!==typeof r[t.user_id.toLowerCase()]?n.add(r[t.user_id.toLowerCase()]):""})),n.forEach(this.updateSubmitter)}this.calculateRank(),window.temp_data=gt,window.datas=this.submitter}catch(i){e.state=!1,e.submitter=[],console.log(i);var a=i.stack;a=a.replace(/\n/g,"<br>"),e.errormsg=a}this.auto_update=!0}}]),r}(Object(y["b"])(f["a"]));Object(l["c"])([Object(y["d"])("auto_update")],wt.prototype,"onAutoUpdateChanged",null),Object(l["c"])([Object(y["d"])("add_name")],wt.prototype,"onAddNameChanged",null),wt=Object(l["c"])([Object(y["a"])({components:{ErrorView:P,TimeView:R,ResultGrid:K}})],wt);var kt=wt,jt=kt,Ot=(r("50a2"),Object(x["a"])(jt,n,a,!1,null,"3f0b9835",null));e["default"]=Ot.exports},"6f53":function(t,e,r){var n=r("83ab"),a=r("df75"),i=r("fc6a"),o=r("d1e7").f,s=function(t){return function(e){var r,s=i(e),c=a(s),u=c.length,l=0,f=[];while(u>l)r=c[l++],n&&!o.call(s,r)||f.push(t?[r,s[r]]:s[r]);return f}};t.exports={entries:s(!0),values:s(!1)}},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),i=r("1c7e"),o=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:a})},b65f:function(t,e,r){var n=r("23e7"),a=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:a)(t)}})},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c14d:function(t,e,r){"use strict";var n=r("27ea"),a=r.n(n);a.a},f183:function(t,e,r){var n=r("d012"),a=r("861d"),i=r("5135"),o=r("9bf2").f,s=r("90e3"),c=r("bb2f"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){o(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},p=function(t,e){if(!i(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},v=function(t){return c&&m.REQUIRED&&f(t)&&!i(t,u)&&d(t),t},m=t.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:v};n[u]=!0},fa82:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){this._acquired=!1,this._waitingResolvers=[]}acquireAsync(){return this._acquired?new Promise(t=>{this._waitingResolvers.push(t)}):(this._acquired=!0,Promise.resolve())}tryAcquire(){return!this._acquired&&(this._acquired=!0,!0)}release(){if(!this._acquired)throw new Error("Cannot release an unacquired lock");if(this._waitingResolvers.length>0){let t=this._waitingResolvers.shift();t()}else this._acquired=!1}}e.default=n}}]);
//# sourceMappingURL=chunk-39d8e0bb-legacy.7de69102.js.map