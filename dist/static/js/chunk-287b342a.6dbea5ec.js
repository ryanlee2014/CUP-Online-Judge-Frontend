(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-287b342a"],{"2cd4":function(t,e,a){"use strict";a("e260"),a("ddb0");var i=a("9ab4"),s=a("2b0e"),n=a("60a3"),c=a("3657"),o=a("0443");let l=class extends s["a"]{constructor(){super(...arguments),this.customConfig=o}mounted(){c["a"].init(this.$store.getters.homepage),document.title=o.title}};l=Object(i["c"])([n["a"]],l),e["a"]=l},"7eab":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui container padding"},[a("modify-modal",{ref:"modal",on:{callback:t.updateConfig}}),a("div",{staticClass:"ui grid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"thirteen wide column"}),a("div",{staticClass:"three wide right aligned column"},[a("button",{staticClass:"ui primary button",on:{click:function(e){return t.activateModal("add")}}},[t._v(" "+t._s(t.$t("add "+t.prefix))+" ")])])])]),a("table",{staticClass:"ui celled structured table"},[a("thead",[a("tr",[a("th",{attrs:{width:"26%"}},[t._v("key")]),a("th",{attrs:{width:"26%"}},[t._v("value"+t._s(t.range))]),a("th",{attrs:{width:"26%"}},[t._v("comment")]),a("th",[t._v("action")])])]),a("tbody",t._l(t.configList,(function(e){return a("tr",{key:e.key},[a("td",[t._v(" "+t._s(e.key)+" ")]),a("td",[t._v(" "+t._s(e.value)+" ")]),a("td",[t._v(" "+t._s(e.comment)+" ")]),a("td",[a("button",{staticClass:"ui tiny primary button",on:{click:function(a){return t.activateModal("edit",e)}}},[t._v("Modify")]),a("button",{staticClass:"ui tiny secondary button",on:{click:function(a){return t.removeConfig(e.key)}}},[t._v("Delete")])])])})),0)])],1)},s=[],n=(a("e260"),a("cca6"),a("ddb0"),a("9ab4")),c=a("2cd4"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"modal",staticClass:"ui modal"},[a("div",{staticClass:"header"},[t._v("Header")]),a("div",{staticClass:"content"},[a("div",{staticClass:"ui form"},[a("div",{staticClass:"field"},[a("label",[t._v(t._s(t.$t("key")))]),a("div",{staticClass:"one fields"},[a("div",{staticClass:"field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],attrs:{name:"key",placeholder:"key",type:"text"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}})])])]),a("div",{staticClass:"field"},[a("label",[t._v(t._s(t.$t("value")))]),a("div",{staticClass:"one fields"},[a("div",{staticClass:"field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{name:"value",placeholder:"value",type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])]),a("div",{staticClass:"field"},[a("label",[t._v(t._s(t.$t("comment")))]),a("div",{staticClass:"one fields"},[a("div",{staticClass:"field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{name:"comment",placeholder:"comment",type:"text"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])]),a("div",{staticClass:"field"},[a("button",{staticClass:"ui button primary",on:{click:t.submit}},[t._v("Submit")])])])])])},l=[],d=a("60a3"),r=a("1157"),u=a.n(r),v=a("2b0e");const m=u.a;let f=class extends v["a"]{constructor(){super(...arguments),this.key="",this.value="",this.comment=""}activate(t){"undefined"!==typeof t&&"string"===typeof t.key||(t={key:"",value:"",comment:""}),Object.assign(this,t),m(this.$refs.modal).modal("show")}deactivate(){m(this.$refs.modal).modal("hide")}submit(){this.$emit("callback",this.$data)}};f=Object(n["c"])([d["a"]],f);var p=f,b=p,h=a("2877"),g=Object(h["a"])(b,o,l,!1,null,"5a177e90",null),y=g.exports;let _=class extends(Object(d["b"])(c["a"])){constructor(){super(...arguments),this.configList=[]}mounted(){this.init()}init(){this.axios.get("/api/setting/devconfig/"+this.prefix).then(({data:t})=>{const e=[],a=Object.assign(t.data,{});Object.keys(a).forEach(t=>e.push({key:t,value:a[t].value,comment:a[t].comment})),this.configList=e})}activateModal(t,e){"add"===t?this.$refs.modal.activate():"edit"===t&&this.$refs.modal.activate(e)}updateConfig(t){this.axios.post(`/api/setting/devconfig/${this.prefix}/update`,t).then(({data:t})=>{this.$refs.modal.deactivate(),"OK"===t.status?(alert("更新成功"),setTimeout(()=>{this.init()},1e3)):alert("更新失败")})}removeConfig(t){this.axios.post(`/api/setting/devconfig/${this.prefix}/delete`,{key:t}).then(({data:t})=>{alert("OK"===t.status?"删除成功":"删除失败"),setTimeout(()=>{this.init()},1e3)})}};Object(n["c"])([Object(d["c"])({default:"config"})],_.prototype,"prefix",void 0),Object(n["c"])([Object(d["c"])({default:""})],_.prototype,"range",void 0),_=Object(n["c"])([Object(d["a"])({components:{modifyModal:y}})],_);var C=_,k=C,x=Object(h["a"])(k,i,s,!1,null,"33f6160e",null);e["a"]=x.exports},9477:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-manager",{attrs:{prefix:t.prefix,range:t.range}})},s=[],n=(a("e260"),a("ddb0"),a("9ab4")),c=a("7eab"),o=a("60a3"),l=a("2cd4");let d=class extends(Object(o["b"])(l["a"])){constructor(){super(...arguments),this.prefix="switch",this.range="(范围:0-100)"}};d=Object(n["c"])([Object(o["a"])({components:{baseManager:c["a"]}})],d);var r=d,u=r,v=a("2877"),m=Object(v["a"])(u,i,s,!1,null,"46afa9be",null);e["default"]=m.exports}}]);