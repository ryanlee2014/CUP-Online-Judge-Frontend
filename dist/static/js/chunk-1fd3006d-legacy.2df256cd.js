(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd3006d"],{"0c71":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui container padding"},[e("h1",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("problem"))+" "),e("router-link",{attrs:{to:"/problem/submit/"+t.pid}},[t._v(t._s(t.pid))]),t._v(" "+t._s(t.$t("status"))+" ")],1),e("div",{staticClass:"ui stacked segment"},[e("div",{staticClass:"ui statistics"},[e("div",{staticClass:"black statistic"},[e("div",{staticClass:"value"},[t._v(" "+t._s(t.submitStatus.total_status.total_submit)+" ")]),e("div",{staticClass:"label"},[t._v(" 总提交 ")])]),e("div",{staticClass:"black statistic"},[e("div",{staticClass:"value"},[t._v(" "+t._s(t.submitStatus.total_status.total_solved_submit)+" ")]),e("div",{staticClass:"label"},[t._v(" 已提交用户 ")])]),e("div",{staticClass:"black statistic"},[e("div",{staticClass:"value"},[t._v(" "+t._s(t.submitStatus.total_status.total_solved_user)+" ")]),e("div",{staticClass:"label"},[t._v(" 已通过用户 ")])]),t._l(t.submitStatus.problem_status,(function(a,i){return e("div",{key:a,class:t.submitStatus.color[i-1]+" statistic"},[e("div",{staticClass:"value"},[t._v(" "+t._s(a)+" ")]),e("div",{staticClass:"label"},[e("router-link",{attrs:{to:"/status?problem_id="+t.pid+"&jresult="+i}},[t._v(" "+t._s(t.submitStatus.statistic_name[i])+" ")])],1)])}))],2)]),t._m(0),t._m(1),t._m(2),t._m(3),e("div",{staticClass:"ui piled segment"},[e("h2",{staticClass:"ui dividing header"},[t._v("做题人员流向")]),e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.initSolveMap,expression:"initSolveMap"}],staticClass:"amcharts",attrs:{id:"chord_graph"}},[t._v("加载中")])]),t._m(4),e("h1",{staticClass:"ui dividing header"},[t._v("Submissions")]),e("table",{staticClass:"ui table",attrs:{id:"problemstatus"}},[t._m(5),e("tbody",t._l(t.submitStatus.solution_status,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(20*t.current_page+i+1))]),e("td",[t._v(t._s(a.solution_id))]),e("td",[e("router-link",{attrs:{to:"/user/"+a.user_id}},[t._v(" "+t._s(a.user_id)+" ")])],1),e("td",[t._v(t._s(a.memory)+"KB")]),e("td",[t._v(t._s(a.time)+"ms")]),e("td",[t.isadmin||a.user_id==t.owner?e("router-link",{attrs:{to:"/usercode/local/"+a.solution_id}},[t._v(" "+t._s(t.submitStatus.language_name[a.language])+" ")]):e("span",[t._v(t._s(t.submitStatus.language_name[a.language]))])],1),e("td",[t._v(t._s(a.code_length)+"B")]),e("td",[t._v(t._s(new Date(a.in_date).toLocaleString()))])])})),0)]),e("br"),e("router-link",{staticClass:"ui button",attrs:{to:"/status?problem_id="+this.pid}},[t._v(" Status ")]),e("a",{class:"ui button "+(0==t.current_page?"disabled":""),on:{click:function(a){0!=t.current_page&&t.page(-t.current_page,a)}}},[t._v("Top")]),e("div",{staticClass:"ui buttons"},[e("button",{class:"ui left labeled icon button "+(0==t.current_page?"disabled":""),on:{click:function(a){0!=t.current_page&&t.page(-1,a)}}},[e("i",{staticClass:"left arrow icon"}),t._v(" Prev ")]),e("div",{staticClass:"or"}),e("button",{class:"ui right labeled icon button "+(t.submit_stat.length<20?"disabled":""),on:{click:function(a){20==t.submit_stat.length&&t.page(1,a)}}},[e("i",{staticClass:"right arrow icon"}),t._v(" Next ")])])],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui piled segment"},[e("div",{attrs:{align:"center",id:"pie_chart_language_legend"}}),e("div",{staticStyle:{width:"100%"},attrs:{align:"center",id:"canvas-holder"}},[e("canvas",{attrs:{id:"chart-area"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui piled segment"},[e("div",{attrs:{align:"center",id:"bar_chart_language_legend"}}),e("div",{staticStyle:{width:"100%"},attrs:{align:"center",id:"bar-holder"}},[e("canvas",{attrs:{id:"bar-area"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui piled segment"},[e("div",{attrs:{align:"center",id:"memory_bar_chart_language_legend"}}),e("div",{staticStyle:{width:"100%"},attrs:{align:"center",id:"memory_bar_holder"}},[e("canvas",{attrs:{id:"memory_bar_area"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui piled segment"},[e("h2",{staticClass:"ui dividing header"},[t._v("代码长度")]),e("div",{staticClass:"amcharts",attrs:{id:"problem_code_length"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui grid"},[e("div",{staticClass:"eight wide column"}),e("div",{staticClass:"seven wide column"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"toprow"},[e("th",{staticStyle:{cursor:"hand"}},[t._v("名次 ")]),e("th",[t._v("RunID")]),e("th",[t._v("用户")]),e("th",[t._v("内存")]),e("th",[t._v("耗时")]),e("th",[t._v("语言")]),e("th",[t._v("代码长度")]),e("th",[t._v("提交时间")])])])}],r=(e("99af"),e("cb29"),e("4160"),e("c975"),e("d81d"),e("b680"),e("d3b7"),e("4ae1"),e("ac1f"),e("25f0"),e("1276"),e("159b"),e("ddb0"),e("d4ec")),n=e("bee2"),o=e("262e"),l=e("99de"),u=e("7e84"),c=e("9ab4"),d=e("71c9"),p=e("c497"),v=e("2cd4"),h=e("60a3"),m=e("2ef0"),_=e.n(m),f=e("1157"),g=e.n(f),b=e("30ef"),y=e.n(b);function w(t){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,i=Object(u["a"])(t);if(a()){var s=Object(u["a"])(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return Object(l["a"])(this,e)}}var x=e("5a54").default,C=g.a,k={},S={};function F(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",e=[];if(!k[a]){k[a]=!0,_.a.forEach(t,(function(t){e.push({date:new Date(t.in_date),value:t.code_length})})),d["e"](x);var i=d["d"]("problem_code_length",p["j"]);i.data=e;var s=i.xAxes.push(new p["e"]);s.renderer.minGridDistance=60,i.yAxes.push(new p["i"]);var r=i.series.push(new p["g"]);r.dataFields.valueY="value",r.dataFields.dateX="date",r.tooltipText="{value}",r.tooltip.background.cornerRadius=20,r.tooltip.background.strokeOpacity=0,r.tooltip.pointerOrientation="vertical",r.tooltip.label.minWidth=40,r.tooltip.label.minHeight=40,r.tooltip.label.textAlign="middle",r.tooltip.label.textValign="middle",r.tooltip.pointerOrientation="vertical";var n=r.bullets.push(new p["c"]);n.circle.strokeWidth=2,n.circle.radius=4,n.circle.fill=d["c"]("#fff");var o=n.states.create("hover");o.properties.scale=1.3,i.cursor=new p["l"],i.cursor.behavior="panXY",i.cursor.xAxis=s,i.cursor.snapToSeries=r,i.scrollbarY=new d["b"],i.scrollbarY.parent=i.leftAxesContainer,i.scrollbarY.toBack(),i.scrollbarX=new p["k"],i.scrollbarX.series.push(r),i.scrollbarX.parent=i.bottomAxesContainer}}function E(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"chord_graph";if(!S[e]){S[e]=!0,d["e"](x);var i=d["d"]("chord_graph",p["b"]);_.a.forEach(t,(function(t){if(t.from!=a){var e=t.from;t.from=t.to,t.to=e}t.from="本题",t.to+=""})),t.sort((function(t,a){return a.value-t.value}));while(t.length>30)t.pop();i.data=t,i.dataFields.fromName="from",i.dataFields.toName="to",i.dataFields.value="value";var s=i.nodes.template;s.readerTitle="点击块可显示或隐藏",s.showSystemTooltip=!0;var r=i.links.template,n=r.bullets.push(new p["c"]);n.fillOpacity=1,n.circle.radius=5,n.locationX=.5,i.events.on("ready",(function(){for(var t=0;t<i.links.length;t++){var a=i.links.getIndex(t),e=a.bullets.getIndex(0);o(e)}}))}function o(t){var a=3e3*Math.random()+2e3,e=t.animate([{property:"locationX",from:0,to:1}],a);e.events.on("animationended",(function(t){o(t.target.object)}))}}var A=function(t){Object(o["a"])(e,t);var a=w(e);function e(){var t;return Object(r["a"])(this,e),t=a.apply(this,arguments),t.problem_stat=[],t.submit_stat=[],t.problem_submit_stat={},t.stat_name=[],t.current_page=0,t.language_name=[],t.isadmin=!1,t.self="",t.time_range={},t.owner="",t.memory_range={},t.initedSolveMap=!1,t}return Object(n["a"])(e,[{key:"created",value:function(){this.pid=this.$route.params.id,this.current_page=parseInt(this.$route.query.page||0)}},{key:"initSolveMap",value:function(){var t=this;this.initedSolveMap||(this.initedSolveMap=!0,this.axios.get("/api/status/problem/solve_map/".concat(this.pid)).then((function(a){var e=a.data;"OK"===e.status&&_.a.delay(E,0,e.data,t.pid)})))}},{key:"page",value:function(t){var a=this;this.current_page+=t;this.axios.get("/api/problemstatus/".concat(this.pid,"?page=").concat(this.current_page)).then((function(t){var e=t.data;a.submitStatus=e,a.setQuery()}))}},{key:"setQuery",value:function(){var t={};0!==this.current_page?t.page=this.current_page+1:delete t.page,this.$router.push({path:this.$route.path,query:t})}},{key:"mounted",value:function(){var t=this;document.title="Problem ".concat(this.pid," Statistics -- ").concat(document.title);var a=C("title").text();C("title").text("Status:Problem "+this.pid+" - "+a),this.current_page=Math.max(0,this.current_page-1),this.axios.get("/api/status/problem/code_length/problem/".concat(this.pid)).then((function(t){var a=t.data;F(a.data)})),this.axios.get("/api/problemstatus/".concat(this.pid,"?page=").concat(this.current_page)).then((function(a){var e=a.data;t.submitStatus=e,t.initGraph()}))}},{key:"initGraph",value:function(){var t=this,a=_.a.values(window.chartColors);a.push("#af63f4"),a.push("#00b5ad"),a.push("#350ae8"),a.push("#E2EAE9");var e=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"];_.a.forEach(e,(function(t){a.push(t)}));var i={type:"pie",data:{datasets:[{data:_.a.map(this.submitStatus.problem_status,(function(t){return t})),backgroundColor:a,label:"Status"}],labels:_.a.map(this.submitStatus.problem_status,(function(a,e){return t.submitStatus.statistic_name[e]}))},options:{responsive:!0}},s={},r={};_.a.forEach(this.submitStatus.time_range,(function(t){r[t.diff]=!0,s[t.language]={}})),r=_.a.map(r,(function(t,a){var e=a.split("-"),i=e[0]+"ms";return e.length>1&&(i+=" - "+e[1]+"ms"),i})),r.sort((function(t,a){if(-1!==t.indexOf(">")){var e=parseFloat(t.substring(1,t.length)),i=parseFloat(a.split("-")[0]);return e-i}if(-1!==a.indexOf(">")){var s=parseFloat(t.split("-")[0]),r=parseFloat(a.substring(1,a.length));return s-r}var n=parseFloat(t.split("-")[0]),o=parseFloat(a.split("-")[0]);return n-o})),_.a.forEach(s,(function(t,a){_.a.forEach(r,(function(t){s[a][t]=0}))})),_.a.forEach(this.submitStatus.time_range,(function(t){var a=t.diff.split("-"),e=a[0]+"ms";a.length>1&&(e+=" - "+a[1]+"ms"),s[t.language][e]=t.total}));var n=_.a.map(a,(function(t){return t})),o={type:"bar",labels:r,datasets:_.a.map(s,(function(a,e){return{label:t.submitStatus.language_name[e],backgroundColor:n.shift(),data:_.a.values(a)}}))},l={},u={};n=_.a.map(a,(function(t){return t})),_.a.forEach(this.submitStatus.memory_range,(function(t){l[t.diff]=!0,u[t.language]={}})),l=_.a.map(l,(function(t,a){if(-1!==a.indexOf("-")){var e=a.split("-");e[0]=(parseFloat(e[0])/1024).toFixed(2),e.length>1&&(e[1]=(parseFloat(e[1])/1024).toFixed(2));var i=e[0]+"MB";return e.length>1&&(i+=" - "+e[1]+"MB"),i}var s=a.substring(1,a.length);return s=(parseFloat(s)/1024).toFixed(2),">"+s+"MB"})),l.sort((function(t,a){if(">"===t.charAt(0)){var e=parseFloat(t.substring(1,t.length)),i=parseFloat(a.split("-")[0]);return e-i}if(">"===a.charAt(0)){var s=parseFloat(t.split("-")[0]),r=parseFloat(a.substring(1,a.length));return s-r}var n=parseFloat(t.split("-")[0]),o=parseFloat(a.split("-")[0]);return n-o})),_.a.forEach(u,(function(t,a){_.a.forEach(l,(function(t){u[a][t]=0}))})),_.a.forEach(this.submitStatus.memory_range,(function(t){if(-1!==t.diff.indexOf("-")){var a=t.diff.split("-");a[0]=(parseFloat(a[0])/1024).toFixed(2),a.length>1&&(a[1]=(parseFloat(a[1])/1024).toFixed(2));var e=a[0]+"MB";a.length>1&&(e+=" - "+a[1]+"MB"),u[t.language][e]=t.total}else{var i=t.diff.substring(1,t.diff.length);i=(parseFloat(i)/1024).toFixed(2),u[t.language][">"+i+"MB"]=t.total}}));var c={type:"bar",labels:l,datasets:_.a.map(u,(function(a,e){return{label:t.submitStatus.language_name[e],backgroundColor:n.shift(),data:_.a.values(a)}}))},d=document.getElementById("chart-area").getContext("2d");window.myPie=new y.a(d,i);var p=document.getElementById("bar-area").getContext("2d"),v=document.getElementById("memory_bar_area").getContext("2d");window.myBar=new y.a(p,{type:"bar",data:o,options:{title:{display:!0,text:"AC代码运行用时"},tooltips:{mode:"index",intersect:!0},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}),window.myMemory=new y.a(v,{type:"bar",data:c,options:{title:{display:!0,text:"AC代码内存使用"},tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}})}},{key:"submitStatus",get:function(){var t={};return _.a.forEach(this.problem_stat,(function(a){t[a.result]=a.total})),{problem_status:t,solution_status:this.submit_stat,total_status:this.problem_submit_stat,color:["black","black","black","green","red","red","yellow","yellow","yellow","yellow","yellow","yellow","yellow","","",""],statistic_name:this.stat_name,language_name:this.language_name,time_range:this.time_range,memory_range:this.memory_range}},set:function(t){var a=t.data.problem_status;this.problem_stat=a,this.submit_stat=t.data.solution_status,this.problem_submit_stat=t.data.submit_status,this.stat_name=t.data.statistic_name,this.language_name=t.data.language_name,this.isadmin=t.data.isadmin,this.owner=t.data.self,this.time_range=t.data.time_range,this.memory_range=t.data.memory_range}}]),e}(Object(h["b"])(v["a"]));A=Object(c["c"])([h["a"]],A);var O=A,B=O,M=e("2877"),$=Object(M["a"])(B,i,s,!1,null,"03d7ed16",null);a["default"]=$.exports},1148:function(t,a,e){"use strict";var i=e("a691"),s=e("1d80");t.exports="".repeat||function(t){var a=String(s(this)),e="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(a+=a))1&r&&(e+=a);return e}},"408a":function(t,a,e){var i=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"81d5":function(t,a,e){"use strict";var i=e("7b0b"),s=e("23cb"),r=e("50c4");t.exports=function(t){var a=i(this),e=r(a.length),n=arguments.length,o=s(n>1?arguments[1]:void 0,e),l=n>2?arguments[2]:void 0,u=void 0===l?e:s(l,e);while(u>o)a[o++]=t;return a}},b680:function(t,a,e){"use strict";var i=e("23e7"),s=e("a691"),r=e("408a"),n=e("1148"),o=e("d039"),l=1..toFixed,u=Math.floor,c=function(t,a,e){return 0===a?e:a%2===1?c(t,a-1,e*t):c(t*t,a/2,e)},d=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},p=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));i({target:"Number",proto:!0,forced:p},{toFixed:function(t){var a,e,i,o,l=r(this),p=s(t),v=[0,0,0,0,0,0],h="",m="0",_=function(t,a){var e=-1,i=a;while(++e<6)i+=t*v[e],v[e]=i%1e7,i=u(i/1e7)},f=function(t){var a=6,e=0;while(--a>=0)e+=v[a],v[a]=u(e/t),e=e%t*1e7},g=function(){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==v[t]){var e=String(v[t]);a=""===a?e:a+n.call("0",7-e.length)+e}return a};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(a=d(l*c(2,69,1))-69,e=a<0?l*c(2,-a,1):l/c(2,a,1),e*=4503599627370496,a=52-a,a>0){_(0,e),i=p;while(i>=7)_(1e7,0),i-=7;_(c(10,i,1),0),i=a-1;while(i>=23)f(1<<23),i-=23;f(1<<i),_(1,1),f(2),m=g()}else _(0,e),_(1<<-a,0),m=g()+n.call("0",p);return p>0?(o=m.length,m=h+(o<=p?"0."+n.call("0",p-o)+m:m.slice(0,o-p)+"."+m.slice(o-p))):m=h+m,m}})},cb29:function(t,a,e){var i=e("23e7"),s=e("81d5"),r=e("44d2");i({target:"Array",proto:!0},{fill:s}),r("fill")}}]);