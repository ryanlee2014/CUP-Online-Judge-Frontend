(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1aee3a8c"],{"6c50":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("contest-set-editor",{attrs:{"contest-set-info":t.contestSetEditInfo,"contest-list":t.contestSetList},on:{postData:t.edit}})},s=[],c=(i("d3b7"),i("4ae1"),i("25f0"),i("d4ec")),a=i("bee2"),o=i("262e"),r=i("99de"),l=i("7e84"),u=i("9ab4"),d=i("60a3"),f=i("2cd4"),v=i("837e"),h=i("fc17");function b(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var i,n=Object(l["a"])(t);if(e()){var s=Object(l["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object(r["a"])(this,i)}}var p=function(t){Object(o["a"])(i,t);var e=b(i);function i(){return Object(c["a"])(this,i),e.apply(this,arguments)}return Object(a["a"])(i,[{key:"edit",value:function(t){this.axios.post("/api/admin/contestset/edit",t).then((function(t){t.data;alert("修改成功")})).catch((function(t){alert("修改失败, 错误信息将在Console输出"),console.error(t)}))}}]),i}(Object(d["b"])(f["a"],v["a"]));p=Object(u["c"])([Object(d["a"])({components:{ContestSetEditor:h["a"]}})],p);var y=p,k=y,C=i("2877"),m=Object(C["a"])(k,n,s,!1,null,"34183310",null);e["default"]=m.exports},"837e":function(t,e,i){"use strict";i("a4d3"),i("e01a"),i("d81d"),i("d3b7"),i("4ae1"),i("25f0");var n=i("d4ec"),s=i("bee2"),c=i("262e"),a=i("99de"),o=i("7e84"),r=i("9ab4"),l=i("2b0e"),u=i("60a3");function d(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var i,n=Object(o["a"])(t);if(e()){var s=Object(o["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object(a["a"])(this,i)}}var f=function(t){Object(c["a"])(i,t);var e=d(i);function i(){var t;return Object(n["a"])(this,i),t=e.apply(this,arguments),t.contestSetId="0",t.contestSetInfo={},t.contestSetList=[],t}return Object(s["a"])(i,[{key:"created",value:function(){this.contestSetId=this.$route.params.contestSetId}},{key:"mounted",value:function(){this.initData()}},{key:"initData",value:function(){var t=this;this.axios.get("/api/contestset/set/".concat(this.contestSetId)).then((function(e){var i=e.data;t.contestSetInfo=i.data})),this.axios.get("/api/contestset/list/".concat(this.contestSetId)).then((function(e){var i=e.data;t.contestSetList=i.data.map((function(t){return t.contest_id+""}))}))}},{key:"add",value:function(t){this.axios.post("/api/admin/contestset/add",t).then((function(t){t.data;alert("添加成功")})).catch((function(t){alert("添加失败, 错误信息将在Console输出"),console.error(t)}))}},{key:"contestSetEditInfo",get:function(){if(this.contestSetInfo){var t={contestset_id:parseInt(this.contestSetId),defunct:this.contestSetInfo.defunct,description:this.contestSetInfo.description,title:this.contestSetInfo.title,visible:this.contestSetInfo.visible,create_time:this.contestSetInfo.create_time};return t}return{}}}]),i}(l["a"]);f=Object(r["c"])([u["a"]],f),e["a"]=f},fc17:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui container padding"},[i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[t._v(t._s(t.$t("title")))]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{name:"title",placeholder:"",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("div",{ref:"visible",staticClass:"ui toggle checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"visible"}],staticClass:"hidden",attrs:{tabindex:"0",type:"checkbox"},domProps:{checked:Array.isArray(t.visible)?t._i(t.visible,null)>-1:t.visible},on:{click:t.visibleCallback,change:function(e){var i=t.visible,n=e.target,s=!!n.checked;if(Array.isArray(i)){var c=null,a=t._i(i,c);n.checked?a<0&&(t.visible=i.concat([c])):a>-1&&(t.visible=i.slice(0,a).concat(i.slice(a+1)))}else t.visible=s}}}),i("label",[t._v(t._s(t.$t("visible")))])])]),i("div",{staticClass:"field"},[i("div",{ref:"defunct",staticClass:"ui toggle checkbox"},[i("input",{staticClass:"hidden",attrs:{tabindex:"0",type:"checkbox"},on:{click:t.reverseDefunct}}),i("label",[t._v(t._s(t.$t("enable")))])])])])])])]),i("div",{staticClass:"field"},[i("div",{staticClass:"field"},[i("label",[t._v(t._s(t.$t("contest list")))]),i("div",{ref:"contestList",staticClass:"ui fluid multiple search selection dropdown"},[i("input",{attrs:{type:"hidden"},on:{change:function(e){t.select1=e.target.value}}}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"}),i("div",{staticClass:"menu"},t._l(t.totalContestList,(function(e,n){return i("div",{key:n,staticClass:"item",attrs:{"data-value":e.contest_id}},[t._v(" "+t._s("Contest"+e.contest_id+" "+e.title)+" ")])})),0)])])]),i("div",{staticClass:"field"},[i("div",{staticClass:"field"},[i("label",[t._v(t._s(t.$t("description")))]),i("mavon-editor",{ref:"description",attrs:{markInstance:t.markdownIt},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("button",{staticClass:"ui primary button",on:{click:t.emitData}},[t._v(" Submit ")])]),i("div",{staticClass:"field"})])])])])},s=[],c=(i("a4d3"),i("e01a"),i("d3b7"),i("4ae1"),i("ac1f"),i("25f0"),i("1276"),i("d4ec")),a=i("bee2"),o=i("262e"),r=i("99de"),l=i("7e84"),u=i("9ab4"),d=i("2b0e"),f=i("60a3"),v=i("ec1c"),h=i("1157"),b=i.n(h);function p(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var i,n=Object(l["a"])(t);if(e()){var s=Object(l["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object(r["a"])(this,i)}}var y=b.a,k=function(t){Object(o["a"])(i,t);var e=p(i);function i(){var t;return Object(c["a"])(this,i),t=e.apply(this,arguments),t.contestIdList=[],t.defunct="N",t.description="",t.title="",t.visible=!0,t.select1="",t.totalContestList=[],t.contestSetId="",t.markdownIt=v["a"],t}return Object(a["a"])(i,[{key:"onContestListChanged",value:function(t){var e=this;t.length>0&&(this.contestIdList=t,this.$nextTick((function(){e.initJQuery()})))}},{key:"onContestSetInfoChanged",value:function(t){var e=this;t&&t.title&&t.title.length>0&&(this.visible=t.visible,this.defunct=t.defunct,this.description=t.description,this.title=t.title,t.contestset_id&&(this.contestSetId=t.contestset_id+""),this.$nextTick((function(){e.initJQuery()})))}},{key:"created",value:function(){this.contestSetId=this.$route.params.contestSetId}},{key:"mounted",value:function(){this.initTotalContest(),this.initJQuery()}},{key:"initJQuery",value:function(){var t=this;this.$nextTick((function(){y(t.$refs.visible).checkbox(t.visible?"check":"uncheck"),y(t.$refs.defunct).checkbox("N"===t.defunct?"check":"uncheck"),y(t.$refs.contestList).dropdown("set selected",t.contestIdList)}))}},{key:"initTotalContest",value:function(){var t=this;this.axios.get("/api/contest/list/all").then((function(e){var i=e.data;t.totalContestList=i.data}))}},{key:"reverseDefunct",value:function(){var t=y(this.$refs.defunct);"Y"===this.defunct?(this.defunct="N",t.checkbox("checked")):(this.defunct="Y",t.checkbox("unchecked"))}},{key:"visibleCallback",value:function(){this.visible=!this.visible;var t=y(this.$refs.visible);this.visible?t.checkbox("checked"):t.checkbox("unchecked")}},{key:"emitData",value:function(){var t={contestIdList:this.select1.split(","),defunct:this.defunct,description:this.description,title:this.title,visible:this.visible,contestSetId:this.contestSetId};this.$emit("postData",t)}}]),i}(Object(f["b"])(d["a"]));Object(u["c"])([Object(f["c"])({default:{}})],k.prototype,"contestSetInfo",void 0),Object(u["c"])([Object(f["c"])({default:[]})],k.prototype,"contestList",void 0),Object(u["c"])([Object(f["d"])("contestList")],k.prototype,"onContestListChanged",null),Object(u["c"])([Object(f["d"])("contestSetInfo")],k.prototype,"onContestSetInfoChanged",null),k=Object(u["c"])([f["a"]],k);var C=k,m=C,j=i("2877"),I=Object(j["a"])(m,n,s,!1,null,"c89ae980",null);e["a"]=I.exports}}]);
//# sourceMappingURL=chunk-1aee3a8c-legacy.946fe19e.js.map