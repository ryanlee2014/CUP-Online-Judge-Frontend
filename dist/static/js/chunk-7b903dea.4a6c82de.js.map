{"version":3,"sources":["webpack:///./src/mixin/init.ts","webpack:///./src/util/logger.ts","webpack:///./src/module/Decorator/method.ts","webpack:///./src/views/register.vue?8e6f","webpack:///./src/views/register.vue","webpack:///./src/views/register.vue?844f","webpack:///./src/views/register.vue?e6d9"],"names":["InitMixin","customConfig","init","this","$store","getters","homepage","document","title","emptyFunc","args","log","logFactory","prefix","decoratorLog","Debounce","wait","options","target","propertyName","propertyDescriptor","constructor","name","method","value","debounce","Interval","timer_","length","Error","apply","push","setInterval","Debuglogging","params","map","a","JSON","stringify","join","result","r","WebSocketRequest","$socket","connected","alert","Lock","lock","async","acquireAsync","resp","release","ErrorAlert","e","message","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","directives","rawName","expression","attrs","domProps","on","$event","composing","userId","nick","password","repeatPassword","confirmQuestion","confirmAnswer","inviteCode","captcha","_m","preventDefault","submit","reset","staticRenderFns","staticStyle","emptyRegisterPagePayload","validatePassword","payload","axios","post","then","data","status","$router","path","catch","reason","Object","assign","component"],"mappings":"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","file":"static/js/chunk-7b903dea.4a6c82de.js","sourcesContent":["import Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport util from \"../lib/util\";\nimport config from \"../../config/environment.json\";\n\n@Component\nexport default class InitMixin extends Vue {\n    customConfig = config;\n    mounted () {\n        util.init(this.$store.getters.homepage);\n        document.title = config.title;\n    }\n}\n","const emptyFunc = (...args: any[]) => {};\n\nconst logger = (...args: any[]) => { console.log(...args); };\n\nexport const log = process.env.NODE_ENV === \"production\" ? emptyFunc : logger;\n\nexport function logFactory (prefix: string) {\n    return function (...args: any[]) {\n        log(prefix, ...args);\n    };\n}\n","import _ from \"lodash\";\n\nimport { log, logFactory } from \"@/util/logger\";\nimport AwaitLock from \"await-lock\";\n\nconst decoratorLog = logFactory(\"Decorator mounted: \");\ninterface IPropertyDescriptor extends PropertyDescriptor {\n    timer_?: any[]\n}\n\ninterface IWebSocketPropertyDescriptor extends PropertyDescriptor {\n    $socket?: any;\n    sockets?: any;\n}\n\nexport function Debounce (wait?: number, options?: any) {\n    return function (target: any, propertyName: string, propertyDescriptor: PropertyDescriptor) {\n        decoratorLog(`debounce, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = _.debounce(method, wait, options);\n        return propertyDescriptor;\n    };\n}\n\nexport function Interval (wait = 0) {\n    return function (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n        decoratorLog(`Interval, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = function (...args: any[]) {\n            if (typeof this.timer_ === \"undefined\" || typeof this.timer_.length === \"undefined\") {\n                throw new Error(\"You should mixin TimerMixin to your component\");\n            }\n            method.apply(this, args);\n            this.timer_.push(setInterval(() => { decoratorLog(`${target.constructor.name}.${propertyName} called.`); method.apply(this, args); }, wait));\n        };\n        log(\"mounted interval\");\n    };\n}\n\nexport function Debuglogging (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n    decoratorLog(`Debuglogging, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any[]) {\n        const params = args.map(a => JSON.stringify(a)).join();\n        const result = method.apply(this, args);\n        const r = JSON.stringify(result);\n        log(`Call: ${propertyName}(${params}) => ${r}`);\n        return result;\n    };\n}\n\nexport function DebugloggingAsync (target: any, propertyName: string, propertyDescriptor: IPropertyDescriptor) {\n    decoratorLog(`DebugloggingAsync, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = async function (...args: any[]) {\n        const params = args.map(a => JSON.stringify(a)).join();\n        const result = await method.apply(this, args);\n        const r = JSON.stringify(result);\n        log(`Call: ${propertyName}(${params}) => ${r}`);\n        return result;\n    };\n}\n\nexport function WebSocketRequest (target: any, propertyName: string, propertyDescriptor: IWebSocketPropertyDescriptor) {\n    decoratorLog(`WebSocketRequest, target:${target.constructor.name}, propertyName:${propertyName}`);\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any[]) {\n        if (!this.$socket!.connected) {\n            alert(\"WebSocket服务未启动，请等待服务启动后提交\\nWebSocket服务启动标志未:\\n右上角显示在线人数\");\n            return;\n        }\n        return method.apply(this, args);\n    };\n}\n\nexport function Lock (lock: AwaitLock) {\n    return function (target: any, propertyName: string, propertyDescriptor: IWebSocketPropertyDescriptor) {\n        decoratorLog(`Lock, target:${target.constructor.name}, propertyName:${propertyName}`);\n        const method = propertyDescriptor.value;\n        propertyDescriptor.value = async function (...args: any) {\n            await lock.acquireAsync();\n            const resp = method.apply(this, args);\n            lock.release();\n            return resp;\n        };\n    };\n}\n\nexport function ErrorAlert (target: any, propertyName: string, propertyDescriptor: PropertyDescriptor) {\n    const method = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args: any) {\n        try {\n            return method.apply(this, args);\n        }\n        catch (e) {\n            alert(e.message);\n        }\n    };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container padding\"},[_c('div',{staticClass:\"html ui top attached segment\"},[_c('div',{staticClass:\"ui large form\"},[_c('h4',[_vm._v(\"根据要求，请实名注册账号，非法账号将定期删除，严重者封禁IP\")]),_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"user_id\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userId),expression:\"userId\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请填写真实学号\",\"name\":\"user_id\",\"id\":\"user_id\"},domProps:{\"value\":(_vm.userId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userId=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"nick\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nick),expression:\"nick\"}],attrs:{\"type\":\"text\",\"name\":\"nick\",\"placeholder\":\"请填写真实姓名\"},domProps:{\"value\":(_vm.nick)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nick=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"password\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"name\":\"password\",\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"必填\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"repeat password\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatPassword),expression:\"repeatPassword\"}],attrs:{\"name\":\"rptpassword\",\"id\":\"rptpassword\",\"type\":\"password\",\"placeholder\":\"必填\"},domProps:{\"value\":(_vm.repeatPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.repeatPassword=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"retrieve password question\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmQuestion),expression:\"confirmQuestion\"}],attrs:{\"name\":\"confirmquestion\",\"id\":\"confirmquestion\",\"placeholder\":\"必填\"},domProps:{\"value\":(_vm.confirmQuestion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmQuestion=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"retrieve password answer\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmAnswer),expression:\"confirmAnswer\"}],attrs:{\"name\":\"confirmanswer\",\"id\":\"confirmanswer\",\"placeholder\":\"必填\"},domProps:{\"value\":(_vm.confirmAnswer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmAnswer=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"invite code\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inviteCode),expression:\"inviteCode\"}],attrs:{\"name\":\"invite_code\",\"placeholder\":\"必填\"},domProps:{\"value\":(_vm.inviteCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inviteCode=$event.target.value}}})]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"captcha\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.captcha),expression:\"captcha\"}],attrs:{\"name\":\"vcode\",\"size\":\"4\",\"type\":\"text\"},domProps:{\"value\":(_vm.captcha)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.captcha=$event.target.value}}})]),_vm._m(0)])]),_c('button',{staticClass:\"ui primary button\",attrs:{\"type\":\"submit\",\"id\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")]),_c('button',{staticClass:\"ui button\",attrs:{\"type\":\"reset\",\"name\":\"reset\"},on:{\"click\":function($event){$event.preventDefault();return _vm.reset($event)}}},[_vm._v(\"Reset\")]),_c('div',{staticClass:\"ui error message\"}),_c('br'),_c('br')])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('label',{staticStyle:{\"opacity\":\"0\"}},[_vm._v(\"Captcha image\")]),_c('img',{attrs:{\"alt\":\"click to change\",\"src\":\"/api/captcha?from=register\",\"onclick\":\"this.src='/api/captcha?from=register&random='+Math.random()\",\"width\":\"20%\"}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport InitMixin from \"../mixin/init\";\nimport { ErrorAlert } from \"@/module/Decorator/method\";\nimport { IRegisterPagePayload, IRegisterDTO } from \"@/types/user/register\";\n\nconst emptyRegisterPagePayload: IRegisterPagePayload = {\n    confirmQuestion: \"\",\n    inviteCode: \"\",\n    nick: \"\",\n    password: \"\",\n    userId: \"\",\n    captcha: \"\",\n    repeatPassword: \"\",\n    confirmAnswer: \"\"\n};\n\n@Component\nexport default class RegisterPage extends Mixins(InitMixin) implements IRegisterPagePayload {\n    captcha: string = \"\";\n    repeatPassword: string = \"\";\n    confirmAnswer: string = \"\";\n    confirmQuestion: string = \"\";\n    inviteCode: string = \"\";\n    nick: string = \"\";\n    password: string = \"\";\n    userId: string = \"\";\n    mounted () {\n\n    }\n\n    validatePassword () {\n        if (this.password !== this.repeatPassword) {\n            throw new Error(\"两次输入的密码不一致\");\n        }\n    }\n\n    @ErrorAlert\n    submit () {\n        this.validatePassword();\n        const payload: IRegisterDTO = {\n            confirmAnswer: this.confirmAnswer,\n            confirmQuestion: this.confirmQuestion,\n            inviteCode: this.inviteCode,\n            nick: this.nick,\n            password: this.password,\n            userId: this.userId,\n            captcha: this.captcha\n        };\n        this.axios.post(\"/api/register\", payload)\n            .then(({ data }) => {\n                if (data.status === \"OK\") {\n                    alert(\"注册成功\");\n                    this.$router.push({\n                        path: \"/login\"\n                    });\n                }\n            })\n            .catch(reason => {\n                alert(JSON.stringify(reason.data));\n            });\n    }\n\n    reset () {\n        Object.assign(this, emptyRegisterPagePayload);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=351cd8ce&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=ts&\"\nexport * from \"./register.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"351cd8ce\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}