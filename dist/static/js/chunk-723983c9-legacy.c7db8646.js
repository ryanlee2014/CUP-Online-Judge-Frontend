(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-723983c9"],{3865:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"source",staticStyle:{width:"100%",height:"460px"},style:{width:"100%",height:e.height+"px",fontSize:e.fontSize+"px"},attrs:{cols:"180",rows:"20"}})},n=[],s=(a("caad"),a("2532"),a("d4ec")),c=a("bee2"),o=a("99de"),l=a("7e84"),r=a("262e"),d=a("9ab4"),p=a("c2c6"),u=a("6c54"),m=a("2b0e"),v=a("60a3"),h=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.editor=null,e.source_code="",e}return Object(r["a"])(t,e),Object(c["a"])(t,[{key:"onSourceCodeChanged",value:function(e){this.$emit("input",e)}},{key:"onValueChanged",value:function(e){e!==this.source_code&&(this.source_code=e,this.editor.getModel().setValue(e))}},{key:"onSelectedLanguageChanged",value:function(e){if(this.editor){var t=this.editor.getModel(),a=p["editor"].createModel(t.getValue(),u["a"][parseInt(e)]);this.editor.setModel(a),t&&t.dispose(),this.modelEventRegistry()}}},{key:"onThemeChanged",value:function(e){this.editor&&(e.includes("vs")||e.includes("hc-black")?p["editor"].setTheme(e):p["editor"].setTheme("vs-dark"))}},{key:"onFontSizeChanged",value:function(e){this.editor&&!isNaN(parseInt(e))&&this.editor.updateOptions({fontSize:parseInt(e)})}},{key:"onHeightChanged",value:function(e){var t=this;this.editor&&this.$nextTick((function(){t.editor.layout()}))}},{key:"mounted",value:function(){var e=this;this.$nextTick((function(){e.initEditor()}))}},{key:"initEditor",value:function(){this.editor=p["editor"].create(this.$refs.source,{value:this.value,language:u["a"][this.selected_language],minimap:{enabled:this.minimap},fontLigatures:!0,scrollBeyondLastLine:!1,readOnly:this.readOnly}),this.editor.updateOptions({fontSize:this.getFontSizeFromStorage()}),p["editor"].setTheme(this.getThemeFromStorage()),this.modelEventRegistry()}},{key:"modelEventRegistry",value:function(){var e=this,t=this.editor.getModel();t.onDidChangeContent((function(){e.source_code=e.editor.getModel().getValue(),e.$store.commit("setCodeInfo",{code:e.source_code})}))}},{key:"getDataFromStorage",value:function(e,t){var a;try{a=JSON.parse(localStorage.submitConfig)[t]}catch(i){a=e}return a}},{key:"getThemeFromStorage",value:function(){return this.getDataFromStorage("vs-dark","theme")}},{key:"getFontSizeFromStorage",value:function(){return this.getDataFromStorage(16,"fontSize")}}]),t}(m["a"]);Object(d["c"])([Object(v["c"])({default:"18"})],h.prototype,"fontSize",void 0),Object(d["c"])([Object(v["c"])({default:0})],h.prototype,"selected_language",void 0),Object(d["c"])([Object(v["c"])({default:"vs-dark"})],h.prototype,"theme",void 0),Object(d["c"])([Object(v["c"])({default:""})],h.prototype,"value",void 0),Object(d["c"])([Object(v["c"])({default:460})],h.prototype,"height",void 0),Object(d["c"])([Object(v["c"])({default:!1})],h.prototype,"readOnly",void 0),Object(d["c"])([Object(v["c"])({default:!0})],h.prototype,"minimap",void 0),Object(d["c"])([Object(v["d"])("source_code")],h.prototype,"onSourceCodeChanged",null),Object(d["c"])([Object(v["d"])("value")],h.prototype,"onValueChanged",null),Object(d["c"])([Object(v["d"])("selected_language")],h.prototype,"onSelectedLanguageChanged",null),Object(d["c"])([Object(v["d"])("theme")],h.prototype,"onThemeChanged",null),Object(d["c"])([Object(v["d"])("fontSize")],h.prototype,"onFontSizeChanged",null),Object(d["c"])([Object(v["d"])("height")],h.prototype,"onHeightChanged",null),h=Object(d["c"])([v["a"]],h);var f=h,g=f,b=a("2877"),y=Object(b["a"])(g,i,n,!1,null,"77f132be",null);t["a"]=y.exports},"6c54":function(e,t,a){"use strict";t["a"]=["cpp","cpp","pascal","java","ruby","bash","python","php","perl","csharp","objectivec","freebasic","schema","cpp","cpp","lua","javascript","go","python","cpp","cpp","cpp","kotlin","java","java","python","python","java","cpp","cpp","cpp",""]},"986d":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("4de4"),a("c975");function i(e){return e.filter((function(e,t,a){return a.indexOf(e)===t}))}},ba15:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui container padding"},[a("div",{staticClass:"ui grid"},[e._m(0),a("div",{staticClass:"two column row"},[a("div",{staticClass:"column"},[a("div",{staticClass:"ui input",staticStyle:{width:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})])]),a("div",{staticClass:"column",staticStyle:{"z-index":"1700"}},[a("select",{staticClass:"ui search dropdown label selection",attrs:{multiple:""},on:{change:function(t){e.label=e.select(".label.selection.ui.dropdown").dropdown("get value")}}},e._l(e.all_label,(function(t){return a("option",{key:t,domProps:{value:t,textContent:e._s(t)}})})),0)])]),a("div",{staticClass:"three column row"},[a("div",{staticClass:"column"},[a("div",{staticClass:"ui labeled input"},[a("div",{staticClass:"ui label"},[e._v(" Time ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],attrs:{type:"text"},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=t.target.value)}}})])]),a("div",{staticClass:"column"},[a("div",{staticClass:"ui labeled input"},[a("div",{staticClass:"ui label"},[e._v(" Memory ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.memory,expression:"memory"}],attrs:{type:"text"},domProps:{value:e.memory},on:{input:function(t){t.target.composing||(e.memory=t.target.value)}}})])]),a("div",{staticClass:"column",staticStyle:{margin:"auto"}},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.spj,expression:"spj"}],attrs:{type:"checkbox"},domProps:{checked:e.spj,checked:Array.isArray(e.spj)?e._i(e.spj,null)>-1:e.spj},on:{change:function(t){var a=e.spj,i=t.target,n=!!i.checked;if(Array.isArray(a)){var s=null,c=e._i(a,s);i.checked?c<0&&(e.spj=a.concat([s])):c>-1&&(e.spj=a.slice(0,c).concat(a.slice(c+1)))}else e.spj=n}}}),a("label",[e._v("Special Judge")])])])]),e._m(1),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"description",attrs:{markInstance:e.descriptionInstance},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("br"),e._m(2),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"input",attrs:{markInstance:e.inputInstance},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),a("br"),e._m(3),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"output",attrs:{markInstance:e.outputInstance},model:{value:e.output,callback:function(t){e.output=t},expression:"output"}})],1),a("br"),e._m(4),a("div",{staticClass:"row"},[a("div",{staticClass:"ui form",staticStyle:{"min-width":"85%"}},[a("div",{staticClass:"field"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sampleinput,expression:"sampleinput"}],domProps:{value:e.sampleinput},on:{input:function(t){t.target.composing||(e.sampleinput=t.target.value)}}})])])]),a("br"),e._m(5),a("div",{staticClass:"row"},[a("div",{staticClass:"ui form",staticStyle:{"min-width":"85%"}},[a("div",{staticClass:"field"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sampleoutput,expression:"sampleoutput"}],domProps:{value:e.sampleoutput},on:{input:function(t){t.target.composing||(e.sampleoutput=t.target.value)}}})])])]),e._m(6),a("div",{staticClass:"row"},e._l(e.files,(function(t){return a("a",{key:t,staticClass:"ui label",attrs:{href:e.makeHref(t)}},[e._v(e._s(t))])})),0),e._m(7),a("div",{staticClass:"row"},[a("div",{staticClass:"four wide column"},[a("div",{staticClass:"ui attached vertical fluid pointing menu",staticStyle:{height:"370px","overflow-y":"scroll","overflow-x":"hidden"}},[a("a",{class:0===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=0}}},[e._v("C "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("GNU C99/C11 LLVM Clang ")])]),a("a",{class:1===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=1}}},[e._v("C++ "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("GNU C++11/C++89/C++17 LLVM Clang++ ")])]),a("a",{class:2===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=2}}},[e._v("Pascal "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("fpc Pascal ")])]),a("a",{class:3===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=3}}},[e._v("Java "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" openJDK 1.6/1.7/1.8/1.10 ")])]),a("a",{class:16===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=16}}},[e._v("JavaScript "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" NodeJS 10.13.0 ")])]),a("a",{class:6===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=6}}},[e._v("Python "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" Python 2.7/3.6 PyPy2/3 ")])]),a("a",{class:9===e.prependSelected?"active item":"item",on:{click:function(t){e.prependSelected=9}}},[e._v("C# "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" Mono ")])])])]),a("div",{staticClass:"ten wide column"},[a("monaco-editor",{attrs:{selected_language:e.prependSelected},model:{value:e.prepend[e.prependSelected],callback:function(t){e.$set(e.prepend,e.prependSelected,t)},expression:"prepend[prependSelected]"}})],1)]),e._m(8),a("div",{staticClass:"row"},[a("div",{staticClass:"four wide column"},[a("div",{staticClass:"ui attached vertical fluid pointing menu",staticStyle:{height:"370px","overflow-y":"scroll","overflow-x":"hidden"}},[a("a",{class:0===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=0}}},[e._v("C "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("GNU C99/C11 LLVM Clang ")])]),a("a",{class:1===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=1}}},[e._v("C++ "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("GNU C++11/C++89/C++17 LLVM Clang++ ")])]),a("a",{class:2===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=2}}},[e._v("Pascal "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v("fpc Pascal ")])]),a("a",{class:3===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=3}}},[e._v("Java "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" OpenJDK 1.6/1.7/1.8/1.10 ")])]),a("a",{class:16===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=16}}},[e._v("JavaScript "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" NodeJS 10.13.0 ")])]),a("a",{class:6===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=6}}},[e._v("Python "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" Python 2.7/3.6 PyPy2/3 ")])]),a("a",{class:9===e.appendSelected?"active item":"item",on:{click:function(t){e.appendSelected=9}}},[e._v("C# "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[e._v(" Mono ")])])])]),a("div",{staticClass:"ten wide column"},[a("monaco-editor",{attrs:{selected_language:e.appendSelected},model:{value:e.append[e.appendSelected],callback:function(t){e.$set(e.append,e.appendSelected,t)},expression:"append[appendSelected]"}})],1)]),"local"===e.from?a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Hint ")])]):e._e(),"local"===e.from?a("div",{staticClass:"row"},[a("mavon-editor",{ref:"hint",attrs:{markInstance:e.hintInstance,test:"1"},model:{value:e.hint,callback:function(t){e.hint=t},expression:"hint"}})],1):e._e(),a("a",{staticClass:"ui button",on:{click:e.submit}},[e._v("提交")])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Title ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Description ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Input ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Output ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Sample Input ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Sample Output ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v("Files")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Prepend Code ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[e._v(" Append Code ")])])}],s=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4160"),a("a15b"),a("a9e3"),a("b64b"),a("d3b7"),a("3ca3"),a("498a"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),c=a("d4ec"),o=a("bee2"),l=a("99de"),r=a("7e84"),d=a("262e"),p=a("9ab4"),u=a("2cd4"),m=a("60a3"),v=a("ec1c"),h=a("3865"),f=a("986d"),g=a("1157"),b=a.n(g),y=b.a,C=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.title="",e.description="",e.time="",e.memory="",e.input="",e.output="",e.spj=!1,e.sampleinput="",e.sampleoutput="",e.descriptionInstance=v["a"].newInstance(),e.inputInstance=v["a"].newInstance(),e.outputInstance=v["a"].newInstance(),e.hintInstance=v["a"].newInstance(),e.hint="",e.source="local",e.from="local",e.label=[],e.all_label=[],e.prepend={},e.prependSelected=0,e.append={},e.appendSelected=0,e.files=[],e.id=null,e.select=y,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){document.title="".concat(this.$t("addproblem")," -- ").concat(document.title),this.initData()}},{key:"makeHref",value:function(e){return"/api/admin/problem/download/data/".concat(this.id,"/").concat(e)}},{key:"PrependAppendLanguage",value:function(e,t,a){var i=this,n=this[e][t];"undefined"!==typeof n&&a.forEach((function(t){i[e][t]=n}))}},{key:"generateProblemId",value:function(){return this.axios.post("/api/problem/add").then((function(e){var t=e.data;return t.data}))}},{key:"submit",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,s,c,o,l,r,d,p,u,m,v=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="local",this.PrependAppendLanguage("prepend",0,[21,13,28]),this.PrependAppendLanguage("prepend",1,[19,20,14,29]),this.PrependAppendLanguage("prepend",3,[23,24,27]),this.PrependAppendLanguage("append",3,[23,24,27]),this.PrependAppendLanguage("append",0,[21,13,28]),this.PrependAppendLanguage("append",1,[19,20,14,29]),e.next=9,this.generateProblemId();case 9:a=e.sent,i={imageData:{}},n={payload:[],problemId:a},Object.keys(this.prepend).forEach((function(e){v.prepend[e].trim().length>0&&n.payload.push({language:parseInt(e),code:v.prepend[e]})})),s={payload:[],problemId:a},Object.keys(this.append).forEach((function(e){v.append[e].trim().length>0&&s.payload.push({language:parseInt(e),code:v.append[e]})})),c=!0,o=!1,l=void 0,e.prev=18,r=this.$children[Symbol.iterator]();case 20:if(c=(d=r.next()).done){e.next=30;break}if(p=d.value,"undefined"!==typeof p.markdownIt){e.next=24;break}return e.abrupt("continue",27);case 24:u=p.$vnode.data.model,i[u.expression]=u.value,i.imageData[u.expression]=p.markdownIt.__image||{};case 27:c=!0,e.next=20;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](18),o=!0,l=e.t0;case 36:e.prev=36,e.prev=37,c||null==r.return||r.return();case 39:if(e.prev=39,!o){e.next=42;break}throw l;case 42:return e.finish(39);case 43:return e.finish(36);case 44:i.time=this.time,i.memory=this.memory,i.title=this.title,i.sampleinput=this.sampleinput,i.sampleoutput=this.sampleoutput,i.spj=Number(this.spj),i.hint=this.hint,m=this.label,i.label=Object(f["a"])(m).join(" "),this.axios.post("/api/problem/".concat(this.source,"/").concat(a),{json:i}).then((function(e){var i=e.data;"OK"===i.status&&(v.axios.get("/api/problem/".concat(t,"?id=").concat(a)),alert("提交成功"))})),this.axios.post("/api/problem/prefile/prepend",n),this.axios.post("/api/problem/prefile/append",s);case 56:case"end":return e.stop()}}),e,this,[[18,32,36,44],[37,,39,43]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"initData",value:function(){var e=this;this.axios.get("/api/problem/local/?label=true").then((function(t){var a=t.data,i=y(".label.selection.ui.dropdown");e.all_label=a.data;var n=e.label;i.dropdown({allowAdditions:!0}).on("click",(function(){e.label=i.dropdown("get value")}));for(var s=0;s<n.length;++s)i.dropdown("set selected",n[s])}))}}]),t}(Object(m["b"])(u["a"]));C=Object(p["c"])([Object(m["a"])({components:{monacoEditor:h["a"]}})],C);var _=C,S=_,k=a("2877"),j=Object(k["a"])(S,i,n,!1,null,"79bf68fe",null);t["default"]=j.exports}}]);