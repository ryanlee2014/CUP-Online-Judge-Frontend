{"version":3,"sources":["webpack:///./src/views/user/modify.vue?806f","webpack:///./src/views/user/modify.vue","webpack:///./src/views/user/modify.vue?24f6","webpack:///./src/views/user/modify.vue?cc92"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","directives","name","rawName","value","expression","attrs","_v","_s","$t","domProps","user_id","on","$event","target","composing","nick","password","newpassword","repeatpassword","school","email","confirmquestion","confirmanswer","blog","github","avatarUrl","markdownIt","model","callback","$$v","biography","preventDefault","updateInformation","reset","staticRenderFns","dirty","avatar","$store","getters","util","stringify","axios","get","then","data","Object","assign","information","status","post","$data","dispatch","alert","statement","location","reload","$nextTick","setTimeout","$Lazyload","lazyLoadHandler","$forceUpdate","refreshImage","length","val","trim","computed","component"],"mappings":"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","file":"static/js/chunk-2d0a2d96.ffaad37d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container pusher\"},[_c('div',{staticClass:\"padding\"},[_c('div',{staticClass:\"ui grid\"},[_c('div',{staticClass:\"five wide column\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"ui card\",staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"image\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.img_src),expression:\"img_src\"}],attrs:{\"id\":\"head\"}})])])])]),_c('div',{staticClass:\"eleven wide column\"},[_c('form',{attrs:{\"method\":\"post\"}},[_c('div',{staticClass:\"ui top attached block header\"},[_vm._v(_vm._s(_vm.$t(\"update information\")))]),_c('div',{staticClass:\"ui bottom attached segment\"},[_c('table',{staticStyle:{\"margin\":\"auto\",\"width\":\"100%\"}},[_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"User ID\")]),_c('div',{staticClass:\"ui disabled input\"},[_c('input',{attrs:{\"size\":\"50\",\"type\":\"text\"},domProps:{\"value\":_vm.user_id}})])]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Nick Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nick),expression:\"nick\"}],attrs:{\"name\":\"nick\",\"size\":\"50\",\"type\":\"text\"},domProps:{\"value\":(_vm.nick)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nick=$event.target.value}}})])]),_c('div',{staticClass:\"three fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Old Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"name\":\"opassword\",\"placeholder\":\"请输入密码后更改其他信息\",\"size\":\"20\",\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"New Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newpassword),expression:\"newpassword\"}],attrs:{\"name\":\"npassword\",\"size\":\"20\",\"type\":\"password\"},domProps:{\"value\":(_vm.newpassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newpassword=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Repeat New Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatpassword),expression:\"repeatpassword\"}],attrs:{\"name\":\"rptpassword\",\"size\":\"20\",\"type\":\"password\"},domProps:{\"value\":(_vm.repeatpassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.repeatpassword=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"School\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.school),expression:\"school\"}],attrs:{\"name\":\"school\",\"size\":\"30\",\"type\":\"text\"},domProps:{\"value\":(_vm.school)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.school=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"name\":\"email\",\"size\":\"30\",\"type\":\"text\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"找回密码问题\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmquestion),expression:\"confirmquestion\"}],attrs:{\"name\":\"confirmquestion\",\"size\":\"30\",\"type\":\"text\"},domProps:{\"value\":(_vm.confirmquestion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmquestion=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"找回密码答案\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmanswer),expression:\"confirmanswer\"}],attrs:{\"name\":\"confirmanswer\",\"size\":\"30\",\"type\":\"text\"},domProps:{\"value\":(_vm.confirmanswer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmanswer=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Blog\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.blog),expression:\"blog\"}],attrs:{\"name\":\"blog\",\"type\":\"text\"},domProps:{\"value\":(_vm.blog)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.blog=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"GitHub\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.github),expression:\"github\"}],attrs:{\"name\":\"github\",\"type\":\"text\"},domProps:{\"value\":(_vm.github)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.github=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"AvatarURL(可使用外链,若需要自行上传,请参考\"),_c('router-link',{attrs:{\"to\":\"/discuss/thread/15\"}},[_vm._v(\"如何使用图床\")]),_vm._v(\"并将链接贴在下面)\")],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.avatarUrl),expression:\"avatarUrl\"}],attrs:{\"name\":\"avatarUrl\",\"type\":\"text\"},domProps:{\"value\":(_vm.avatarUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.avatarUrl=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Biography(支持markdown语法)\")]),_c('mavon-editor',{attrs:{\"markInstance\":_vm.markdownIt},model:{value:(_vm.biography),callback:function ($$v) {_vm.biography=$$v},expression:\"biography\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.biography),expression:\"biography\"}],attrs:{\"name\":\"biography\",\"type\":\"text\"},domProps:{\"value\":(_vm.biography)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.biography=$event.target.value}}})],1),_c('div',{staticClass:\"fields\"},[_c('div',{staticClass:\"field\"},[_c('label'),_c('input',{staticClass:\"ui primary button\",attrs:{\"name\":\"submit\",\"type\":\"submit\",\"value\":\"Submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateInformation($event)}}})]),_c('div',{staticClass:\"field\"},[_c('label'),_c('input',{staticClass:\"ui secondary button\",attrs:{\"name\":\"reset\",\"type\":\"reset\",\"value\":\"Reset\"},on:{\"click\":function($event){$event.preventDefault();return _vm.reset($event)}}})])])])])])])])])]),_c('br'),_c('br')])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { mapGetters } from \"vuex\";\nimport util from \"../../lib/util\";\nimport mixins from \"../../mixin/init\";\nimport markdownIt from \"@/lib/markdownIt/markdownIt\";\nimport { Component, Mixins, Watch } from \"vue-property-decorator\";\n@Component({\n    computed: {\n        ...mapGetters([\"user_id\"])\n    }\n})\nexport default class UserInfoModify extends Mixins(mixins) {\n    user_id?: string;\n    blog= \"\";\n    github= \"\";\n    biography= \"\";\n    confirmquestion= \"\";\n    confirmanswer= \"\";\n    password= \"\";\n    newpassword= \"\";\n    repeatpassword= \"\";\n    dirty= false;\n    email= \"\";\n    school= \"\";\n    nick= \"\";\n    avatar= false;\n    avatarUrl= \"\";\n\n    markdownIt = markdownIt;\n\n    created () {\n        this.nick = this.$store.getters.nick;\n        this.avatar = this.$store.getters.avatar;\n        this.avatarUrl = util.stringify(this.$store.getters.avatarUrl || \"\");\n    }\n\n    mounted () {\n        this.axios.get(`/api/user/${this.user_id}`)\n            .then(({ data }) => {\n                Object.assign(this, data.data.information);\n            });\n        this.axios.get(\"/api/reset/password\")\n            .then(({ data }) => {\n                if (data.status === \"OK\") {\n                    this.confirmquestion = data.data;\n                }\n            });\n    }\n\n    updateInformation () {\n        this.axios.post(\"/api/user/update/profile\", this.$data)\n            .then(({ data }) => {\n                if (data.status === \"OK\") {\n                    this.$store.dispatch(\"NavStatus\");\n                    alert(\"更改成功\");\n                }\n                else {\n                    alert(\"服务器遇到错误: \\n\" + data.statement);\n                }\n            });\n    }\n\n    reset () {\n        location.reload();\n    }\n\n    refreshImage () {\n        if (this.dirty) {\n            this.dirty = false;\n            this.$nextTick(() => {\n                setTimeout(() => {\n                    this.$Lazyload.lazyLoadHandler();\n                    this.$forceUpdate();\n                }, 0);\n            });\n        }\n    }\n\n    @Watch(\"avatarUrl\")\n    onAvatarUrlChanged () {\n        this.refreshImage();\n    }\n\n    @Watch(\"img_src\")\n    onImageSrcChanged () {\n        this.refreshImage();\n    }\n\n    get img_src () {\n        const avatarUrl = util.stringify(this.avatarUrl);\n        if (this.avatar && !(avatarUrl.length > 0)) {\n            return `/avatar/${this.user_id}.jpg`;\n        }\n        else if (avatarUrl.length > 0) {\n            return avatarUrl;\n        }\n        else {\n            return \"https://semantic-ui.com/images/wireframe/square-image.png\";\n        }\n    }\n\n    set img_src (val: string) {\n        if (val !== this.avatarUrl) {\n            this.dirty = true;\n            this.avatarUrl = val.trim();\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modify.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modify.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./modify.vue?vue&type=template&id=e7ae044c&scoped=true&\"\nimport script from \"./modify.vue?vue&type=script&lang=ts&\"\nexport * from \"./modify.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7ae044c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}