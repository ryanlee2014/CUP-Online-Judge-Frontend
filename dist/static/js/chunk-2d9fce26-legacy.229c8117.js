(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d9fce26"],{"19dd":function(t,e,n){"use strict";n("4160"),n("d3b7"),n("4ae1"),n("25f0"),n("159b");var r=n("d4ec"),c=n("bee2"),a=n("262e"),i=n("99de"),o=n("7e84"),s=n("9ab4"),u=n("60a3"),f=n("5dbd"),l=n("2b0e");function d(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(o["a"])(t);if(e()){var c=Object(o["a"])(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(i["a"])(this,n)}}var p=function(t){Object(a["a"])(n,t);var e=d(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.timer_=[],t}return Object(c["a"])(n,[{key:"beforeDestroy",value:function(){var t=this.timer_;t.forEach((function(t){return clearInterval(t)}))}}]),n}(l["a"]);Object(s["c"])([f["b"]],p.prototype,"beforeDestroy",null),p=Object(s["c"])([u["a"]],p),e["a"]=p},"22f5":function(t,e,n){"use strict";var r=n("81ca"),c=n.n(r);c.a},"3d1f":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"ui padded borderless unstackable selectable table",attrs:{width:"90%"}},[n("thead",[n("tr",{staticClass:"toprow",attrs:{align:"center"}},[n("th",{attrs:{width:"55%"}},[t._v(t._s(t.$t("title")))]),n("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("status")))]),n("th",{attrs:{width:"7%"}},[t._v(t._s(t.$t("privilege")))]),n("th",{attrs:{width:"13%"}},[t._v(t._s(t.$t("creator")))])])]),n("tbody",t._l(t.contest_list,(function(e,r){return n("tr",{key:r,class:(r%2===0?"evenrow":"oddrow")+" "+("Y"===e.defunct?"active":"")},[n("td",[n("router-link",{attrs:{to:"/contest/"+e.contest_id}},[t._v(" "+t._s("Contest "+e.contest_id+": "+e.title)+" ")])],1),n("td",[n("p",{staticStyle:{"margin-bottom":"0.25em"},domProps:{innerHTML:t._s(t.contestTimeFormat(e))}}),n("progress-bar",{attrs:{active:t.contestIsRunning(e),color:t.progressBarColor(e),percentage:t.percentageRunning(e),size:"tiny"}})],1),n("td",[t._v(" "+t._s(e.private?t.$t("private"):t.$t("public"))+" ")]),n("td",[n("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(" "+t._s(e.user_id)+" ")])],1)])})),0)])},c=[],a=(n("99af"),n("b65f"),n("d3b7"),n("4ae1"),n("25f0"),n("d4ec")),i=n("bee2"),o=n("262e"),s=n("99de"),u=n("7e84"),f=n("9ab4"),l=n("60a3"),d=n("2b0e"),p=n("5a0c"),v=n.n(p),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],ref:"progressBarElement",class:t.progressBarClass},[n("div",{staticClass:"bar"})])},b=[],y=n("6da9"),m=n("1157"),g=n.n(m);function j(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(u["a"])(t);if(e()){var c=Object(u["a"])(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}var O=g.a,_=function(t){Object(o["a"])(n,t);var e=j(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.prevPercentage=0,t.element=null,t}return Object(i["a"])(n,[{key:"visibilityChanged",value:function(t,e){t&&this.active?this.element.progress("set active"):this.element.progress("remove active")}},{key:"updated",value:function(){this.mountFunc()}},{key:"mounted",value:function(){this.mountFunc()}},{key:"mountFunc",value:function(){null===this.element&&(this.element=O(this.$refs.progressBarElement)),this.prevPercentage!==this.percentage&&(this.element.progress({percent:this.percentage,autoSuccess:!1}),this.prevPercentage=this.percentage)}},{key:"forceUpdate",value:function(){this.prevPercentage!==this.percentage&&this.$nextTick(this.$forceUpdate)}},{key:"onSizeChange",value:function(){this.forceUpdate()}},{key:"onColorChange",value:function(){this.forceUpdate()}},{key:"onActiveChange",value:function(){this.forceUpdate()}},{key:"onPercentageChange",value:function(){this.forceUpdate()}},{key:"progressBarClass",get:function(){var t=["ui","progress"];return this.size.length>0&&t.push(this.size),this.color.length>0&&t.push(this.color),this.active&&t.push("active"),t}}]),n}(Object(l["b"])(y["a"]));Object(f["c"])([Object(l["c"])({default:""})],_.prototype,"size",void 0),Object(f["c"])([Object(l["c"])({default:""})],_.prototype,"color",void 0),Object(f["c"])([Object(l["c"])({default:!1})],_.prototype,"active",void 0),Object(f["c"])([Object(l["c"])({default:0})],_.prototype,"percentage",void 0),Object(f["c"])([Object(l["d"])("size")],_.prototype,"onSizeChange",null),Object(f["c"])([Object(l["d"])("color")],_.prototype,"onColorChange",null),Object(f["c"])([Object(l["d"])("active")],_.prototype,"onActiveChange",null),Object(f["c"])([Object(l["d"])("percentage")],_.prototype,"onPercentageChange",null),_=Object(f["c"])([l["a"]],_);var k=_,w=k,C=(n("7140"),n("2877")),R=Object(C["a"])(w,h,b,!1,null,"694edf6b",null),D=R.exports,$=n("5dbd"),Y=n("19dd");function x(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(u["a"])(t);if(e()){var c=Object(u["a"])(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}var M=function(t){Object(o["a"])(n,t);var e=x(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.current_time=v()(),t}return Object(i["a"])(n,[{key:"mounted",value:function(){this.updateCurrentTime()}},{key:"updateCurrentTime",value:function(){this.current_time=v()()}},{key:"contestTimeFormat",value:function(t){if(Object.prototype.hasOwnProperty.call(t,"_format_")&&"string"===typeof t._format_)return t._format_;var e,n;v.a.isDayjs(t.start_time)||(e=v()(t.start_time)),v.a.isDayjs(t.end_time)||(n=v()(t.end_time));var r=this.current_time;return t.isEnd||r.isAfter(n)?(t.isEnd=!0,t._format_="".concat(n.format("YYYY-MM-DD HH:mm")).concat(this.$t("end"))):r.isBefore(e)?"".concat(e.format("YYYY-MM-DD HH:mm")).concat(this.$t("start")):"".concat(e.format("YYYY-MM-DD HH:mm")," ").concat(this.$t("start"),"<br>").concat(n.format("YYYY-MM-DD HH:mm")," ").concat(this.$t("end"))}},{key:"contestIsRunning",value:function(t){var e,n;v.a.isDayjs(t.start_time)||(e=v()(t.start_time)),v.a.isDayjs(t.end_time)||(n=v()(t.end_time));var r=this.current_time;return r.isBefore(n)&&r.isAfter(e)}},{key:"progressBarColor",value:function(t){return this.contestIsRunning(t)?"green":"grey"}},{key:"percentageRunning",value:function(t){var e,n;if(!0===t.isEnd)return 100;v.a.isDayjs(t.start_time)||(e=v()(t.start_time)),v.a.isDayjs(t.end_time)||(n=v()(t.end_time));var r=this.current_time;if(r.isBefore(e))return 0;if(r.isAfter(n))return t.isEnd=!0,100;var c=r.diff(e,"second"),a=n.diff(e,"second");return Math.trunc(Math.floor(100*c/a))}}]),n}(Object(l["b"])(d["a"],Y["a"]));Object(f["c"])([Object(l["c"])({default:[]})],M.prototype,"contest_list",void 0),Object(f["c"])([Object($["d"])(1e4)],M.prototype,"updateCurrentTime",null),M=Object(f["c"])([Object(l["a"])({components:{ProgressBar:D}})],M);var P=M,S=P,T=(n("22f5"),Object(C["a"])(S,r,c,!1,null,"2e7f33de",null));e["a"]=T.exports},"5dbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"e",(function(){return v})),n.d(e,"c",(function(){return h}));n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("96cf");var r=n("1da1"),c=n("2ef0"),a=n.n(c),i=function(){},o=i;function s(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];o.apply(void 0,[t].concat(n))}}var u=s("Decorator mounted: ");function f(t,e){return function(n,r,c){u("debounce, target:".concat(n.constructor.name,", propertyName:").concat(r));var i=c.value;return c.value=a.a.debounce(i,t,e),c}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,n,r){u("Interval, target:".concat(e.constructor.name,", propertyName:").concat(n));var c=r.value;r.value=function(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if("undefined"===typeof this.timer_||"undefined"===typeof this.timer_.length)throw new Error("You should mixin TimerMixin to your component");c.apply(this,i),this.timer_.push(setInterval((function(){u("".concat(e.constructor.name,".").concat(n," called.")),c.apply(r,i)}),t))},o("mounted interval")}}function d(t,e,n){u("Debuglogging, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];var a=n.map((function(t){return JSON.stringify(t)})).join(),i=r.apply(this,n),s=JSON.stringify(i);return o("Call: ".concat(e,"(").concat(a,") => ").concat(s)),i}}function p(t,e,n){u("WebSocketRequest, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){if(this.$socket.connected){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}alert("WebSocket服务未启动，请等待服务启动后提交\nWebSocket服务启动标志未:\n右上角显示在线人数")}}function v(t){return function(e,n,c){u("Lock, target:".concat(e.constructor.name,", propertyName:").concat(n));var a=c.value;c.value=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,c,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.acquireAsync();case 2:for(n=o.length,r=new Array(n),c=0;c<n;c++)r[c]=o[c];return i=a.apply(this,r),t.release(),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})))}}function h(t,e,n){var r=n.value;n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}catch(c){alert(c.message)}}}},"6da9":function(t,e,n){"use strict";n("d3b7"),n("4ae1"),n("25f0");var r=n("d4ec"),c=n("262e"),a=n("99de"),i=n("7e84"),o=n("9ab4"),s=n("1157"),u=n.n(s),f=(n("8665"),n("60a3")),l=n("2b0e");function d(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(i["a"])(t);if(e()){var c=Object(i["a"])(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(a["a"])(this,n)}}window.$=window.jQuery=u.a;var p=function(t){Object(c["a"])(n,t);var e=d(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return n}(l["a"]);p=Object(o["c"])([f["a"]],p),e["a"]=p},7140:function(t,e,n){"use strict";var r=n("f685"),c=n.n(r);c.a},"7cf1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container padding"},[n("h2",{staticClass:"ui dividing header"},[t._v(" Contest Topic "+t._s(t.contestTopicId)+" ")]),n("div",{staticClass:"ui grid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"ui top attached segment block header"},[t._v(t._s(t.$t("description")))]),n("div",{staticClass:"ui bottom attached segment",domProps:{innerHTML:t._s(t.markdownIt.renderRaw(t.description))}})]),n("div",{staticClass:"row"},[n("ContestView",{attrs:{contest_list:t.contest_list}})],1)])])},c=[],a=(n("a4d3"),n("e01a"),n("4160"),n("d3b7"),n("4ae1"),n("25f0"),n("159b"),n("d4ec")),i=n("bee2"),o=n("262e"),s=n("99de"),u=n("7e84"),f=n("9ab4"),l=n("60a3"),d=n("2cd4"),p=n("3d1f"),v=n("ec1c");function h(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(u["a"])(t);if(e()){var c=Object(u["a"])(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}var b=function(t){Object(o["a"])(n,t);var e=h(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.contestTopicId="",t.contest_list=[],t.description="",t.markdownIt=v["a"],t}return Object(i["a"])(n,[{key:"created",value:function(){this.contestTopicId=this.$route.params.contestSetId}},{key:"mounted",value:function(){this.initData()}},{key:"initData",value:function(){var t=this;this.axios.get("/api/contestset/set/".concat(this.contestTopicId)).then((function(e){var n=e.data,r=n.data;t.description=r.description})),this.axios.get("/api/contestset/list/".concat(this.contestTopicId)).then((function(e){var n=e.data,r=n.data;r.forEach((function(t){t.user_id=t.maker})),t.contest_list=r}))}}]),n}(Object(l["b"])(d["a"]));b=Object(f["c"])([Object(l["a"])({components:{ContestView:p["a"]}})],b);var y=b,m=y,g=n("2877"),j=Object(g["a"])(m,r,c,!1,null,"c4ea5746",null);e["default"]=j.exports},"81ca":function(t,e,n){},b65f:function(t,e,n){var r=n("23e7"),c=Math.ceil,a=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?a:c)(t)}})},f685:function(t,e,n){}}]);
//# sourceMappingURL=chunk-2d9fce26-legacy.229c8117.js.map