(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81327900"],{"2eb1":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("contest-set-editor",{on:{postData:t.add}})},c=[],n=s("9ab4"),a=s("60a3"),o=s("2cd4"),l=s("837e"),d=s("fc17");let r=class extends(Object(a["b"])(o["a"],l["a"])){};r=Object(n["c"])([Object(a["a"])({components:{ContestSetEditor:d["a"]}})],r);var h=r,u=h,v=s("2877"),b=Object(v["a"])(u,i,c,!1,null,"59556166",null);e["default"]=b.exports},"837e":function(t,e,s){"use strict";s("e01a"),s("e260"),s("ddb0");var i=s("9ab4"),c=s("2b0e"),n=s("60a3");let a=class extends c["a"]{constructor(){super(...arguments),this.contestSetId="0",this.contestSetInfo={},this.contestSetList=[]}created(){this.contestSetId=this.$route.params.contestSetId}mounted(){this.initData()}initData(){this.axios.get("/api/contestset/set/"+this.contestSetId).then(({data:t})=>{this.contestSetInfo=t.data}),this.axios.get("/api/contestset/list/"+this.contestSetId).then(({data:t})=>{this.contestSetList=t.data.map(t=>t.contest_id+"")})}get contestSetEditInfo(){if(this.contestSetInfo){const t={contestset_id:parseInt(this.contestSetId),defunct:this.contestSetInfo.defunct,description:this.contestSetInfo.description,title:this.contestSetInfo.title,visible:this.contestSetInfo.visible,create_time:this.contestSetInfo.create_time};return t}return{}}add(t){this.axios.post("/api/admin/contestset/add",t).then(({data:t})=>{alert("添加成功")}).catch(t=>{alert("添加失败, 错误信息将在Console输出"),console.error(t)})}};a=Object(i["c"])([n["a"]],a),e["a"]=a},fc17:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui container padding"},[s("div",{staticClass:"ui form"},[s("div",{staticClass:"field"},[s("label",[t._v(t._s(t.$t("title")))]),s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{name:"title",placeholder:"",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"field"},[s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("div",{ref:"visible",staticClass:"ui toggle checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"visible"}],staticClass:"hidden",attrs:{tabindex:"0",type:"checkbox"},domProps:{checked:Array.isArray(t.visible)?t._i(t.visible,null)>-1:t.visible},on:{click:t.visibleCallback,change:function(e){var s=t.visible,i=e.target,c=!!i.checked;if(Array.isArray(s)){var n=null,a=t._i(s,n);i.checked?a<0&&(t.visible=s.concat([n])):a>-1&&(t.visible=s.slice(0,a).concat(s.slice(a+1)))}else t.visible=c}}}),s("label",[t._v(t._s(t.$t("visible")))])])]),s("div",{staticClass:"field"},[s("div",{ref:"defunct",staticClass:"ui toggle checkbox"},[s("input",{staticClass:"hidden",attrs:{tabindex:"0",type:"checkbox"},on:{click:t.reverseDefunct}}),s("label",[t._v(t._s(t.$t("enable")))])])])])])])]),s("div",{staticClass:"field"},[s("div",{staticClass:"field"},[s("label",[t._v(t._s(t.$t("contest list")))]),s("div",{ref:"contestList",staticClass:"ui fluid multiple search selection dropdown"},[s("input",{attrs:{type:"hidden"},on:{change:function(e){t.select1=e.target.value}}}),s("i",{staticClass:"dropdown icon"}),s("div",{staticClass:"default text"}),s("div",{staticClass:"menu"},t._l(t.totalContestList,(function(e,i){return s("div",{key:i,staticClass:"item",attrs:{"data-value":e.contest_id}},[t._v(" "+t._s("Contest"+e.contest_id+" "+e.title)+" ")])})),0)])])]),s("div",{staticClass:"field"},[s("div",{staticClass:"field"},[s("label",[t._v(t._s(t.$t("description")))]),s("mavon-editor",{ref:"description",attrs:{markInstance:t.markdownIt},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),s("div",{staticClass:"field"},[s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("button",{staticClass:"ui primary button",on:{click:t.emitData}},[t._v(" Submit ")])]),s("div",{staticClass:"field"})])])])])},c=[],n=(s("e01a"),s("e260"),s("1276"),s("ddb0"),s("9ab4")),a=s("2b0e"),o=s("60a3"),l=s("ec1c"),d=s("1157"),r=s.n(d);const h=r.a;let u=class extends(Object(o["b"])(a["a"])){constructor(){super(...arguments),this.contestIdList=[],this.defunct="N",this.description="",this.title="",this.visible=!0,this.select1="",this.totalContestList=[],this.contestSetId="",this.markdownIt=l["a"]}onContestListChanged(t){t.length>0&&(this.contestIdList=t,this.$nextTick(()=>{this.initJQuery()}))}onContestSetInfoChanged(t){t&&t.title&&t.title.length>0&&(this.visible=t.visible,this.defunct=t.defunct,this.description=t.description,this.title=t.title,t.contestset_id&&(this.contestSetId=t.contestset_id+""),this.$nextTick(()=>{this.initJQuery()}))}created(){this.contestSetId=this.$route.params.contestSetId}mounted(){this.initTotalContest(),this.initJQuery()}initJQuery(){this.$nextTick(()=>{h(this.$refs.visible).checkbox(this.visible?"check":"uncheck"),h(this.$refs.defunct).checkbox("N"===this.defunct?"check":"uncheck"),h(this.$refs.contestList).dropdown("set selected",this.contestIdList)})}initTotalContest(){this.axios.get("/api/contest/list/all").then(({data:t})=>{this.totalContestList=t.data})}reverseDefunct(){const t=h(this.$refs.defunct);"Y"===this.defunct?(this.defunct="N",t.checkbox("checked")):(this.defunct="Y",t.checkbox("unchecked"))}visibleCallback(){this.visible=!this.visible;const t=h(this.$refs.visible);this.visible?t.checkbox("checked"):t.checkbox("unchecked")}emitData(){const t={contestIdList:this.select1.split(","),defunct:this.defunct,description:this.description,title:this.title,visible:this.visible,contestSetId:this.contestSetId};this.$emit("postData",t)}};Object(n["c"])([Object(o["c"])({default:{}})],u.prototype,"contestSetInfo",void 0),Object(n["c"])([Object(o["c"])({default:[]})],u.prototype,"contestList",void 0),Object(n["c"])([Object(o["d"])("contestList")],u.prototype,"onContestListChanged",null),Object(n["c"])([Object(o["d"])("contestSetInfo")],u.prototype,"onContestSetInfoChanged",null),u=Object(n["c"])([o["a"]],u);var v=u,b=v,f=s("2877"),p=Object(f["a"])(b,i,c,!1,null,"c89ae980",null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-81327900.507e7be6.js.map