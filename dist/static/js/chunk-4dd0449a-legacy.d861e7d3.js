(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dd0449a"],{"111f":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"context":"根据管理员设置，该页面禁止进入"},"en":{"context":"According to admin setup, you don\'t have privilege to access target page"},"ja":{"context":"都合によって、このページはアクセス禁止されている"}}'),delete t.options._Ctor}},"2cd4":function(t,e,i){"use strict";var n=i("d4ec"),a=i("bee2"),s=i("99de"),c=i("7e84"),r=i("262e"),o=i("9ab4"),u=i("2b0e"),d=i("60a3"),l=i("3657"),p=i("0443"),m=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(s["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.customConfig=p,t}return Object(r["a"])(e,t),Object(a["a"])(e,[{key:"mounted",value:function(){l["a"].init(this.$store.getters.homepage),document.title=p.title}}]),e}(u["a"]);m=Object(o["c"])([d["a"]],m),e["a"]=m},"886e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui container",attrs:{id:"contest_table"}},[2===t.mode?i("ContestNotStart"):t._e(),1===t.mode?i("LoginForm"):t._e(),3===t.mode?i("contest-mode"):t._e(),4===t.mode?i("LimitHostname",{attrs:{content:t.limit_content}}):t._e(),0===t.mode?i("div",{staticClass:"padding"},[i("h2",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("contest problem set"))+" ")]),i("div",{staticClass:"ui grid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"eleven wide column"},[i("table",{staticClass:"ui basic unstackable table",attrs:{id:"problemset",width:"95%"}},[i("thead",[i("tr",{staticClass:"toprow"},[i("th",{staticStyle:{"text-align":"center"},attrs:{width:"18%"},on:{click:function(e){return t.orderBy(0)}}},[i("a",{staticStyle:{cursor:"pointer"}},[0===t.type?i("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):i("i",{staticClass:"checkmark icon",staticStyle:{opacity:"0"}}),t._v(" "+t._s(t.$t("id"))+" ")])]),i("th",{attrs:{width:"44%"},on:{click:function(e){return t.orderBy(1)}}},[i("a",{staticStyle:{cursor:"pointer"}},[1===t.type?i("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):i("i",{staticClass:"checkmark icon",staticStyle:{opacity:"0"}}),t._v(" "+t._s(t.$t("title")))])]),t.now.isAfter(t.end_time)?i("th",{attrs:{width:"10%"}}):t._e(),i("th",{staticStyle:{"text-align":"center"},attrs:{width:"16%"}},[i("a",{staticStyle:{cursor:"pointer"}},[i("span",{on:{click:function(e){return t.orderBy(2)}}},[2===t.type?i("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(" "+t._s(t.$t("accept")))])]),t._v("/"),i("a",{staticStyle:{cursor:"pointer"}},[i("span",{on:{click:function(e){return t.orderBy(3)}}},[3===t.type?i("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(t._s(t.$t("submit")))])])]),i("th",{staticStyle:{"text-align":"center"},attrs:{width:"12%"},on:{click:function(e){return t.orderBy(4)}}},[i("a",{staticStyle:{cursor:"pointer"}},[4===t.type?i("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(" "+t._s(t.$t("accept percentage")))])])])]),i("tbody",t._l(t.problem_table,(function(e,n){return i("tr",{key:n,class:1===e.ac?"positive":-1===e.ac?"negative":"",attrs:{id:"popup"+n},on:{mouseenter:function(i){return t.triggerPopup(n,e.pid)}}},[i("td",{staticClass:"center aligned"},[t._v(t._s(e.oj_name?e.oj_name:e.pid?"LOCAL ":"")+t._s(e.pid)),e.pid?i("br"):t._e(),t._v("Problem "+t._s(e.pnum+1001)+" ")]),i("td",[1===e.ac?i("i",{staticClass:"checkmark icon"}):-1===e.ac?i("i",{staticClass:"remove icon"}):i("i",{staticClass:"checkmark icon",staticStyle:{opacity:"0"}}),t.dayjs().isBefore(t.end_time)&&t.dayjs().isAfter(t.start_time)?i("router-link",{attrs:{to:"/contest/problem/"+t.cid+"/"+e.pnum},domProps:{innerHTML:t._s(t.contest(e.title,e.pnum))}}):i("router-link",{attrs:{to:"/problem/submit/"+e.pid},domProps:{innerHTML:t._s(t.contest(e.title,e.pnum))}})],1),t.now.isAfter(t.end_time)?i("td",[i("router-link",{attrs:{to:"/tutorial/"+e.pid}},[t._v(t._s(t.$t("solution")))])],1):t._e(),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.accepted)+"/"+t._s(e.submit))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s((100*e.accepted/Math.max(e.submit,1)).toString().substring(0,4))+" % ")])])})),0)])]),i("div",{staticClass:"five wide column"},[i("div",[i("ContestInfo",{attrs:{admin:t.admin,cid:t.cid,description:t.description,end_time:t.end_time,private_contest:t.private_contest,start_time:t.start_time,title:t.title}}),i("br")],1)])])])]):t._e()],1)},a=[],s=(i("a4d3"),i("e01a"),i("99af"),i("4160"),i("c975"),i("159b"),i("5530")),c=(i("96cf"),i("1da1")),r=i("d4ec"),o=i("bee2"),u=i("99de"),d=i("7e84"),l=i("262e"),p=i("9ab4"),m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[i("i",{staticClass:"ban icon"}),t._v(" 竞赛尚未开始 ")]),i("p",[t._v("请等待竞赛开始后刷新 ")])])])}],b=i("2b0e"),f=i("60a3"),v=function(t){function e(){return Object(r["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(b["a"]);v=Object(p["c"])([f["a"]],v);var h=v,y=h,j=i("2877"),O=Object(j["a"])(y,m,_,!1,null,"18109bdc",null),g=O.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",{staticClass:"ui dividing header"},[t._v("私有竞赛/作业")]),i("form",{staticClass:"ui form",attrs:{id:"contest_form",method:"post"}},[i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[t._v("请输入密码")]),i("input",{staticClass:"input-mini",attrs:{id:"contest_pass",name:"password",type:"password"}})])]),i("input",{staticClass:"ui primary button",attrs:{type:"submit"}})])])}],k=i("1157"),$=i.n(k),x=$.a,S=function(t){function e(){return Object(r["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"mounted",value:function(){var t=this;x("#contest_form").submit((function(){return t.axios.post("/api/contest/password/".concat(t.$route.params.contest_id),{password:x("#contest_pass").val()}).then((function(e){var i=e.data;"OK"===i.status?t.$parent.mode=0:alert(i.statement)})),!1}))}}]),e}(b["a"]);S=Object(p["c"])([f["a"]],S);var I=S,M=I,E=Object(j["a"])(M,C,w,!1,null,"3bb2b0fe",null),Y=E.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui raised segment"},[i("h1"),i("h2",{staticClass:"ui header",staticStyle:{"text-align":"center"}},[i("i",{staticClass:"star outline icon"}),t._v(t._s(t.$t("contest"))+" "+t._s(t.cid))]),i("h2",{staticClass:"ui header",staticStyle:{"text-align":"center"}},[t._v(t._s(t.title))]),i("p",[t._v(t._s(t.description))]),i("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("start time"))+" "+t._s(t.start_time.format("YYYY-MM-DD HH:mm:ss"))+" "),i("br"),t._v(" "+t._s(t.$t("now"))+" "),i("span",{attrs:{id:"nowdate"}},[t._v(t._s(t.now.format("YYYY-MM-DD HH:mm:ss")))]),i("br"),t._v(t._s(t.$t("end time"))+" "+t._s(t.end_time.format("YYYY-MM-DD HH:mm:ss"))+" ")]),i("div",{class:"ui top right attached label "+(t.private_contest?"red":"green")},[t._v(t._s(t.private_contest?t.$t("private"):t.$t("public"))+" ")]),i("div",{class:"ui top left attached "+(t.now.isAfter(t.end_time)?"red":t.now.isBefore(t.start_time)?"grey":"green")+" label"},[t.now.isAfter(t.end_time)?i("span",{staticClass:"red"},[t._v(t._s(t.$t("end")))]):t.now.isBefore(t.start_time)?i("span",{staticClass:"red"},[t._v("Pending")]):i("span",{staticClass:"green"},[t._v(t._s(t.$t("running")))])]),i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticClass:"row padding"},[i("div",{staticClass:"ui buttons mini"},[t.admin?i("a",{staticClass:"ui button orange",attrs:{href:"/copystatus.php?cid="+t.cid}},[t._v("判重表")]):t._e(),t.admin?i("a",{staticClass:"ui button yellow",attrs:{href:"/copymap.php?cid="+t.cid}},[t._v("判重图")]):t._e()])])])])},B=[],H=i("5a0c"),L=i.n(H),D=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.now=L()(),t}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"mounted",value:function(){var t=this;setInterval((function(){t.now=L()()}),1e3)}}]),e}(b["a"]);Object(p["c"])([Object(f["c"])({default:L()()})],D.prototype,"start_time",void 0),Object(p["c"])([Object(f["c"])({default:L()()})],D.prototype,"end_time",void 0),Object(p["c"])([Object(f["c"])({default:""})],D.prototype,"description",void 0),Object(p["c"])([Object(f["c"])({default:""})],D.prototype,"title",void 0),Object(p["c"])([Object(f["c"])({default:!1})],D.prototype,"admin",void 0),Object(p["c"])([Object(f["c"])({default:!1})],D.prototype,"private_contest",void 0),Object(p["c"])([Object(f["c"])({default:0})],D.prototype,"cid",void 0),D=Object(p["c"])([f["a"]],D);var P=D,K=P,R=Object(j["a"])(K,A,B,!1,null,"0fca7388",null),F=R.exports,J=i("d3a2"),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui negative message"},[t._m(0),i("p",[t._v(t._s(t.content))])])},T=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("i",{staticClass:"ban icon"}),t._v("访问限制")])}],z=function(t){function e(){return Object(r["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(b["a"]);Object(p["c"])([Object(f["c"])({default:""})],z.prototype,"content",void 0),z=Object(p["c"])([f["a"]],z);var q=z,G=q,Q=Object(j["a"])(G,N,T,!1,null,"1446e3db",null),U=Q.exports,V=i("2cd4"),W=i("2f62"),X=i("2ef0"),Z=i.n(X),tt=i("92f1"),et=$.a,it=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.cid=0,t.problem_table=[],t.start_time=L()(),t.end_time=L()(),t.description="",t.title="",t.now=L()(),t.problemInfo={},t.current_mode=0,t.order=1,t.type=0,t.contest_mode=!1,t.limit_content="",t.private_contest=!1,t.dayjs=L.a,t}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.cid=parseInt(this.$route.params.contest_id)}},{key:"mounted",value:function(){var t=this.$route.params.contest_id;document.title="Contest ".concat(t," -- ").concat(document.title),this.getInfo(),this.run(this.run)}},{key:"getInfo",value:function(){var t=this;(this.admin||this.contest_manager)&&this.axios.get("/api/contest/problem_info/".concat(this.cid)).then((function(e){var i=e.data;if("OK"===i.status){var n=i.data;n.forEach((function(e){return t.problemInfo[e.problem_id]=e}))}}))}},{key:"triggerPopup",value:function(t,e){var i=this.problemDetail(e);et("#popup"+t).popup({hoverable:!0,html:i}).popup("show")}},{key:"problemDetail",value:function(t){console.log("problem_id",t);var e=this.problemInfo[t];if(console.log("this.problemInfo",this.problemInfo),console.log("problemInfo",e),e){var i=e.accepted,n=e.submit,a=Math.floor(100*i/n),s=e.label,c='<div class="content">\n提交: '.concat(n," 通过:").concat(i," 通过率:").concat(a,"%\n<br>\n标签:").concat(s,"\n</div>");return c}return""}},{key:"run",value:function(t){var e=this,i=this.$route.params.contest_id,n=this;this.cid=parseInt(i),this.axios.get("/api/contest/problem/"+i).then((function(i){console.log(i);var a=i.data;if("OK"!==a.status){if(console.log(a),"Permission denied"===a.statement)return void(n.mode=1);if(101===a.error_code)return void(n.mode=2);if(a.contest_mode)return void(n.mode=3)}Z.a.forEach(a.data,(function(t){t.accepted||(t.accepted=0),t.submit||(t.submit=0)}));var s=a.limit,r=a.contest_mode;if(a.admin&&(s=null,r=!1),s&&-1===location.href.indexOf(s))return n.mode=4,void(n.limit_content="根据管理员设置的策略，本次contest请使用"+s+"访问");n.problem_table=a.data,e.problem_table.forEach(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i.title){t.next=4;break}return t.next=3,e.renderRawAsync(i.title);case 3:i.title=t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var o=a.info;n.start_time=L()(o.start_time),n.end_time=L()(o.end_time),n.title=o.title,n.contest_mode=r,n.description=o.description,n.private_contest=Boolean(o.private),"function"===typeof t&&t()}))}},{key:"detect_source",value:function(t){return t.oj_name&&"local"!==t.oj_name.toLowerCase()?t.oj_name.toLowerCase():"new"}},{key:"contest",value:function(t,e){return this.contest_mode?"Problem "+String.fromCharCode("A".charCodeAt(0)+parseInt(e)):t}},{key:"orderBy",value:function(t){var e=this;e.type===t&&(e.order=-e.order);var i=function(t,i){return e.order*(t.pnum-i.pnum)},n=function(t,i){return e.order*(t.title>i.title?1:t.title<i.title?-1:0)},a=function(t,i){return e.order*(t.submit-i.submit)},s=function(t,i){return e.order*(t.accepted-i.accepted)},c=function(t,i){var n=t.accepted/Math.max(t.submit,1),a=i.accepted/Math.max(i.submit,1);return e.order*(n-a)},r=[i,n,s,a,c];e.problem_table.sort(r[t]),e.type=t}},{key:"mode",get:function(){return this.current_mode},set:function(t){var e=t!==this.current_mode;this.current_mode=t,e&&this.run(this.run)}}]),e}(Object(f["b"])(V["a"],tt["a"]));it=Object(p["c"])([Object(f["a"])({components:{ContestNotStart:g,LoginForm:Y,ContestInfo:F,ContestMode:J["a"],LimitHostname:U},computed:Object(s["a"])({},Object(W["b"])(["admin","contest_manager"]))})],it);var nt=it,at=nt,st=Object(j["a"])(at,n,a,!1,null,"78bee713",null);e["default"]=st.exports},bc99:function(t,e,i){"use strict";var n=i("111f"),a=i.n(n);e["default"]=a.a},d3a2:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[i("i",{staticClass:"ban icon"}),t._v(t._s(t.$t("contest mode")))]),i("p",[t._v(t._s(t.$t("context")))])])},a=[],s=i("d4ec"),c=i("99de"),r=i("7e84"),o=i("262e"),u=i("9ab4"),d=i("60a3"),l=i("2b0e"),p=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["a"]);p=Object(u["c"])([d["a"]],p);var m=p,_=m,b=i("2877"),f=i("bc99"),v=Object(b["a"])(_,n,a,!1,null,"5816c0f2",null);"function"===typeof f["default"]&&Object(f["default"])(v);e["a"]=v.exports}}]);